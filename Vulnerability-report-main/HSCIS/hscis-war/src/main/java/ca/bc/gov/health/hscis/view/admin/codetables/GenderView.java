package ca.bc.gov.health.hscis.view.admin.codetables;

import ca.bc.gov.health.hscis.entity.HcdGender;
import ca.bc.gov.health.hscis.service.HscisAdminService;
import ca.bc.gov.health.hscis.view.BaseView;
import jakarta.annotation.PostConstruct;
import jakarta.ejb.EJB;
import jakarta.faces.application.FacesMessage;
import jakarta.faces.view.ViewScoped;
import jakarta.inject.Named;
import java.util.List;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

@ViewScoped
@Named("GenderView")
public class GenderView extends BaseView {

  private static final long serialVersionUID = 1L;

  private static Logger logger = LoggerFactory.getLogger(GenderView.class);

  @EJB private HscisAdminService adminService;

  private List<HcdGender> genders;
  private HcdGender selectedGender;
  private HcdGender newGender;

  @PostConstruct
  public void init() {
    refreshHGenderList();
  }

  public void refreshHGenderList() {
    genders = adminService.refreshGenderList();
  }

  public void createEmptyGenderRow() {
    newGender = new HcdGender();
  }

  /** @Update the viewed row */
  public void updateGenderRow() {
    FacesMessage message = adminService.updateGenderRow(selectedGender);
    addMessage(message);
    refreshHGenderList();
  }

  /** @Create the new Gender */
  public void createGenderRow() {
    FacesMessage message = adminService.createGenderRow(newGender);
    addMessage(message);
    refreshHGenderList();
  }

  public List<HcdGender> getGenders() {
    return genders;
  }

  public void setGenders(List<HcdGender> Genders) {
    this.genders = Genders;
  }

  public HcdGender getSelectedGender() {
    return selectedGender;
  }

  public void setSelectedGender(HcdGender selectedGender) {
    this.selectedGender = selectedGender;
  }

  public HcdGender getNewGender() {
    return newGender;
  }

  public void setNewGender(HcdGender newGender) {
    this.newGender = newGender;
  }
}
