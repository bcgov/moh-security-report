<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:outputStylesheet name="css/exportpayrollsummary.css" />
  <div class="margin-bottom-50">
    <div class="align-left">
      <p:commandButton id="backToPayrollSummary" value="Back to Payroll Summary" icon="pi pi-arrow-left" styleClass="secondary-button icon" 
                       action="#{bean.backToPayrollSummary()}" title="Back to Payroll Summary" update="@form" />
    </div>
    <div class="align-right">
      <p:commandButton id="printPayrollSummary" type="button" value="Print" styleClass="secondary-button icon" icon="pi pi-print"
                       title="Print" onclick="window.print();" immediate="true" />
      <p:commandButton id="downloadPayrollSummary" value="Download (PDF)" styleClass="secondary-button icon" icon="pi pi-file-pdf"
                       title="Download(PDF)" update="@form" rendered="false" />
    </div>
  </div>

  <div class="ui-g-4 no-margin-left no-padding-left margin-bottom-25">
    <h1>Export Summary</h1>
  </div>

  <div class="display-flex-no-wrap margin-bottom-10">
    <div class="ui-g-4 no-margin-left no-padding-left">
      <p:outputLabel class="ui-g-label" value="Date" />
      <div>
        <h:outputText id="headerDate" value="#{bean.currentDate}">
          <f:convertDateTime pattern="MMM d, yyyy" type="date" />
        </h:outputText>
      </div>
    </div>
    <div class="ui-g-4 no-margin-left">
      <p:outputLabel class="ui-g-label" value="Corp Employer" />
      <div>
        <h:outputText id="headerCorpEmp" value="#{bean.summary.employerID} #{bean.corpName}" />
      </div>
    </div>
    <div class="ui-g-4 no-margin-left">
      <p:outputLabel class="ui-g-label" value="Site Employer" />
      <div>
        <h:outputText id="headerSiteEmp" value="#{bean.summary.siteID} #{bean.siteName}" />
      </div>
    </div>
    <div class="ui-g-4 no-margin-left">
      <p:outputLabel class="ui-g-label" value="Reporting Period" />
      <div id="headerReportingPeriod" class="ui-g-field">
        <h:outputText value="#{bean.summary.reportingPeriod.fromDate}">
          <f:convertDateTime pattern="yyyy/MM/dd" type="localDate" />
        </h:outputText>
        <h:outputText value=" to " />
        <h:outputText value="#{bean.summary.reportingPeriod.toDate}">
          <f:convertDateTime pattern="yyyy/MM/dd" type="localDate" />
        </h:outputText>
      </div>
    </div>
  </div>

  <div class="margin-bottom-50">
    <p:dataTable id="exportEmployeeTable" widgetVar="tblExportEmployee" value="#{bean.summary.employeeSummaries}"
                 var="exportEmployee" sortBy="#{exportEmployee.employeeNumber}"
                 rendered="#{bean.pageMode == 'EXPORT'}">
      <f:facet name="header">
        <div class="clearfix" />
        <p:outputLabel class="ui-g-label-medium" value="Employee Payroll Summary Submitted" />
      </f:facet>
      <p:column headerText="EMPLOYEE #" sortBy="#{exportEmployee.employeeNumber}" sortOrder="asc">
        <h:outputText value="#{exportEmployee.employeeNumber}" />
      </p:column>
      <p:column headerText="DESIGNATED GROUP CODE" width="250" sortBy="#{exportEmployee.designatedGroup.designatedGroupCode}">
        <h:outputText value="#{exportEmployee.designatedGroup.designatedGroupCode}" />
      </p:column>
      <p:column headerText="CLASS CODE" width="125" sortBy="#{exportEmployee.classification.classificationCode}">
        <h:outputText value="#{exportEmployee.classification.classificationCode}" />
      </p:column>
      <p:column headerText="WAGE RATE" width="120" sortBy="#{exportEmployee.wageRate}" class="column-text-right" >
        <h:outputText value="#{exportEmployee.wageRate}" class="column-value-right" >
          <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
        </h:outputText>
      </p:column>
      <p:column headerText="REGULAR PAID HOURS" width="210" sortBy="#{exportEmployee.regularPaidHours}" class="column-text-right" >
        <h:outputText value="#{exportEmployee.regularPaidHours}" class="column-value-right" />
      </p:column>
      <p:column headerText="VACATION HOURS (YTD)" width="220" sortBy="#{exportEmployee.vacationHrsUsedInTheYear}" class="column-text-right" >
        <h:outputText value="#{exportEmployee.vacationHrsUsedInTheYear}" class="column-value-right" />
      </p:column>
    </p:dataTable>
  </div>

  <div class="ui-g-4 no-margin-left no-padding-left no-padding-bottom">
    <p:outputLabel class="ui-g-label-medium" value="Designated Group Summary Submitted" />
  </div>

  <p:accordionPanel dynamic="true" cache="false" multiple="true" widgetVar="exportDesignatedGroupSummaryPages" 
                    activeIndex="null" id="exportDesignatedGroupSummaryID">
    <p:tab title="OVERTIME">
      <p class="p-m-0">
        <p:dataTable id="exportOverTimeTable" value="#{bean.exportOverTimeList}" 
                     var="exportOverTime" sortBy="#{exportOverTime.reportedField}">
          <p:column headerText="REPORTED FIELD" width="242" sortBy="#{exportOverTime.reportedField}" sortOrder="asc">
            <h:outputText value="#{exportOverTime.reportedField}" />
          </p:column>
          <p:column headerText="A" sortBy="#{exportOverTime.groupA}"
                    rendered="#{!(bean.groupValueSumMap.get('A') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupA}" class="column-value-right">
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="B" sortBy="#{exportOverTime.groupB}"
                    rendered="#{!(bean.groupValueSumMap.get('B') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupB}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="C" sortBy="#{exportOverTime.groupC}"
                    rendered="#{!(bean.groupValueSumMap.get('C') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupC}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="D" sortBy="#{exportOverTime.groupD}"
                    rendered="#{!(bean.groupValueSumMap.get('D') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupD}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="E" sortBy="#{exportOverTime.groupE}"
                    rendered="#{!(bean.groupValueSumMap.get('E') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupE}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="F" sortBy="#{exportOverTime.groupF}"
                    rendered="#{!(bean.groupValueSumMap.get('F') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupF}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="N" sortBy="#{exportOverTime.groupN}"
                    rendered="#{!(bean.groupValueSumMap.get('N') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupN}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="P" sortBy="#{exportOverTime.groupP}"
                    rendered="#{!(bean.groupValueSumMap.get('P') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupP}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="R" sortBy="#{exportOverTime.groupR}"
                    rendered="#{!(bean.groupValueSumMap.get('R') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupR}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="S" sortBy="#{exportOverTime.groupS}"
                    rendered="#{!(bean.groupValueSumMap.get('S') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportOverTime.groupS}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="TOTAL" sortBy="#{exportOverTime.total}" width="115" class="column-text-right"
                    rendered="#{!(bean.groupValueSumMap.get('total') eq 0.00)}">
            <h:outputText value="#{exportOverTime.total}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
        </p:dataTable>
      </p>
    </p:tab>
    <p:tab title="LEAVE">
      <p class="p-m-0">
        <p:dataTable id="exportLeaveTable" widgetVar="exportLeaveTable" value="#{bean.exportLeaveList}"
                     var="exportLeave" sortBy="#{exportLeave.reportedField}">
          <p:column headerText="REPORTED FIELD" width="242" sortBy="#{exportLeave.reportedField}" sortOrder="asc">
            <h:outputText value="#{exportLeave.reportedField}" />
          </p:column>
          <p:column headerText="A" sortBy="#{exportLeave.groupA}"
                    rendered="#{!(bean.groupValueSumMap.get('A') eq 0.00)}" class="column-text-right" >
            <h:outputText value="#{exportLeave.groupA}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="B" sortBy="#{exportLeave.groupB}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('B') eq 0.00)}" >
            <h:outputText value="#{exportLeave.groupB}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="C" sortBy="#{exportLeave.groupC}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('C') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupC}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="D" sortBy="#{exportLeave.groupD}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('D') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupD}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="E" sortBy="#{exportLeave.groupE}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('E') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupE}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="F" sortBy="#{exportLeave.groupF}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('F') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupF}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="N" sortBy="#{exportLeave.groupN}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('N') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupN}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="P" sortBy="#{exportLeave.groupP}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('P') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupP}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="R" sortBy="#{exportLeave.groupR}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('R') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupR}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="S" sortBy="#{exportLeave.groupS}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('S') eq 0.00)}">
            <h:outputText value="#{exportLeave.groupS}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="TOTAL" sortBy="#{exportLeave.total}" width="115" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('total') eq 0.00)}">
            <h:outputText value="#{exportLeave.total}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
        </p:dataTable>
      </p>
    </p:tab>
    <p:tab title="ALLOWANCE">
      <p class="p-m-0">
        <p:dataTable id="exportAllowanceTable" widgetVar="exportAllowanceTable" value="#{bean.exportAllowanceList}"
                     var="exportAllowance" sortBy="#{exportAllowance.reportedField}">
          <p:column headerText="REPORTED FIELD" width="242" sortBy="#{exportAllowance.reportedField}" sortOrder="asc">
            <h:outputText value="#{exportAllowance.reportedField}" />
          </p:column>
          <p:column headerText="A" sortBy="#{exportAllowance.groupA}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('A') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupA}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="B" sortBy="#{exportAllowance.groupB}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('B') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupB}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="C" sortBy="#{exportAllowance.groupC}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('C') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupC}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="D" sortBy="#{exportAllowance.groupD}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('D') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupD}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="E" sortBy="#{exportAllowance.groupE}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('E') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupE}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="F" sortBy="#{exportAllowance.groupF}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('F') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupF}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="N" sortBy="#{exportAllowance.groupN}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('N') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupN}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="P" sortBy="#{exportAllowance.groupP}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('P') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupP}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="R" sortBy="#{exportAllowance.groupR}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('R') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupR}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="S" sortBy="#{exportAllowance.groupS}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('S') eq 0.00)}">
            <h:outputText value="#{exportAllowance.groupS}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="TOTAL" sortBy="#{exportAllowance.total}" width="115" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('total') eq 0.00)}">
            <h:outputText value="#{exportAllowance.total}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
        </p:dataTable>
      </p>
    </p:tab>
    <p:tab title="PAY">
      <p class="p-m-0">
        <p:dataTable id="exportPayTable" widgetVar="exportPayTable" value="#{bean.exportPayList}"
                     var="exportPay" sortBy="#{exportPay.reportedField}">
          <p:column headerText="REPORTED FIELD" width="242" sortBy="#{exportPay.reportedField}" sortOrder="asc">
            <h:outputText value="#{exportPay.reportedField}" />
          </p:column>
          <p:column headerText="A" sortBy="#{exportPay.groupA}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('A') eq 0.00)}">
            <h:outputText value="#{exportPay.groupA}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="B" sortBy="#{exportPay.groupB}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('B') eq 0.00)}">
            <h:outputText value="#{exportPay.groupB}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="C" sortBy="#{exportPay.groupC}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('C') eq 0.00)}">
            <h:outputText value="#{exportPay.groupC}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="D" sortBy="#{exportPay.groupD}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('D') eq 0.00)}">
            <h:outputText value="#{exportPay.groupD}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="E" sortBy="#{exportPay.groupE}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('E') eq 0.00)}">
            <h:outputText value="#{exportPay.groupE}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="F" sortBy="#{exportPay.groupF}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('F') eq 0.00)}">
            <h:outputText value="#{exportPay.groupF}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="N" sortBy="#{exportPay.groupN}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('N') eq 0.00)}">
            <h:outputText value="#{exportPay.groupN}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="P" sortBy="#{exportPay.groupP}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('P') eq 0.00)}">
            <h:outputText value="#{exportPay.groupP}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="R" sortBy="#{exportPay.groupR}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('R') eq 0.00)}">
            <h:outputText value="#{exportPay.groupR}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="S" sortBy="#{exportPay.groupS}" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('S') eq 0.00)}">
            <h:outputText value="#{exportPay.groupS}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
          <p:column headerText="TOTAL" sortBy="#{exportPay.total}" width="115" class="column-text-right" 
                    rendered="#{!(bean.groupValueSumMap.get('total') eq 0.00)}">
            <h:outputText value="#{exportPay.total}" class="column-value-right" >
              <f:convertNumber type="number" minFractionDigits="2" pattern="#0.00"/>
            </h:outputText>
          </p:column>
        </p:dataTable>
      </p>
    </p:tab>
  </p:accordionPanel> 
</ui:composition>