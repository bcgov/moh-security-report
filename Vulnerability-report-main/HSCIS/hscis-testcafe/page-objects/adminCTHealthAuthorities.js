import { Selector, t } from 'testcafe';
import { selectorById, selectorByAria } from '../helpers/selector.helper';

export default class adminCTHealthAuthorities {
    constructor () {
		this.accordionMenu = selectorById("codetablesPagesID");
        this.dataForm = selectorById("healthAuthoritiesForm");
		this.createButton = selectorById("healthAuthoritiesCreateButton");
        this.dataTable = selectorById("healthAuthoritiesTable");
        this.dataTableData = selectorById("healthAuthoritiesTable_data");
		this.dialogHeaderText = 'Update Health Authority';
		this.createDialogHeaderText = 'Create Health Authority';

		this.nameInput = selectorById("healthAuthoritiesUpdateNameText");
		this.numberInputCreate = selectorById("healthAuthoritiesCreateNumberText");
		this.nameInputCreate = selectorById("healthAuthoritiesCreateNameText");
		this.errorMessage = selectorById("healthAuthoritiesMessages");
	}
	
    codeTablesMenuOpen() {
        return this.accordionMenu.find(".ui-accordion-header.ui-helper-reset.ui-state-default.ui-state-active.ui-corner-top");
    }
	
    codeTablesMenuClosed() {
        return this.accordionMenu.find(".ui-accordion-header.ui-helper-reset.ui-state-default.ui-corner-all");
    }
	
	getDatas() {
        return this.dataTableData.find(".ui-datatable-selectable");
    }
	
	getColumnHead() {
		return selectorById("codetablesPagesID:healthAuthoritiesForm:healthAuthoritiesTable_head").child().child(0);
	}
	
	async changeOrder() {
        await t.
            click(this.getColumnHead());
    }
	
	getDatasTestRow() {
		return Selector('td').withExactText('99998').parent('tr');
	}
    
	dataDialog() {
        return Selector("span").withText(this.dialogHeaderText).parent(".ui-confirm-dialog");
    }

    dataDialogYesButton() {
        return this.dataDialog().find(".ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only");
    }
    
    dataDialogNoButton() {
        return this.dataDialog().find(".ui-confirmdialog-no");
    }

	async confirmDataDialog() {
        await t.
            click(this.dataDialogYesButton());
    }
    
    async cancelDataDialog() {
        await t.
            click(this.dataDialogNoButton());
    }

	createDataDialog() {
        return Selector("span").withText(this.createDialogHeaderText).parent(".ui-confirm-dialog");
    }

    createDataDialogYesButton() {
        return this.createDataDialog().find(".ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only");
    }
    
    createDataDialogNoButton() {
        return this.createDataDialog().find(".ui-confirmdialog-no");
    }

	async confirmCreateDataDialog() {
        await t.
            click(this.createDataDialogYesButton());
    }
    
    async cancelCreateDataDialog() {
        await t.
            click(this.createDataDialogNoButton());
    }
}