import { Selector, t } from 'testcafe';
import { selectorById, selectorByAria } from '../helpers/selector.helper';

export default class adminCTMisFunctionalCodes {
    constructor () {
		this.accordionMenu = selectorById("codetablesPagesID");
        this.dataForm = selectorById("misFunctionalCodesForm");
        this.inputSearchString = selectorById("inputSearchString");
        this.searchButton = selectorById("searchButtonGo");
		this.createButton = selectorById("misFunctionalCodesCreateButton");
        this.dataTable = selectorById("misFunctionalCodesTable");
        this.dataTableData = selectorById("misFunctionalCodesTable_data");
		this.dialogHeaderText = 'Update MIS Functional Code';
		this.createDialogHeaderText = 'Create MIS Functional Code';
		this.searchString = 'Gastrointestinal';

		this.descriptionInput = selectorById("misFunctionalCodesUpdateDescriptionText");
		this.accountInputCreate = selectorById("misFunctionalCodesCreateAccountText");
		this.descriptionInputCreate = selectorById("misFunctionalCodesCreateDescriptionText");
		this.errorMessage = selectorById("misFunctionalCodesMessages");
	}
	
    codeTablesMenuOpen() {
        return this.accordionMenu.find(".ui-accordion-header.ui-helper-reset.ui-state-default.ui-state-active.ui-corner-top");
    }
	
    codeTablesMenuClosed() {
        return this.accordionMenu.find(".ui-accordion-header.ui-helper-reset.ui-state-default.ui-corner-all");
    }
	
	getDatas() {
        return this.dataTableData.find(".ui-datatable-selectable");
    }
	
	getColumnHead() {
		return selectorById("codetablesPagesID:misFunctionalCodesForm:misFunctionalCodesTable_head").child().child(0);
	}
	
	async changeOrder() {
        await t.
            click(this.getColumnHead());
    }
	
	getDatasTestRow() {
		return Selector('td').withExactText('999999999999').parent('tr');
	}
    
	dataDialog() {
        return Selector("span").withText(this.dialogHeaderText).parent(".ui-confirm-dialog");
    }

    dataDialogYesButton() {
        return this.dataDialog().find(".ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only");
    }
    
    dataDialogNoButton() {
        return this.dataDialog().find(".ui-confirmdialog-no");
    }

	async confirmDataDialog() {
        await t.
            click(this.dataDialogYesButton());
    }
    
    async cancelDataDialog() {
        await t.
            click(this.dataDialogNoButton());
    }

	createDataDialog() {
        return Selector("span").withText(this.createDialogHeaderText).parent(".ui-confirm-dialog");
    }

    createDataDialogYesButton() {
        return this.createDataDialog().find(".ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only");
    }
    
    createDataDialogNoButton() {
        return this.createDataDialog().find(".ui-confirmdialog-no");
    }

	async confirmCreateDataDialog() {
        await t.
            click(this.createDataDialogYesButton());
    }
    
    async cancelCreateDataDialog() {
        await t.
            click(this.createDataDialogNoButton());
    }
}