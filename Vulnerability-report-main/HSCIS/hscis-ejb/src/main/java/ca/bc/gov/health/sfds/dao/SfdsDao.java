package ca.bc.gov.health.sfds.dao;

import ca.bc.gov.health.sfds.entity.Account;
import jakarta.inject.Named;
import jakarta.persistence.EntityManager;
import jakarta.persistence.NoResultException;
import jakarta.persistence.PersistenceContext;

@Named
public class SfdsDao {

  @PersistenceContext(unitName = "sfds-ejb_pu")
  private EntityManager em;

  public Account findAccountByAccountIdentifier(Object accountIdentifier) {
    try {
      return em.createNamedQuery("Account.findByAccountIdentifier", Account.class)
          .setParameter("accountIdentifier", accountIdentifier)
          .getSingleResult();
    } catch (NoResultException e) {
      return null;
    }
  }
}
