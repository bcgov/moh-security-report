package ca.bc.gov.health.hscis.dao;

import ca.bc.gov.health.hscis.entity.HcdMembership;
import jakarta.inject.Named;
import jakarta.persistence.EntityManager;
import jakarta.persistence.PersistenceContext;
import java.util.List;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

@Named
public class HscisOrgInfoDao {

  @PersistenceContext(unitName = "hscis-ejb_pu")
  private EntityManager em;

  private static Logger logger = LoggerFactory.getLogger(HscisOrgInfoDao.class);

  /**
   * Returns all memberships by user
   *
   * @param userId
   * @return
   */
  public List<HcdMembership> listMemberships(String userId) {
    return em.createNamedQuery("HcdMembership.findByUser", HcdMembership.class)
        .setParameter("userId", userId)
        .getResultList();
  }

  /**
   * Returns all memberships by corp id
   *
   * @param id
   * @return
   */
  public List<HcdMembership> listMembershipByCorpId(Object id) {
    return em.createNamedQuery("HcdMembership.findByCorp", HcdMembership.class)
        .setParameter("corpId", id)
        .getResultList();
  }
}
