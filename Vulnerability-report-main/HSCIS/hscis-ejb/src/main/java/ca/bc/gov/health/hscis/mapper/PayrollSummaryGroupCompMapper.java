package ca.bc.gov.health.hscis.mapper;

import ca.bc.gov.health.hscis.dto.PayrollSummaryGroupComp;
import ca.bc.gov.health.hscis.entity.HcdPayrollSummaryGroupComp;
import java.util.List;
import org.mapstruct.AfterMapping;
import org.mapstruct.InheritInverseConfiguration;
import org.mapstruct.Mapper;
import org.mapstruct.Mapping;
import org.mapstruct.MappingTarget;

@Mapper(componentModel = "cdi")
public interface PayrollSummaryGroupCompMapper {

  @Mapping(target = "id", source = "hcdPaysumGcId")
  // Just copy SummaryPk fields
  @Mapping(target = "summary.employerID", source = "corporateEmployerNumber")
  @Mapping(target = "summary.siteID", source = "siteEmployerNumber")
  @Mapping(target = "summary.reportingPeriod.fromDate", source = "reportingFrom")
  @Mapping(target = "summary.reportingPeriod.toDate", source = "reportingTo")
  @Mapping(target = "designatedGroup", source = "designatedGroup")
  @Mapping(target = "hscisid", source = "hcdMembership.hscisId")
  // All other fields are default
  @Mapping(target = "allOtherPaidLeaves")
  @Mapping(target = "callBack15")
  @Mapping(target = "callBack2")
  @Mapping(target = "casualStatHolVacationPay")
  @Mapping(target = "compassionateLeave")
  @Mapping(target = "cpp")
  @Mapping(target = "dental")
  @Mapping(target = "difficultToFillUnitPremium")
  @Mapping(target = "educationLeave")
  @Mapping(target = "ei")
  @Mapping(target = "employerPaidUnionBusiness")
  @Mapping(target = "extendedHealth")
  @Mapping(target = "groupLifeAdd")
  @Mapping(target = "homeSupportHolLieuPay")
  @Mapping(target = "isolationAllowance")
  @Mapping(target = "juryDuty")
  @Mapping(target = "liveInPay")
  @Mapping(target = "longTermDisability")
  @Mapping(target = "maternityLeaveSebPlan")
  @Mapping(target = "mealAllowance")
  @Mapping(target = "msp")
  @Mapping(target = "onCallDifferentials")
  @Mapping(target = "onCallMealPeriods")
  @Mapping(target = "otherOvertime15")
  @Mapping(target = "otherOvertime2")
  @Mapping(target = "otherPremiumsAllowances")
  @Mapping(target = "overnightPay")
  @Mapping(target = "overtimeInsuffNotice15")
  @Mapping(target = "overtimeInsuffNotice2")
  @Mapping(target = "paidLeaveWhileOnWcb")
  @Mapping(target = "paidStatutoryHolidays")
  @Mapping(target = "payRelievingHigherPosition")
  @Mapping(target = "pensionPlanRrsp")
  @Mapping(target = "premPayHrsWorkedStat15")
  @Mapping(target = "premPayHrsWorkedStat2")
  @Mapping(target = "premPayHrsWorkedStat25")
  @Mapping(target = "primaryRate")
  @Mapping(target = "qualificationDifferentials")
  @Mapping(target = "regDayOffOvertime15")
  @Mapping(target = "regDayOffOvertime2")
  @Mapping(target = "regWorkDayOvertime15")
  @Mapping(target = "regWorkDayOvertime2")
  @Mapping(target = "respPaySpecialAllowances")
  @Mapping(target = "retroAndLumpSumPayout")
  @Mapping(target = "severanceAllowancePaid")
  @Mapping(target = "shiftPremiumsEvenings")
  @Mapping(target = "shiftPremiumsNights")
  @Mapping(target = "shiftPremiumsWeekends")
  @Mapping(target = "sickLeaveBank")
  @Mapping(target = "sickLeaveCashPayout")
  @Mapping(target = "sickLeavePaid")
  @Mapping(target = "specialLeave")
  @Mapping(target = "superShiftPremium")
  @Mapping(target = "superannuation")
  @Mapping(target = "telephoneConsultationPay")
  @Mapping(target = "timeOffInLieuCto")
  @Mapping(target = "totalOvertime15")
  @Mapping(target = "totalOvertime2")
  @Mapping(target = "travelAllowance")
  @Mapping(target = "uniformAllowance")
  @Mapping(target = "wcb")
  @Mapping(target = "lastModifiedBy")
  PayrollSummaryGroupComp toDto(HcdPayrollSummaryGroupComp entity);

  List<PayrollSummaryGroupComp> toDtos(List<HcdPayrollSummaryGroupComp> entities);

  @AfterMapping
  default void setLastModified(
      @MappingTarget PayrollSummaryGroupComp dto, HcdPayrollSummaryGroupComp entity) {

    // Set the last modified on
    if (entity.getLastModifiedOn() != null) {
      dto.setLastModified(entity.getLastModifiedOn());
    } else {
      dto.setLastModified(entity.getCreatedOn());
    }
  }

  @InheritInverseConfiguration
  HcdPayrollSummaryGroupComp toEntity(
      PayrollSummaryGroupComp dto, @MappingTarget HcdPayrollSummaryGroupComp entity);
}
