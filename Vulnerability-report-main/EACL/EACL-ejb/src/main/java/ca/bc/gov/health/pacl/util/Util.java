/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.pacl.util;

import java.util.logging.Logger;
import org.apache.commons.lang3.RandomStringUtils;

/**
 * Global utility methods.
 * @author dan.stepanov
 */
public class Util {

    private static Logger logger = Logger.getLogger(Util.class.getName());
    /**
     * Utility method which checks if a string is not null or not blank.
     *
     * @param String s
     * @return boolean
     */
    public static boolean notEmpty(String s) {
        return (s != null && !s.equals(""));
    }

    /**
     * Utility validation method which verifies mod check algorithm for PHNs.
     * @param phn String - input PHN value from the screen
     *
     * @return boolean
     */
    public static boolean modCheck(String phn) {

        int[] PHNsigDigits = {2, 4, 8, 5, 10, 9, 7, 3};
        int checksum = 0;

        if (phn == null || phn.length() != 10 || phn.charAt(0) != '9') {
            return false;
        } else {
            for (int i = 1; i < 9; i++) {
                int digit = Character.getNumericValue(phn.charAt(i));
                checksum += (digit * PHNsigDigits[i - 1]) % 11;
            }
            checksum = 11 - checksum % 11;
            if (Character.getNumericValue(phn.charAt(9)) != checksum) {
                return false;
            }
        }
        return true;
    }
    
    /**
     * 
     * @return random uppercase case code
     */
    public static String generateCaseCode() {
        return RandomStringUtils.random(5, true, false).toUpperCase();
    }

}
