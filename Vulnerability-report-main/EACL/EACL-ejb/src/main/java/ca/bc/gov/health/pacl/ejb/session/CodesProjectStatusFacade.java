/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.pacl.ejb.session;

import ca.bc.gov.health.pacl.ejb.entity.CodesProjectStatus;
import jakarta.ejb.Stateless;
import jakarta.persistence.EntityManager;
import jakarta.persistence.PersistenceContext;
import java.util.List;

/**
 *
 * @author Dan.Stepanov
 */
@Stateless
public class CodesProjectStatusFacade extends AbstractFacade<CodesProjectStatus> implements CodesProjectStatusFacadeLocal {

    /**
     * New instance for EntityManager class.
     */
    @PersistenceContext(unitName = "PACLPU")
    private EntityManager em;

    /**
     * Gets the local instance of the {@link EntityManager} class.
     * @return entity Manager
     */
    @Override
    protected EntityManager getEntityManager() {
        return em;
    }

    /**
     * Default constructor.
     */
    public CodesProjectStatusFacade() {
        super(CodesProjectStatus.class);
    }
    
    @Override
    public CodesProjectStatus findById(Long id) {       
        List<CodesProjectStatus> result =  em.createNamedQuery("CodesProjectStatus.findById").setParameter("id", id).getResultList();

        return result.get(0);
    }
    
    @Override
    public List<CodesProjectStatus> findSvaProjectStatus() {       
        List<CodesProjectStatus> result =  em.createNamedQuery("CodesProjectStatus.findProjectSvaStatus").getResultList();

        return result;
    }

    /**
     * Retrieve the project Status record by name.
     *
     * @param name String - project status name
     *
     * @return CodesProjectStatus record
     */
    @Override
    public CodesProjectStatus findByName(String name) {       
        List<CodesProjectStatus> result =  em.createNamedQuery("CodesProjectStatus.findByName").setParameter("name", name).getResultList();

        return result != null && !result.isEmpty() ? result.get(0) : null;
    }

}
