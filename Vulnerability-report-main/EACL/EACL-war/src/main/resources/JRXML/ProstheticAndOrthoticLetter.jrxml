<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Blank_Letter" pageWidth="612" pageHeight="792" columnWidth="555" leftMargin="30" rightMargin="10" topMargin="20" bottomMargin="20" uuid="8808b2c9-4434-4aef-929a-b9a1ed3df8b9">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="New Data Adapter 1"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="graphicSignature" class="java.io.ByteArrayInputStream" isForPrompting="false"/>
	<parameter name="logo" class="java.io.ByteArrayInputStream" isForPrompting="false"/>
	<parameter name="mainSection" class="java.lang.String" isForPrompting="false"/>
	<parameter name="ministryName" class="java.lang.String" isForPrompting="false"/>
	<parameter name="departmentName" class="java.lang.String" isForPrompting="false"/>
	<parameter name="branchName" class="java.lang.String" isForPrompting="false"/>
	<parameter name="ministryAddress" class="java.lang.String" isForPrompting="false"/>
	<parameter name="surveyOnly" class="java.lang.String" isForPrompting="false"/>
	<parameter name="projectYear" class="java.lang.String" isForPrompting="false"/>
	<parameter name="projectMonth" class="java.lang.String" isForPrompting="false"/>
	<parameter name="projectName" class="java.lang.String" isForPrompting="false"/>
	<parameter name="closingRemark" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="senderName" class="java.lang.String" isForPrompting="false"/>
	<parameter name="footerSection" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="senderPosition" class="java.lang.String" isForPrompting="false"/>
	<parameter name="guardianSignature" class="java.lang.String" isForPrompting="false"/>
	<parameter name="contactPhoneNumber" class="java.lang.String" isForPrompting="false"/>
	<parameter name="numberOfLetters" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="subreportsDir" class="java.lang.String" isForPrompting="false"/>
	<queryString language="SQL">
		<![CDATA[]]>
	</queryString>
	<field name="caseCode" class="java.lang.String">
		<fieldDescription><![CDATA[caseCode]]></fieldDescription>
	</field>
	<field name="letterDate" class="java.util.Date">
		<fieldDescription><![CDATA[letterDate]]></fieldDescription>
	</field>
	<field name="pharmacyProviderCode" class="java.lang.String">
		<fieldDescription><![CDATA[pharmacyProviderCode]]></fieldDescription>
	</field>
	<field name="pharmacyProviderName" class="java.lang.String">
		<fieldDescription><![CDATA[pharmacyProviderName]]></fieldDescription>
	</field>
	<field name="recipientAddress" class="java.lang.String">
		<fieldDescription><![CDATA[recipientAddress]]></fieldDescription>
	</field>
	<field name="recipientBirthday" class="java.util.Date">
		<fieldDescription><![CDATA[recipientBirthday]]></fieldDescription>
	</field>
	<field name="recipientCity" class="java.lang.String">
		<fieldDescription><![CDATA[recipientCity]]></fieldDescription>
	</field>
	<field name="recipientCountry" class="java.lang.String">
		<fieldDescription><![CDATA[recipientCountry]]></fieldDescription>
	</field>
	<field name="recipientFirstName" class="java.lang.String">
		<fieldDescription><![CDATA[recipientFirstName]]></fieldDescription>
	</field>
	<field name="recipientLastName" class="java.lang.String">
		<fieldDescription><![CDATA[recipientLastName]]></fieldDescription>
	</field>
	<field name="recipientPostalCode" class="java.lang.String">
		<fieldDescription><![CDATA[recipientPostalCode]]></fieldDescription>
	</field>
	<field name="recipientProvince" class="java.lang.String">
		<fieldDescription><![CDATA[recipientProvince]]></fieldDescription>
	</field>
	<field name="barcode" class="java.lang.Long">
		<fieldDescription><![CDATA[barcode]]></fieldDescription>
	</field>
	<field name="prostheticsAndOrthoticsList" class="java.util.List">
		<fieldDescription><![CDATA[prostheticsAndOrthoticsList]]></fieldDescription>
	</field>
	<field name="barCode" class="java.awt.Image">
		<fieldDescription><![CDATA[barCode]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="80" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<textField>
				<reportElement x="0" y="20" width="160" height="15" uuid="de2659b9-e0fa-46f4-a65f-c67274eabab8">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{ministryName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="35" width="160" height="15" uuid="2a588534-b7b0-4580-8453-50607e991879">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{departmentName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="50" width="160" height="15" uuid="e00d2261-fd43-4b55-a176-f0ae962245b2">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{branchName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="419" y="30" width="135" height="35" uuid="a71e6b25-1121-46b1-90ce-ae240c8a31aa"/>
				<textElement textAlignment="Right" markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{ministryAddress}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="78" width="555" height="1" uuid="5e4e7417-b80c-4480-8aee-c7866752d3dc">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<image isUsingCache="true">
				<reportElement x="238" y="17" width="70" height="60" uuid="3e120adf-990e-4673-9796-eb8bc0b75deb"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="205" y="0" width="144" height="12" uuid="92d7f568-8727-4e7c-b18a-76d00603c1f1">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[For Internal Office Use:]]></text>
			</staticText>
			<image hAlign="Right">
				<reportElement x="349" y="0" width="205" height="26" uuid="2f4cdc56-5a04-4bd4-8f58-d75ed1fa1196">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<imageExpression><![CDATA[$F{barCode}]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band height="177" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField isStretchWithOverflow="true">
				<reportElement key="" stretchType="RelativeToTallestObject" x="0" y="142" width="555" height="15" uuid="8002d718-5a08-44b1-bdb4-0091730eb3f2">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html"/>
				<textFieldExpression><![CDATA[$P{mainSection}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="110" y="0" width="444" height="16" uuid="ca91d27f-52e6-4648-a95d-7005c5c605b6"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA["Project " + $P{projectName} + "  "+ $P{projectMonth} + "-" + $P{projectYear} + " " + 
($F{pharmacyProviderCode} != null ? $F{pharmacyProviderCode}.replaceFirst("([A-Z])+([0-9])+", "") : "")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="340" y="18" width="214" height="16" uuid="0003454e-3a93-40df-a92a-1a8dce2f3c94">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{surveyOnly}]]></textFieldExpression>
			</textField>
                        <textField>
				<reportElement x="490" y="38" width="64" height="20" uuid="c0b70768-f026-4bad-8fed-d462524b4987"/>
				<textElement textAlignment="Right" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[$F{caseCode}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="415" y="38" width="71" height="20" uuid="bbbe1fde-8aad-4a79-a72f-18e8b66962e5"/>
				<textElement textAlignment="Right" verticalAlignment="Top"/>
				<text><![CDATA[Case Code: ]]></text>
                        </staticText>
			<textField>
				<reportElement x="10" y="10" width="125" height="16" uuid="fc99a4b3-88d5-4cca-9ad0-e2fc80f8aa0b">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format($F{letterDate})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="127" width="293" height="15" uuid="f5daedaa-dafe-4791-8d70-5ed91303d20d">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA["Dear " + $F{recipientFirstName} + " " + $F{recipientLastName} + ":"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="0" y="158" width="474" height="16" uuid="3a772168-2d51-4445-a904-d685587a74d1">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font fontName="SansSerif"/>
				</textElement>
				<textFieldExpression><![CDATA["F<span style=\"font-size:8pt\">OR MEDICAL DEVICE PROVIDED TO YOU AT: </span>" + $F{pharmacyProviderName}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="501" y="158" width="54" height="16" uuid="e84aca4d-b61f-480e-8d38-4f84cbb5158a">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Correct?]]></text>
			</staticText>
			<textField>
				<reportElement x="21" y="30" width="301" height="70" uuid="5c166fa5-5686-476a-8a01-a6d58f4e3cc9">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Bottom"/>
				<textFieldExpression><![CDATA[$F{recipientFirstName} + " " + $F{recipientLastName} + "\n" +
$F{recipientAddress}]]></textFieldExpression>
			</textField>
		</band>
		<band height="36" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="554" height="35" uuid="3efdc54b-f15b-43a9-bf57-fa8ccdd3a7f3">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{prostheticsAndOrthoticsList})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{subreportsDir} + ("".equals($P{subreportsDir})? "" : "/") + "ProstheticsAndOrthotics.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="88" splitType="Immediate">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement key="" positionType="Float" x="0" y="23" width="70" height="15" uuid="f14b7708-9f8c-4e86-b8e9-cc60446a2df4">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<text><![CDATA[Sincerely,]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="1" y="0" width="554" height="1" isRemoveLineWhenBlank="true" uuid="5100e92e-7661-4645-9d34-52bece01349d">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[($P{closingRemark} != null) && (!"".equals($P{closingRemark}.trim()))]]></printWhenExpression>
				</reportElement>
				<textElement markup="html"/>
				<textFieldExpression><![CDATA[$P{closingRemark}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="1" y="5" width="554" height="15" isRemoveLineWhenBlank="true" uuid="7f5971bf-78b3-4546-8737-a74f237c74ba">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement markup="html"/>
				<textFieldExpression><![CDATA[$P{footerSection}.replaceAll("<CASE_CODE>", $F{caseCode})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="0" y="58" width="178" height="26" uuid="bff6f0ba-197e-4e78-9255-5d2d69578643">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement markup="html"/>
				<textFieldExpression><![CDATA[$P{senderPosition}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="178" y="62" width="201" height="23" uuid="a8e12589-ad5f-4d9b-b1b9-76d101fb3dbb">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{guardianSignature}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="178" y="60" width="201" height="1" uuid="c086ab99-a7b7-4283-8f83-70b6f2557cbf">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement positionType="Float" x="386" y="60" width="167" height="1" uuid="012dcfd5-047f-4471-bd99-0a333aba4035">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
				</reportElement>
			</line>
			<textField>
				<reportElement positionType="Float" x="387" y="62" width="167" height="23" uuid="b5fdc8bc-fae7-4f60-be98-c476a6a4dd1a">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{contactPhoneNumber}]]></textFieldExpression>
			</textField>
			<break>
				<reportElement positionType="FixRelativeToBottom" x="0" y="87" width="100" height="1" uuid="9abc6471-6f63-4bf4-b7fb-dd7f88c57456">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<printWhenExpression><![CDATA[$P{numberOfLetters} > $V{PAGE_NUMBER}]]></printWhenExpression>
				</reportElement>
			</break>
			<image scaleImage="FillFrame" isUsingCache="true" onErrorType="Blank">
				<reportElement positionType="Float" x="1" y="41" width="132" height="17" uuid="652a726d-1921-4688-b29c-691caf9dafa5"/>
				<imageExpression><![CDATA[$P{graphicSignature}]]></imageExpression>
			</image>
		</band>
	</detail>
	<pageFooter>
		<band height="47">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField>
				<reportElement key="" x="419" y="33" width="135" height="12" uuid="23c1dbf6-8103-47ff-b5b0-c58be015b154">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{barcode}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="" x="275" y="33" width="144" height="12" uuid="d7641ea8-0d42-432e-9a40-91063e4d30f1">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[For Internal Office Use:]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="0" y="0" width="556" height="30" uuid="a40bcac2-6e28-42b2-91d5-4404df9770ad">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="7"/>
				</textElement>
				<text><![CDATA[This information is collected by the Ministry of Health under 26(c) of the Freedom of Information and Protection of Privacy Act and will be used to review and audit drug benefit claims. Should you have any questions about the collection of this personal information please contact: Freedom of Information Request, PO Box 9569, Stn Prov Govt, Victoria, BC V8W 9K1 Phone 250-387-1321 Fax 250-387-9843 Email: FOI.Requests@gov.bc.ca]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
