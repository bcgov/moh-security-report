package mid.selenium.functional.util;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Comparator;
import java.util.Date;

/**
 *
 * @author CGI Information Management Consultants Inc.
 */
public class ConvertStringToDateComparator implements Comparator {

    private final SimpleDateFormat dtParser;

    public ConvertStringToDateComparator(String format) {
        dtParser = new SimpleDateFormat(format);
    }

    @Override
    public int compare(Object o1, Object o2) {
        Date first;
        Date second;        

        if ((o1 == null || o1.toString().isEmpty()) && (o2 == null || o2.toString().isEmpty())) {
            return 0;
        } else if (o1 == null || o1.toString().isEmpty()) {
            return -1;
        } else if (o2 == null || o2.toString().isEmpty()) {
            return 1;
        }

        try {
            first = dtParser.parse(o1.toString());
            second = dtParser.parse(o2.toString());
        } catch (ParseException pe) {
            throw new IllegalArgumentException(pe);
        }

        return first.compareTo(second);
    }
}
