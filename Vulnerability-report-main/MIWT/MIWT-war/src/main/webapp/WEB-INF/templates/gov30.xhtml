<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      lang="en">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta http-equiv="Content-Style-Type" content="text/css"/>
        <meta http-equiv="Content-Script-Type" content="text/javascript"/>
        <meta http-equiv="X-UA-Compatible" content="IE=8,9,10,Edge"/>
        <meta name="viewport" content="width=device-width"/>

        <ui:insert name="miwtMetaData"/>

        <title>
            <ui:insert name="title">Medical Imaging Wait Times</ui:insert>
        </title>
        <script language="javascript">
            function maxCheck(field) {
                var theId = field.name + '_maxlength';
                var msgNode = document.getElementById(theId);
                if (field.value.length == field.maxLength) {
                    if (msgNode == null) {
                        msgNode = document.createElement('span');
                        msgNode.id = theId;
                        msgNode.className = 'lengthWarn';
                        msgNode.innerHTML = 'Maximum field length (' + field.maxLength + ') reached';
                        field.parentNode.appendChild(msgNode);
                    }
                } else {
                    if (msgNode != null) {
                        msgNode.parentNode.removeChild(msgNode);
                    }
                }
                return true;
            }
        </script>    
        <link rel="shortcut icon"
              href="#{facesContext.externalContext.requestContextPath}/resources/templateImages/favicon.ico"
              type="image/x-icon"/>

        <h:outputStylesheet name="css/normalize.css"/>
        <!-- Force a one-time CSS refresh with a garbage request parameter to pick up latest changes; required due to 30-day resource caching -->
        <h:outputStylesheet name="css/gov30.css?rnd=1234" /> 
        <h:outputStylesheet name="css/miwt.css"/>

        <h:outputScript library="primefaces" name="jquery/jquery.js"/>
    </h:head>
    <h:body class="miwt gov30">
        <header id="header">
            <div style="#{HeaderID.bkColor()}">
                <h:form class="container">
                    <div id="logo">
                        <h:link outcome="Index">
                            <h:graphicImage name="images/logo-removebg.png" width="154" alt="BC Government Logo"/>
                            MIWT
                            <h:outputText class="container" id="environment" rendered="#{HeaderID.isProdEnv()}" style="padding-left: 5px;" value="- #{HeaderID.environmentLocationValue}"/>
                        </h:link>
                    </div>
                    <div class="links">

                        <!-- Project 27588 Remove these links (as well as the Main Index link), and leave only the ‘Sign Out’ link. 
                       <a href="http://www.gov.bc.ca/mainindex" class="signout">Main Index</a>

                       <a href="http://www.gov.bc.ca/help" class="signout">Help</a>
                       <a href="http://www.gov.bc.ca/contact" class="signout">Contact Us</a>  -->
                        <h:commandLink action="#{Logout.logout}" class="signout" value="Sign out" onclick="return confirmExit()"/>
                    </div>
                </h:form>
            </div>
        </header>

        <p:growl id="timeoutWarningGrowl" for="timeoutMessages" widgetVar="timeoutWarning" showDetail="true" sticky="true"/>
        <p:remoteCommand name="extendSession" global="false" actionListener="#{SessionTimeout.extendSession}"/>
        <p:remoteCommand name="endSession" global="false" actionListener="#{SessionTimeout.endSession}"/>

        <div class="navbar" id="navbar">
            <ui:include src="/WEB-INF/templates/navigation.xhtml"/>
        </div>

        <div class="main container">
            <ui:insert name="body"/>
        </div>

        <footer class="footer">
            <div class="container">
                <ul class="nav">
                    <li>
                        <b>
                            Application Version:
                            <f:loadBundle basename="application" var="app"/>
                            <h:outputText value="#{app.version}"/>
                        </b>
                    </li>
                    <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/disclaimer">Disclaimer</a></li>
                    <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/privacy">Privacy</a></li>
                    <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/accessibility">Accessibility</a>
                    </li>
                    <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/copyright">Copyright</a></li>
                </ul>
            </div>
        </footer>

        <h:outputScript name="js/common.js"/>
        <!-- <h:outputScript name="js/primefaces.js"/>-->
    </h:body>
</html>