package ca.bc.gov.health.mid.web;

import ca.bc.gov.health.mid.ejb.entity.HealthAuthority;
import jakarta.enterprise.context.SessionScoped;
import jakarta.inject.Named;
import java.io.Serializable;
import java.util.HashSet;
import java.util.Set;

/**
 * Session bean to store User's info
 *
 * @author CGI Information Management Consultants Inc.
 */
@Named("User")
@SessionScoped
public class User implements Serializable {

    private String userName;
    private String email;
    private HealthAuthority healthAuthority;
    private Set<String> roles;

    public User() {
        this.userName = "";
        this.email = "";
        this.healthAuthority = null;
        this.roles = new HashSet<>();
    }

    public boolean isHaUser() {
        return healthAuthority != null;
    }

    public String getHaCode(String role) {
        String haCode = null;

        if (role.contains("FRASER")) {
            haCode = "FHA";
        } else if (role.contains("INTERIOR")) {
            haCode = "IHA";
        } else if (role.contains("NORTHERN")) {
            haCode = "NHA";
        } else if (role.contains("VAN_COSTL")) {
            haCode = "VCHA";
        } else if (role.contains("VAN_ISLD")) {
            haCode = "VIHA";
        } else if (role.contains("PHSA")) {
            haCode = "PHSA";
        }

        return haCode;
    }
    
    public String getUserName() {
        return userName;
    }

    public void setUserName(String userName) {
        this.userName = userName;
    }

    public Set<String> getRoles() {
        return roles;
    }

    public void setRoles(Set<String> roles) {
        this.roles = roles;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public HealthAuthority getHealthAuthority() {
        return healthAuthority;
    }

    public void setHealthAuthority(HealthAuthority healthAuthority) {
        this.healthAuthority = healthAuthority;
    }
}
