<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <div class="row hidden-xs ">
        <div class="col-sm-16" style="padding-left: 0px; padding-right:0px">
            <div class="find-by-proc-step proc-step-active proc-step-first">
                <p:commandLink value="STEP 1. Age Group: #{findByProcedure.age}" update=":dialogForm:dialogPanel" >
                    <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep1.xhtml')}" />
                </p:commandLink>
                <div class="status-bar-blue" />
            </div>
        </div>
        <div class="col-sm-16" style="padding-left: 0px; padding-right:0px">
            <div class="find-by-proc-step proc-step-active" >
                <h:outputText value="STEP 2. Body Area: #{findByProcedure.bodyArea}" />
                <div class="status-bar-blue" />
            </div> 
        </div>
        <div class="col-sm-16" style="padding-left: 0px; padding-right:0px">
            <div class="find-by-proc-step proc-step-last" >
                <h:outputText value="STEP 3. Name of Procedure" />
                <div class="status-bar-grey" />
            </div> 
        </div> 
    </div>

    <h3 style="text-align: center; border-top: none">Now, which type of surgery is required?</h3>

    <div class="row procedure-search-row">
        <div class="col-sm-4 hidden-xs" style="margin-top:150px;">
            <p:commandLink update=":dialogForm:dialogPanel">
                <h:graphicImage name="images/back-arrow.png"/>
                <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep2.xhtml')}" />
            </p:commandLink>
        </div>
        <div class="col-sm-13 col-xs-22 proc-panel-body-column hidden-xs">
            <c:choose>
                <c:when test="#{findByProcedure.bodyArea.equals(findByProcedure.SPINE)}">
                    <h:graphicImage name="images/back-spine.png" alt="Back of body - Human body silhouette" style="margin-right: 37px"/>
                </c:when>
                <c:when test="#{findByProcedure.bodyArea.equals(findByProcedure.FULL)}">
                    <h:graphicImage name="images/body-full-blue.png" alt="Full body - Human body silhouette" style="margin-right: 37px"/>
                </c:when>
                <c:otherwise>
                    <ul id="sprite-body-front" >
                        <li id="#{findByProcedure.getSpriteId()}">
                            <div class="hover"/>
                        </li>
                    </ul>
                </c:otherwise>
            </c:choose>
        </div>
        <div class="col-sm-22 col-xs-30 proc-panel-links-column surgery-types-column">
            <h4 style="padding-top:0px; margin-top:0px; margin-bottom:0px;">#{findByProcedure.bodyArea}</h4>
            <c:forEach items="#{findByProcedure.interventionTypes}" var="types" varStatus="itemStatus">
                <div class="proc-panel-surgery-types">
                    <h:graphicImage name="images/chevron-right.png" style="margin-left: -14px"/>
                    <p:commandLink value="#{types.interventionTypeDsc}" style="margin-left: 7px" update=":dialogForm:dialogPanel">
                        <f:actionListener binding="#{findByProcedure.updateItvnTypeAndProcedures(types.interventionTypeDsc,types.interventionTypeCd)}" />
                        <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep3.xhtml')}" />
                    </p:commandLink>
                </div>
            </c:forEach>
        </div>
    </div>
    <div class="row proc-panel-step-2-part2">
        <p:commandLink update=":dialogForm:dialogPanel" >
            <div class="col-xs-20 go-back-button" >
                <h:graphicImage name="images/return-arrow.png" style="padding-right:5px"/>
                GO BACK
            </div> 
            <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep2.xhtml')}" />
        </p:commandLink> 
    </div>
</ui:composition>
