<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core">     

    <h:form>       
        <div class="email-print-share hidden-xs" >
            <!--p:commandLink style="padding-right: 13px" oncomplete="PF('emailDlg').show();"
                           update="emailDlg">
                <h:graphicImage name="images/email.png" alt="Email this page"/>     
            </p:commandLink-->
            <p:commandLink onclick="window.print()" style="padding-right: 10px">
                <h:graphicImage name="images/print.png" alt="Print this page"/>               
            </p:commandLink>
            <p:commandLink styleClass="addthis_button">
                <h:graphicImage name="images/share.png" alt="Share this page"/>               
            </p:commandLink>
        </div>
    </h:form>
    <!--p:dialog id="emailDlg" widgetVar="emailDlg" resizable="false" showHeader="true"
              draggable="true" width="600px" modal="true" styleClass="disable-scroll" >     
        
        <h2>Email Link</h2>
        <p>To share this link, enter the information below and click on the "submit" button. <br/>
        Fields marked with an asterisk (*) are mandatory.</p>    
        <h:form id="popupDialogForm">     
            <p:panelGrid id="panel1" styleClass="emailDialog"> 
                <p:row>
                    <p:column >
                        <p:outputLabel for="link" value="Page: "/>
                    </p:column>
                    <p:column >
                        <h:outputText id="link" value="https://swt.hlth.gov.bc.ca/swt#{view.viewId}" />
                    </p:column>
                </p:row>
                <p:row>
                    <p:column >
                        <p:outputLabel for="toEmail" value="To (email)"/>
                    </p:column>
                    <p:column >
                        <p:inputText id="toEmail" size="80" maxlength="100" requiredMessage="This field is required: To (email)"
                                     value="#{emailLink.toEmail}" required="true" label="toEmail"/>
                    </p:column>
                </p:row>   
                <p:row>
                    <p:column >
                        <p:outputLabel for="fromEmail" value="From (email)"/>
                    </p:column>
                    <p:column >
                        <p:inputText id="fromEmail" size="80" maxlength="100" requiredMessage="This field is required: From (email)"
                                     value="#{emailLink.fromEmail}" required="true" label="fromEmail"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column style="vertical-align: top">
                        <p:outputLabel for="message" value="Message"/>
                    </p:column>
                    <p:column >
                        <p:inputTextarea id="message" rows="10" cols="82" maxlength="2000"
                                         value="#{emailLink.message}" 
                                         label="Message" autoResize="false"/> 
                    </p:column>
                    <p:watermark for="message" value="You may enter an optional personal message here. Your message will be included with the emailed link."/>
                </p:row>
            </p:panelGrid> 
            <div style="margin-bottom: 10px">
                <p:commandButton value="SUBMIT" style="font-size:13px; font-weight: 400; 
                         padding:0px; width:80px" 
                         action="#{emailLink.submit()}" update="popupDialogForm" />                               
                <p:commandLink value="RESET" style="margin-left: 15px; font-size:13px; 
                                   font-weight: 400; font-style: normal; text-decoration: underline" update="popupDialogForm"
                                   action="#{emailLink.clear()}" process="@this" immediate="true"/>
                <p:messages showSummary="true" closable="true" >
                    <p:autoUpdate />
                </p:messages>
            </div>
        </h:form> 
    </p:dialog--> 
</ui:composition>
