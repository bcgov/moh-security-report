<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
          
    <div class="row hidden-xs ">
        <div class="col-sm-16" style="padding-left: 0px; padding-right:0px">
            <div class="find-by-proc-step proc-step-active proc-step-first">
                <p:commandLink value="STEP 1. Age Group: #{findByProcedure.age}" update=":dialogForm:dialogPanel" >
                    <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep1.xhtml')}" />
                </p:commandLink>
                <div class="status-bar-blue" />
            </div>              
        </div>
        <div class="col-sm-16" style="padding-left: 0px; padding-right:0px">
            <div class="find-by-proc-step proc-step-active" >
                <p:commandLink value="STEP 2. Body Area: #{findByProcedure.bodyArea}" update=":dialogForm:dialogPanel" >
                    <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep2.xhtml')}" />
                </p:commandLink>
                <div class="status-bar-blue" />
            </div>           
        </div>
        <div class="col-sm-16" style="padding-left: 0px; padding-right:0px">
            <div class="find-by-proc-step proc-step-active proc-step-last" >
                <h:outputText value="STEP 3. Name of Procedure" />
                <div class="status-bar-blue" />  
            </div>       
        </div> 
    </div>        
            
    <h3 style="text-align: center; border-top: none">Which procedure would you like to search?</h3>
    
    <div class="row procedure-search-row">
        <div class="col-sm-4 hidden-xs " style="margin-top:150px;">
            <p:commandLink update=":dialogForm:dialogPanel">
                <h:graphicImage name="images/back-arrow.png"/>
                <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep2part2.xhtml')}" />
            </p:commandLink>            
        </div>    
        <p:dialog styleClass="spinner-box" widgetVar="statusDialog" modal="false" 
                  draggable="false" closable="false" resizable="false" showHeader="false" >
            <h:graphicImage name="images/loader.png" styleClass="spinning-loader"/>
            <br/>
            <h:outputText value="Loading" />
        </p:dialog>
        <div class="col-sm-9" />
        <div class="col-sm-22 proc-panel-procedure-column">
            <h4 style="padding-top:0px; margin-top:0px; margin-bottom:5px; text-align: left">#{findByProcedure.interventionType}</h4>
            <p style="padding-top: 20px">
                <h:outputText value="There are no procedures for type of surgery." rendered="#{empty findByProcedure.procedures}" />
            </p>
            <ui:repeat value="#{findByProcedure.procedures}" var="procedures" varStatus="itemStatus" >               
                <h:link id="procGroupLink" outcome="WaitTimesResults" onclick="PF('statusDialog').show();" >                  
                    <div class="procedure-box">
                        <h:outputText id="procGpNm" value="#{procedures.procedureGroupNm}" />                       
                        <f:param name="rollupProcedure" value="#{procedures.rollupProcedureGroupId}"/>
                        <f:param name="procName" value="#{procedures.procedureGroupNm}"/>
                        <f:param name="adult" value="#{findByProcedure.age}"/> 
                         <p:tooltip id="procedureTooltip" styleClass="proc-tooltip" for="procGpNm" value="#{procedures.procedureGroupDesc}" position="top"/>
                    </div>
                </h:link>
               
            </ui:repeat>            
        </div>
    </div>
    <div class="row proc-panel-step-3">
        <p:commandLink update=":dialogForm:dialogPanel" >
            <div class="col-xs-20 go-back-button">
                <h:graphicImage name="images/return-arrow.png" style="padding-right:5px"/>  
                GO BACK
            </div> 
           <f:actionListener binding="#{findByProcedure.setDialogPage('findByProcStep2part2.xhtml')}" />
        </p:commandLink>
    </div>
</ui:composition>

