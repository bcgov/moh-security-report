<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core">     

    <h:form>
        <p:dialog styleClass="spinner-box" widgetVar="statusDialog" modal="false"
                          draggable="false" closable="false" resizable="false" showHeader="false" >
            <h:graphicImage name="images/loader.png" styleClass="spinning-loader"/>
            <br/>
            <h:outputText value="Loading" />
        </p:dialog>
        <div class="searchBar" style="margin-bottom:20px; margin-top:-20px">
            <p:commandButton id="findProcBtn" value="Find By Procedure" styleClass="search-button-image-sm"
                             oncomplete="PF('findProcPanel').show();" update="findProcPanel"
                             actionListener="#{findByProcedure.setDialogPage('findByProcStep1.xhtml')}"/>

            <h:outputText value="OR" styleClass="search-bar-spacing" style="font-size: 16px"/>
            <!--        TO DO make an auto complete-->           
            <p:autoComplete styleClass="specialist-search-input"
                            id="specialistQuickSearch" value="#{specialists.selectedSurgeon}" 
                            completeMethod="#{specialists.autoCompleteSurgeon}" var="surgeonAuto"
                            itemLabel="#{surgeonAuto.surgeonLastNm}#{surgeonAuto.surgeonFirstNm}" itemValue="#{surgeonAuto}" forceSelection="true"
                            onkeydown="if (event.keyCode == 13) { return false; }"
                            converter="specialistConverter"
                            scrollHeight="250"
                            placeholder="Enter your specialist's name">
                            <p:ajax event="itemSelect" onstart="PF('statusDialog').show();" listener="#{specialists.goToSpecialist()}"/>                            
            </p:autoComplete>
        </div>
    </h:form>
     

    <p:dialog id="findProcPanel" widgetVar="findProcPanel" resizable="false"
              draggable="false"
              styleClass="disable-scroll find-proc-panel"
              responsive="true"              
              onShow="PF('findProcPanel').initPosition()"
              modal="true">

        <f:facet name="header" >
            <h:graphicImage name="images/body-icon-mm.png" />
            <h:outputText value="Find By Procedure" style="padding-left: 15px"/>
        </f:facet>
        <h:form id="dialogForm" >
            <p:outputPanel id="dialogPanel">
                <ui:include src="#{findByProcedure.dialogPage}" />
            </p:outputPanel>  
        </h:form>
        <div class="row procedure-search-footer-row" style="text-align: center;">
            Can't find what you're looking for?
            <a style="text-decoration: underline" href="ProceduresAToZ.xhtml" >Search Procedures A-Z </a>
        </div>        
    </p:dialog>
                        
</ui:composition>

