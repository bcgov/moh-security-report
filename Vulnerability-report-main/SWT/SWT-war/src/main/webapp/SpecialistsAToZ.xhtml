<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.

Name                Date            Modification
Killian Faussart    2017-07-19      New page for SWT Enhancement
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/gov30Template.xhtml">
    <ui:define name="swtMetaData">
        <meta name="Description" content="Lists each of the surgical specialists alphabetically, includes a link to the specialist profile page for eacg specialist."/>
        <meta property="og:site_name" content="Surgical Wait times"/>
        <meta property="og:type" content="website"/>
        <meta property="og:url" content="https://swt.hlth.gov.bc.ca"/>
        <meta property="og:title" content="Specialists A-Z"/>
        <meta property="og:description" content="Lists each of the surgical specialists alphabetically, includes a link to the specialist profile page for eacg specialist."/>
        <meta property="og:image" content="https://swt.hlth.gov.bc.ca/jakarta.faces.resource/images/steps-to-surgery.jpg.xhtml"/>
    </ui:define>
    
    <ui:define name="title">Specialists A-Z</ui:define>
    
    <ui:define name="searchBar">
        <ui:include src="WEB-INF/fragments/searchBar.xhtml" />
    </ui:define>

    <ui:define name="content">
        <script language='javascript'>           
            window.onpageshow = function(event) {
                if (event.persisted) {
                    window.location.reload(); 
                }
            };
        </script>
        <div class="row row-no-margin" style="margin-bottom: 10px">
            <div class="col-xs-48 col-sm-36">
                <a href="Home.xhtml">Home</a> / Specialists A-Z
            </div>
            <ui:include src="WEB-INF/fragments/emailPrintShare.xhtml" />
        </div>
        
        <div class="col-lg-48">          
            <h1>Specialists A-Z</h1>
            <p>Surgery specialists are listed below in alphabetical order by last name, from A to Z. Scroll down the page to view all 
                the specialists and click on a specialist to view the wait time information.
            </p>
            <p class="jump-to hidden-xs ">Jump to:
                <ui:repeat value="#{specialists.alphabetStrings}" var="alpha" >
                    <h:link value="#{alpha}" fragment="#{alpha}" style="text-decoration: none;" 
                            styleClass="#{specialists.specialistTreeMap.containsKey(alpha) ? '' : 'dead-link'} "/>
                </ui:repeat>
            </p>           
            <h:form id="specialistAzForm">     
                <p:dialog styleClass="spinner-box" widgetVar="statusDialog" modal="false" 
                          draggable="false" closable="false" resizable="false" showHeader="false" >
                    <h:graphicImage name="images/loader.png" styleClass="spinning-loader"/>
                    <br/>
                    <h:outputText value="Loading" />
                </p:dialog>
                
                <div class="az-quick-search">
                    <p:outputLabel value="Quick search:" for="specialistQuickSearch" />
                    <p:autoComplete id="specialistQuickSearch" value="#{specialists.selectedSurgeon}" 
                                    completeMethod="#{specialists.autoCompleteSurgeon}" var="surgeonAuto"
                                    itemLabel="#{surgeonAuto.surgeonLastNm}#{surgeonAuto.surgeonFirstNm}" itemValue="#{surgeonAuto}" forceSelection="true"
                                    converter="specialistConverter"
                                    scrollHeight="250"
                                    placeholder="Enter a specialist name"
                                    onkeydown="if (event.keyCode == 13) { return false; }">
                        <p:ajax event="itemSelect" onstart="PF('statusDialog').show();" listener="#{specialists.goToSpecialist()}"/>
                    </p:autoComplete>
                </div>
                <c:forEach items="#{specialists.specialistTreeMap}" var="entry">                        
                    <h:dataTable value="#{entry.value}" var="surgeon" styleClass="az-table spec-az-table">
                        <h:column>
                            <div style="margin-right:20px; margin-top: -5px" >
                                <a name="#{entry.key}" class="a-to-z-anchor"></a>
                                <h:outputText value="#{entry.key}" styleClass="big-letter"
                                                  rendered="#{component.namingContainer.rowIndex eq 0}"/>
                            </div>
                        </h:column>
                        <h:column>
                            <ul style="list-style-type: square">
                                <li>
                                    <h:link value="#{surgeon.surgeonLastNm}#{surgeon.surgeonFirstNm}" 
                                            outcome="SpecialistProfile" onclick="PF('statusDialog').show();"> 
                                        <f:param name="rollupSurgeonId" value="#{surgeon.rollupSurgeonId}"/>
                                        <f:param name="firstName" value="#{surgeon.surgeonFirstNm}"/>
                                        <f:param name="lastName" value="#{surgeon.surgeonLastNm}"/>
                                </h:link>
                                </li>
                            </ul>
                        </h:column>                       
                    </h:dataTable>
                    <div class="row az-list-back-to-top">
                        <a href="#top"> 
                            <h:graphicImage name="images/top-arrow.png" /> 
                            Back to top
                        </a>
                    </div>                 
                    <hr/>
                </c:forEach>                    
            </h:form>                       
        </div>
        <ui:include src="WEB-INF/fragments/emailPrintShareMobile.xhtml" />
    </ui:define>
</ui:composition>

</html>
