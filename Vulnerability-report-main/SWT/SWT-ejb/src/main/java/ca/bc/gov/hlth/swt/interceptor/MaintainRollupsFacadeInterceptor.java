/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.hlth.swt.interceptor;

import jakarta.interceptor.AroundInvoke;
import jakarta.interceptor.InvocationContext;
import java.lang.reflect.Method;

/**
 *
 * @author Kuan.Fan
 */
public class MaintainRollupsFacadeInterceptor {

    public MaintainRollupsFacadeInterceptor() {
    }

    @AroundInvoke
    private Object sampleValidate(InvocationContext invCtx) throws Exception {
        Method m = invCtx.getMethod();
        if (m.getName().equals("findProceduresAssignedTo")) {
            String str = (String) invCtx.getParameters()[0];
            try {
                Long.parseLong(str);
            } catch (Exception e) {
                // here is just sample of changing the parameters
                /****
                Object[] params = new Object[1];
                params[0] = "448";
                invCtx.setParameters(params);
                 * ****/
            }
        }

        return invCtx.proceed();

    }
}
