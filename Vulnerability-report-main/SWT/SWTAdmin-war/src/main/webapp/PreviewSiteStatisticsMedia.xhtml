<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
    </h:head>
    <h:body>
        <ui:composition>

            <style type="text/css">
                column_text_style {
                    text-align: center
                }
            </style>

            <Div class="topicLink">
                <ul>
                    <li>
                        <a href="#Current" class="topicLink" title="Current Wait Time Statistics">Current Wait Time Statistics</a>
                    </li>
                    <c:if test="#{param.adult eq Y}" >
                        <li>
                            <a href="#Priority" class="topicLink" title="Wait Times By Priority Area">Wait Times By Priority Area</a>
                        </li>
                    </c:if>

                    <c:if test="#{not empty PreviewSiteStatistics.orderedLongTermSection1WaitTimes}" >
                        <li>
                            <a href="#Long-term" class="topicLink" title="Long-term Wait time Statistics">Long-term Wait time Statistics</a>
                        </li>
                    </c:if>
                </ul>

            </Div>
            <br/><br/>

            <br/><br/>

            <a name="Current" />
            <p:outputPanel >
                <p:dataTable rendered="#{not empty PreviewSiteStatistics.currentWaitTimes}"  
                             style="width:700px; border: 1;" 
                             var="record" rowIndexVar="rowkey" value="#{PreviewSiteStatistics.currentWaitTimes}">
                    
                    <f:facet name="header">
                        <h:outputText value="Current Wait Time Statistics" style="font-weight: bold" />
                    </f:facet>

                    <p:column style="text-align: left" headerText="Surgeon Specialty">
                        <h:outputText value="#{record.surgeonSpecialyDsc}" style="font-weight: bold" rendered="#{rowkey eq 0}"></h:outputText>
                        <h:outputText value="#{record.surgeonSpecialyDsc}" rendered="#{rowkey gt 0}"></h:outputText>
                    </p:column>
                    <p:column style="text-align: center" headerText="Patients Waiting">
                        <h:outputText value="#{record.patientsWaitingNbr}" style="font-weight: bold" rendered="#{rowkey eq 0}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                        <h:outputText value="#{record.patientsWaitingNbr}" rendered="#{rowkey gt 0}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                    </p:column>
                    <p:column style="text-align: center" headerText="Cases Completed">
                        <h:outputText value="#{record.proceduresPerformedNbr}" style="font-weight: bold" rendered="#{rowkey eq 0}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                        <h:outputText value="#{record.proceduresPerformedNbr}" rendered="#{rowkey gt 0}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                    </p:column>
                    <p:column style="text-align: center" headerText="50% received services within (weeks)">
                        <h:outputText value="#{record.fiftyPctWeeksNbr}" style="font-weight: bold" rendered="#{rowkey eq 0}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                        <h:outputText value="#{record.fiftyPctWeeksNbr}" rendered="#{rowkey gt 0}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                    </p:column>
                    <p:column style="text-align: center" headerText="90% received services within (weeks)">
                        <h:outputText value="#{record.ninetyPctWeeksNbr}" style="font-weight: bold" rendered="#{rowkey eq 0}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                        <h:outputText value="#{record.ninetyPctWeeksNbr}" rendered="#{rowkey gt 0}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                    </p:column>

                </p:dataTable>
            </p:outputPanel>
            <br/><br/>
            <a name="Priority" />
            <h:outputText value="Wait Times By Priority Areas" style="font-weight: bold; font-size: 18px" 
                          rendered="#{not empty PreviewSiteStatistics.currentPriorityAreaDSWTStatisticsTos}" />


            <c:forEach var="record" items="#{PreviewSiteStatistics.currentPriorityAreaDSWTStatisticsTos}" >
                <br/><br/>
                <b><h:outputLabel value="#{record.dataSource}" style="font-size: 18px; font-weight: bold"
                                  rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}"/></b>
                <p:dataList style="border: none; width: 700px" 
                            var="subrecord" rowIndexVar="indexVar" value="#{record.currentPriorityAreaPGNWTStatisticsTos}">
                    
                    <p:panelGrid layout="grid" columns="5" columnClasses="col-width-20pct, col-width-20pct, col-width-20pct, col-width-20pct, col-width-20pct"
                                 rendered="#{indexVar eq 0}"
                                 styleClass="table-header">
                            <p:column>
                                <h:outputText value="Priority Area" rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}"/>
                                <h:outputText value="Hip Fracture Fixation" rendered="#{record.dataSource=='SPR - Hip Fracture Fixation'}"/>
                            </p:column>
                            <p:column rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}">
                                <h:outputText value="Patients Waiting" />
                            </p:column>
                            <p:column>
                                <h:outputText value="Cases Completed" />
                            </p:column>
                            <p:column rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}">
                                <h:outputText value="50% received services within (weeks)" />
                            </p:column>
                            <p:column rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}">
                                <h:outputText value="90% received services within (weeks)" />
                            </p:column>
                            <p:column rendered="#{record.dataSource=='SPR - Hip Fracture Fixation'}">
                                <h:outputText value="% Treated within 48 hours of addmission to hospital" />
                            </p:column>
                    </p:panelGrid>
                   
                    <p:dataTable styleClass="no-header" var="subsubrecord" value="#{subrecord.currentPriorityAreaWTStatisticsTos}">

                        <p:column rendered="#{empty subsubrecord.priorityDsc}">
                            <h:outputText value="#{subsubrecord.procedureGroupNm}"></h:outputText>
                        </p:column>
                        
                        <p:column rendered="#{not empty subsubrecord.priorityDsc}" >
                            <h:outputText value="#{subsubrecord.priorityDsc}"></h:outputText>
                        </p:column>
                        
                        <p:column style="text-align: center;" 
                                  rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}">
                            <h:outputText value="#{subsubrecord.patientsWaitingNbr}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                        </p:column>
                        
                        <p:column style="text-align: center;" >
                            <h:outputText value="#{subsubrecord.proceduresPerformedNbr}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                        </p:column>
                        
                        <p:column style="text-align: center;" 
                                  rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}">
                            <h:outputText value="#{subsubrecord.fiftyPctWeeksNbr}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                        </p:column>
                        
                        <p:column style="text-align: center;" 
                                  rendered="#{record.dataSource!='SPR - Hip Fracture Fixation'}">
                            <h:outputText value="#{subsubrecord.ninetyPctWeeksNbr}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                        </p:column>
                        
                         <p:column style="text-align: center;" 
                                   rendered="#{record.dataSource=='SPR - Hip Fracture Fixation'}">
                            <h:outputText value="#{subsubrecord.pctCompletedWithinTgt}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                        </p:column>

                    </p:dataTable>                   

                </p:dataList>
            </c:forEach>
            <br/><br/>
            
            
            <a name="Long-term" />
            <p:outputPanel >
                <h:outputText value="Long-Term Wait Times Statistics" style="font-weight: bold" rendered="#{not empty PreviewSiteStatistics.orderedLongTermSection1WaitTimes}" />
            </p:outputPanel>
            <br/><br/>

            <h:outputText value="Surgical Patient Registry" style="font-weight: bold" rendered="#{not empty PreviewSiteStatistics.orderedLongTermSection1WaitTimes}" />
            <p:outputPanel >
                <p:dataTable rendered="#{not empty PreviewSiteStatistics.orderedLongTermSection1WaitTimes}"
                             style="width:700px; border: 1;"
                             var="record" value="#{PreviewSiteStatistics.orderedLongTermSection1WaitTimes}">

                    <f:facet name="header">
                        <p:columnGroup>
                            <p:column>
                                <h:outputText value="Fiscal Year" />
                            </p:column>
                            <p:column>
                                <h:outputText value="Patients Waiting" />
                            </p:column>
                            <p:column>
                                <h:outputText value="Cases Completed" />
                            </p:column>
                            <p:column>
                                <h:outputText value="50% received services within (weeks)" />
                            </p:column>
                            <p:column>
                                <h:outputText value="90% received services within (weeks)" />
                            </p:column>
                        </p:columnGroup>
                    </f:facet>

                    <p:column colspan="5">
                        <b><h:outputText value="#{record.procedureGroupNm}"></h:outputText></b>
                    </p:column>

                    <p:dataTable
                        var="subrecord" value="#{record.longTermWTSec1Tos}">
                        <p:column width="140" >
                            <h:outputText value="#{subrecord.fiscalYr}"></h:outputText>
                        </p:column>
                        <p:column width="140" style="text-align: center;">
                            <h:outputText value="#{subrecord.patientsWaitingNbr}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                        </p:column>
                        <p:column width="140" style="text-align: center;">
                            <h:outputText value="#{subrecord.proceduresPerformedNbr}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                        </p:column>
                        <p:column width="140" style="text-align: center;">
                            <h:outputText value="#{subrecord.fiftyPctWeeksNbr}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                        </p:column>
                        <p:column width="140" style="text-align: center;">
                            <h:outputText value="#{subrecord.ninetyPctWeeksNbr}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                        </p:column>
                    </p:dataTable>
                </p:dataTable>
            </p:outputPanel>

            <c:if test="#{param.adult eq Y}">
                <c:forEach var="record" items="#{PreviewSiteStatistics.dataSourceLongTermWTSec2Tos}" >
                    <br/><br/>
                    <b><h:outputLabel value="#{record.dataSource}" /></b>
                    <p:dataTable style="width:700px; border: 1; cellpadding: 0px; cellspacing: 0px;"
                        var="subrecord" value="#{record.pgnLongTermWTSec2Tos}">
                        <f:facet name="header">
                            <p:columnGroup>
                                <p:column>
                                    <h:outputText value="Fiscal Year" />
                                </p:column>
                                <p:column>
                                    <h:outputText value="Patients Waiting" />
                                </p:column>
                                <p:column>
                                    <h:outputText value="Cases Completed" />
                                </p:column>
                                <p:column>
                                    <h:outputText value="50% received services within (weeks)" />
                                </p:column>
                                <p:column>
                                    <h:outputText value="90% received services within (weeks)" />
                                </p:column>
                            </p:columnGroup>
                        </f:facet>
                        <p:column colspan="5">
                            <b><h:outputText value="#{subrecord.procedureGroupNm}"></h:outputText></b>
                        </p:column>
                        <p:dataTable 
                            var="subsubrecord" value="#{subrecord.priorityLongTermWTSec2Tos}">

                            <p:column colspan="5" rendered="#{not empty subsubrecord.priority}">
                                <b><h:outputText value="#{subsubrecord.priority}"></h:outputText></b>
                            </p:column>

                            <p:dataTable 
                                var="subsubsubrecord" value="#{subsubrecord.longTermWTSec2Tos}">
                                <p:column width="140" >
                                    <h:outputText value="#{subsubsubrecord.fiscalYr}"></h:outputText>
                                </p:column>
                                <p:column width="140" style="text-align: center;">
                                    <h:outputText value="#{subsubsubrecord.patientsWaitingNbr}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                                </p:column>
                                <p:column width="140" style="text-align: center;">
                                    <h:outputText value="#{subsubsubrecord.proceduresPerformedNbr}"><f:convertNumber pattern="###,###,###"  /></h:outputText>
                                </p:column>
                                <p:column width="140" style="text-align: center;">
                                    <h:outputText value="#{subsubsubrecord.fiftyPctWeeksNbr}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                                </p:column>
                                <p:column width="140" style="text-align: center;">
                                    <h:outputText value="#{subsubsubrecord.ninetyPctWeeksNbr}"><f:convertNumber pattern="###,###,##0.0"  /></h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:dataTable>
                    </p:dataTable>
                </c:forEach>
            </c:if>
        </ui:composition>
    </h:body>
</html>
