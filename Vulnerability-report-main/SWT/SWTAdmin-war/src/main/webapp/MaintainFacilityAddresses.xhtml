<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      template="/WEB-INF/templates/gov30Template.xhtml">

    <ui:define name="title">Maintain Facility Addresses</ui:define>
    <ui:define name="content">

        <h1>Maintain Facility Addresses</h1>

        <h:form id="form1">
            <p:messages id="msgs" />
            Use this page to edit Facility Addresses and latitude and longitude coordinates to support accurate representation of Facilities on the Facility Search page.<br/>
            
            <div class="ui-g">
                <div class="ui-g-5">
                    <p:outputLabel for="facilities" value="Facility" /><br/>
                    <h:selectOneMenu id='facilities' value="#{MaintainFacilityAddresses.facility.facilityId}" required="true"
                                     valueChangeListener="#{MaintainFacilityAddresses.changeFacility}" hideNoSelectionOption="true"
                                     requiredMessage="Facility is required">
                        <p:ajax event="change" update="form1" process="@this"/>
                        <f:selectItem itemValue="" itemLabel="" noSelectionOption="true"/>
                        <f:selectItems value="#{MaintainFacilityAddresses.facilities}"/>
                    </h:selectOneMenu>
                </div>
            </div>
            <div class="ui-g">
                <div class="ui-g-5">
                    <p:outputLabel for="address" value="Address" /><br/>
                    <p:inputTextarea id="address" rows="1" cols="63" required="true" requiredMessage="Address is required"
                                     value="#{MaintainFacilityAddresses.facility.addressFullTxt}" />
                    <br/>
                    <span id="addressDetails">                                    
                        <h:outputText value="#{MaintainFacilityAddresses.facility.locationNm}"/>
                        <h:outputText value=", BC, Canada " rendered="#{MaintainFacilityAddresses.facility.locationNm!=null}" />
                        <h:outputText value="#{MaintainFacilityAddresses.facility.facilityPostalCodeTxt}"/>
                    </span>
                </div>
            </div>
            
            <div class="ui-g">
                <div class="ui-g-2">
                    <p:outputLabel for="lat" value="Latitude"/>
                    <p:inputText id="lat" value="#{MaintainFacilityAddresses.facility.latitudeNbr}" required="true"
                                 requiredMessage="Latitude is required">
                        <f:validateDoubleRange minimum="-180.0" maximum="180.0"/>
                    </p:inputText>
                </div>
                <div class="ui-g-2">
                    <p:outputLabel for="lng" value="Longitude"/>
                    <p:inputText id="lng" value="#{MaintainFacilityAddresses.facility.longitudeNbr}" required="true"
                                 requiredMessage="Longitude is required">
                        <f:validateDoubleRange minimum="-180.0" maximum="180.0"/>
                    </p:inputText>                    
                </div>
            </div>
            
            <div class="ui-g">
                <div class="ui-g-12 submit-buttons">
                    <p:commandButton value="Save" action="#{MaintainFacilityAddresses.save}"
                                     update="form1" styleClass="submit-button"/> <nbsp/>
                    <p:commandLink value="Clear" process="@this" update="@form"
                                   action="#{MaintainFacilityAddresses.clear}"/>
                </div>
            </div>

        </h:form>
    </ui:define>
</ui:composition>
