<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/gov30Template.xhtml">
    
    <ui:define name="title">Maintain Announcements</ui:define>
    <ui:define name="content">
        <h2>Maintain Announcements</h2>
        <p:messages id="msgs"/>
        <h:form id="form1">
            <div class="ui-g">
                <div class="ui-g-12">
                    Use this page to edit the announcements that the public will see when visiting the Surgical Wait Times Welcome page. Only the latest Announcement for any particular Site can be edited, causing a new Announcement to be created with the updated text. Announcements can only be modified for UNPUBLISHED Sites or the current PUBLISHED site.
                </div>
            </div>
            <div class="ui-g">
                <div class="ui-g-12">
                    <h:outputLabel for="siteId1" value="Site:" style="font-weight: bold; padding-right: 1em;" />
                    <p:selectOneMenu value="#{MaintainAnnouncements.selectedSite}" valueChangeListener="#{MaintainAnnouncements.changeSite}" style="width: 300px; background: none">
                        <f:selectItem itemValue=""/>
                        <f:selectItems value="#{MaintainAnnouncements.sites}"/>
                        <p:ajax event="change" update="form1" process="@this" />
                    </p:selectOneMenu>
                </div>
            </div>
            <div class="ui-g">
                <div class="ui-g-12">
                    <p:commandLink rendered="#{MaintainAnnouncements.hasNext}" update="form1" action="#{MaintainAnnouncements.nextAnnouncement}">Previous</p:commandLink>
                    <h:outputLabel for="siteId1" value="Announcement (#{MaintainAnnouncements.numberOfAnnouncements - MaintainAnnouncements.currentAnnouncement} of #{MaintainAnnouncements.numberOfAnnouncements}) Text" />
                    <p:commandLink rendered="#{MaintainAnnouncements.currentAnnouncement > 0}" update="form1" action="#{MaintainAnnouncements.previousAnnouncement}">Next</p:commandLink>
                </div>
            </div>
            <div class="ui-g">
                <div class="ui-g-12">
                    <h:inputTextarea id="announcementTxt" rows="20" cols="80" value="#{MaintainAnnouncements.announcement.announcementTxt}"/>
                    <p:outputPanel rendered="#{MaintainAnnouncements.showWarning}">
                        <i>Note: The Announcement for this Site has been copied from the previous Site.</i>
                    </p:outputPanel>
                    <p:outputPanel style="padding-top: 1em;">
                        <p:commandButton value="Save" update="form1, msgs" action="#{MaintainAnnouncements.save}"/>
                        <p:commandButton value="Clear" update="form1" action="#{MaintainAnnouncements.clear}"/>
                    </p:outputPanel>
                </div>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
