/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package swtadminwar.businessdelegate;

import ca.bc.gov.hlth.swt.session.MaintainRollupsFacadeLocal;
import ca.bc.gov.hlth.swt.session.MaintainSitesFacadeLocal;
import javax.naming.Context;
import javax.naming.InitialContext;
import javax.naming.NamingException;

/**
 *
 * @author Kuan.Fan
 */
public class ServiceLocator {
    
    private static ServiceLocator serviceLocator = null;
    
    public static ServiceLocator getInstance() {
        if(serviceLocator==null) {
            serviceLocator = new ServiceLocator();
        }
        return serviceLocator;
    }

    public MaintainRollupsFacadeLocal lookupMaintainRollupsFacade() {
        try {
            Context c = new InitialContext();
            return (MaintainRollupsFacadeLocal) c.lookup("java:comp/env/MaintainRollupsFacade");
        } catch (NamingException ne) {
            java.util.logging.Logger.getLogger(getClass().getName()).log(java.util.logging.Level.SEVERE, "exception caught", ne);
            throw new RuntimeException(ne);
        }
    }

    public MaintainSitesFacadeLocal lookupMaintainSitesFacade() {
        try {
            Context c = new InitialContext();
            return (MaintainSitesFacadeLocal) c.lookup("java:comp/env/MaintainSitesFacade");
        } catch (NamingException ne) {
            java.util.logging.Logger.getLogger(getClass().getName()).log(java.util.logging.Level.SEVERE, "exception caught", ne);
            throw new RuntimeException(ne);
        }
    }

}
