/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.plr.dto.provider.comparator;

import ca.bc.gov.health.plr.constants.Consts;
import ca.bc.gov.health.plr.dto.provider.PersonNameDto;
import ca.bc.gov.health.plr.dto.provider.ProviderDto;
import java.util.Comparator;
import java.util.List;

/**
 * The comparator class to compare ProviderDto by comparing the first sure name and first first name.
 * @author kuan.fan
 */
public class ProviderDtoLastFirstNameComparator implements Comparator<ProviderDto> {
    
    @Override
    public int compare(ProviderDto x, ProviderDto y) {
        
        if(x==null) {
            if(y==null) {
                return Consts.EQUAL;
            } else {
                return Consts.BEFORE;
            }
        } else {
            if(y==null) {
                return Consts.AFTER;
            }
        }
        
        //both x and y are not null
        List<PersonNameDto> xNameDtoList = x.getIndNames();
        List<PersonNameDto> yNameDtoList = y.getIndNames();
        if(xNameDtoList==null || xNameDtoList.isEmpty()) {
            if(yNameDtoList==null || yNameDtoList.isEmpty()) {
                return Consts.EQUAL;
            } else {
                return Consts.BEFORE;
            }
        } else {
            if(yNameDtoList==null || yNameDtoList.isEmpty()) {
                return Consts.AFTER;
            }
        }
        
        //both xNameList and yNameList a re not null
        PersonNameDto xNameDto = xNameDtoList.get(0);
        PersonNameDto yNameDto = yNameDtoList.get(0);
        if(xNameDto==null) {
            if(yNameDto==null) {
                return Consts.EQUAL;
            } else {
                return Consts.BEFORE;
            }
        } else {
            if(yNameDto==null) {
                return Consts.AFTER;
            }
        }
        
        //both xNameDto and yNameDto are not null
        return new PersonNameDtoLastFirstNameComparator().compare(xNameDto, yNameDto);
    }

    
}
