package ca.bc.gov.health.plr.service.distribution;

import ca.bc.gov.health.plr.ejb.entity.GrsCtTransactionTypes;
import java.util.List;

/**
 * An immutable wrapper for distribution data to treat provider and its data
 * block addition and updates as a single unit
 *
 * @author adebiyi.kuseju
 * @param <T>
 */
public class DistributableItemWrapper<T> {

    public enum ChangeType {
        CREATE_PROVIDER, UPDATE_PROVIDER
    }

    private final T beforeChange;
    private final T afterChange;
    private final ChangeType changeType;

    private final GrsCtTransactionTypes grsCtTransactionType;

    /**
     * A list of changes performed on this provider data blocks or on an
     * individual data block
     */
    private final List<DistributableItemWrapper<?>> subChanges;

    public DistributableItemWrapper(T beforeChange, T afterChange, List<DistributableItemWrapper<?>> subChanges, GrsCtTransactionTypes grsCtTransactionType, ChangeType changeType) {
        this.beforeChange = beforeChange;
        this.afterChange = afterChange;
        this.grsCtTransactionType = grsCtTransactionType;
        this.subChanges = subChanges;
        this.changeType = changeType;
    }

    public T getBeforeChange() {
        return beforeChange;
    }

    public T getAfterChange() {
        return afterChange;
    }

    public GrsCtTransactionTypes getGrsCtTransactionType() {
        return grsCtTransactionType;
    }

    public List<DistributableItemWrapper<?>> getSubChanges() {
        return subChanges;
    }

    public ChangeType getChangeType() {
        return changeType;
    }

    
}
