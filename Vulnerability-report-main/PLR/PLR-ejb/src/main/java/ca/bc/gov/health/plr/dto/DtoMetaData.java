/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.plr.dto;

import ca.bc.gov.health.plr.rule.provider.AcceptableAnyField;
import java.io.Serializable;
import java.util.Date;
import org.apache.commons.lang3.StringUtils;

/**
 *
 * @author adebiyi.kuseju
 */
public abstract class DtoMetaData implements Serializable {
 
    private Long id;
    private boolean displayActive;
    private boolean updatable;
    private boolean active;
    private Date createdDate;
    private Date invalidatedDate;
    @AcceptableAnyField( message = "{error.anyfield.invalidcharacters.part1of2} 'User CHID' {error.anyfield.invalidcharacters.part2of2}")
    private String userChid;
    private boolean noChangeOnUpdate;
    
    private static final String[] RECORD_TYPES = new String[]{"typeCode"};
    
    public String[] getRecordTypeFields(){
        return RECORD_TYPES;
    }
    
     /**
     * @return the active
     */
    public boolean isActive() {
        return active;
    }

    public boolean isNew() {
        return id == null;
    }

    /**
     * @param active the active to set
     */
    public void setActive(boolean active) {
        this.active = active;
    }

    /**
     * @return the userChid
     */
    public String getUserChid() {
        return userChid;
    }

    /**
     * @param userChid the userChid to set
     */
    public void setUserChid(String userChid) {
        userChid = StringUtils.stripAccents(userChid);
        userChid = StringUtils.strip(userChid);
        this.userChid = userChid;
    }
    
    /**
     * @return the createdDate
     */
    public Date getCreatedDate() {
        return createdDate;
    }

    /**
     * @param createdDate the createdDate to set
     */
    public void setCreatedDate(Date createdDate) {
        this.createdDate = createdDate;
    }

    /**
     * @return the invalidatedDate
     */
    public Date getInvalidatedDate() {
        return invalidatedDate;
    }

    /**
     * @param invalidatedDate the invalidatedDate to set
     */
    public void setInvalidatedDate(Date invalidatedDate) {
        this.invalidatedDate = invalidatedDate;
    }

    /**
     * @return the id
     */
    public Long getId() {
        return id;
    }

    /**
     * @param id the id to set
     */
    public void setId(Long id) {
        this.id = id;
    }
    
    /**
     * @return the displayActive
     */
    public boolean isDisplayActive() {
        return displayActive;
    }

    /**
     * @param displayActive the displayActive to set
     */
    public void setDisplayActive(boolean displayActive) {
        this.displayActive = displayActive;
    }

    public boolean isUpdatable() {
        return updatable;
    }

    public void setUpdatable(boolean updatable) {
        this.updatable = updatable;
    }

    public boolean isNoChangeOnUpdate() {
        return noChangeOnUpdate;
    }

    public void setNoChangeOnUpdate(boolean noChangeFound) {
        this.noChangeOnUpdate = noChangeFound;
    }
    
    @Override
    public int hashCode() {
        int hash = 7;
        return hash;
    }

    @Override
    public boolean equals(Object obj) {
        if (obj == null) {
            return false;
        }
        if (getClass() != obj.getClass()) {
            return false;
        }
        if (getId() == null || !getId().equals(((DtoMetaData)obj).getId())) {
            return false;
        }
        return true;
    }
    
    public int compareCreatedDate(Date targetCreatedDate) {
        if(this.createdDate!=null) {
            if(targetCreatedDate!=null) {
                return this.createdDate.compareTo(targetCreatedDate);
            } else {
                return 1;
            }
        } else {
            if(targetCreatedDate!=null) {
                return -1;
            } else {
                return 0;
            }
        }
    }
    
    public abstract String getBlockName();
}
