/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.plr.service.validators;

import ca.bc.gov.health.plr.interceptors.TestUserInterceptor;
import ca.bc.gov.health.plr.producer.type.Authenticated;
import ca.bc.gov.health.plr.producer.type.User;
import javax.ejb.Stateless;
import javax.enterprise.inject.Instance;
import javax.inject.Inject;
import javax.interceptor.Interceptors;

/**
 *
 * @author sumesh.kariyil
 */
@Stateless
@Interceptors({TestUserInterceptor.class})
public class UserChidGenerator{

    @Inject
    @Authenticated
    private Instance<User> user;
    
    private static final String USER_CHID_FORMAT = "%s@%s";
    public static final String USER_SYS_ADDRESS_VALID = "system_address_val";
    
    public String find() {
         return String.format(USER_CHID_FORMAT, user.get().getUserPrincipal().getName(), user.get().getUserId());
    }
    
    public String findSysAddressValUser() {
         return String.format(USER_CHID_FORMAT, USER_SYS_ADDRESS_VALID, user.get().getUserId());
    }
    
}
