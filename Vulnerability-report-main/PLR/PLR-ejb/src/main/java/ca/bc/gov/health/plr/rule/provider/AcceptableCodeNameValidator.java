package ca.bc.gov.health.plr.rule.provider;

import ca.bc.gov.health.plr.cdi.validator.type.Validation;
import javax.validation.ConstraintValidator;
import javax.validation.ConstraintValidatorContext;

/**
 * Validates codes
 * 
 * @author jonathan.wiebe
 */
//@Validation
public class AcceptableCodeNameValidator extends AcceptableCodeValidator implements ConstraintValidator<AcceptableCodeName, String> {

    /**
     * Initialize the validator, sets up variables from annotation
     * @param constraintAnnotation 
     */
    @Override
    public void initialize(AcceptableCodeName constraintAnnotation) {
        clazz = constraintAnnotation.clazz();
        code = constraintAnnotation.code();
    }
    
    /**
     * Return true if code is valid or null.
     * @param value code string
     * @param context validator context
     * 
     * @return true if valid or null.
     */
    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        return isValidTemplate(value, context);
    }

}
