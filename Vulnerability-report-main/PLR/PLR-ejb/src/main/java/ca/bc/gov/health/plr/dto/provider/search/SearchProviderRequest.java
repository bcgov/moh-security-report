package ca.bc.gov.health.plr.dto.provider.search;

import ca.bc.gov.health.plr.dto.provider.ProviderDetailsUtil;
import ca.bc.gov.health.plr.ejb.entity.GrsCtRegIdentifierTypes;
import ca.bc.gov.health.plr.ejb.entity.PrsCtIdentifierTypes;
import ca.bc.gov.health.plr.ejb.entity.PrsCtProviderRoleTypes;
import ca.bc.gov.health.plr.rule.provider.AcceptableCodeName;
import java.util.List;
import javax.validation.constraints.Pattern;
import org.apache.commons.lang3.StringUtils;

/**
 * Simple transfer object to encapsulate details for a provider search.
 *
 * @author Grant.Hodgins
 */
public class SearchProviderRequest {

    @Pattern(regexp = ProviderDetailsUtil.provIDPattern, message = "{error.identifierfield.invalidcharacters}")
    private String identifier;
    
    @Pattern(regexp = ProviderDetailsUtil.regIDPattern, message = "{error.identifierfield.invalidcharacters}")
    private String registryIdentifier;
    private String registryIdentifierPostfix;    
    private Long registryIdentifierTypeCodeId;
    @AcceptableCodeName(clazz = GrsCtRegIdentifierTypes.class, code="Registry Identifier Type Code")
    private String registryIdentifierTypeCode;
    private Long identifierTypeId;
    @AcceptableCodeName(clazz = PrsCtIdentifierTypes.class, code = "Identifier Type Code")
    private String identifierTypeCode;
    private Long providerRoleTypeId;
    @AcceptableCodeName(clazz = PrsCtProviderRoleTypes.class, code = "Provider Role Type Code")
    private String providerRoleTypeCode;
    private String firstName;
    private String lastName;
    private String city;
    private boolean historyFlag;
    private boolean isMessage;//indicate if the search request from ESB messaging
    
    private List<Long> expertiseList; 
    private List<Long> languageList; 
    private String gender;
    private String organizationProviderName;
    private String organizationProviderLongName;
    private Long licenseStatusCd;
    private String licenseStatusReasonCd;

    public String getOrganizationProviderLongName() {
        return organizationProviderLongName;
    }

    public void setOrganizationProviderLongName(String organizationProviderLongName) {
        this.organizationProviderLongName = organizationProviderLongName;
    }

    /**
     * @return the identifier
     */
    public String getIdentifier() {
        return identifier;
    }

    /**
     * @param identifier the identifier to set
     */
    public void setIdentifier(String identifier) {
        this.identifier = identifier;
    }

    /**
     * @return the providerRoleTypeId
     */
    public Long getProviderRoleTypeId() {
        return providerRoleTypeId;
    }

    /**
     * @param providerRoleTypeId the providerRoleTypeId to set
     */
    public void setProviderRoleTypeId(Long providerRoleTypeId) {
        this.providerRoleTypeId = providerRoleTypeId;
    }

    /**
     * @return the firstName
     */
    public String getFirstName() {
        return firstName;
    }

    /**
     * @param firstName the firstName to set
     */
    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    /**
     * @return the lastName
     */
    public String getLastName() {
        return lastName;
    }

    /**
     * @param lastName the lastName to set
     */
    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    /**
     * @return the city
     */
    public String getCity() {
        return city;
    }

    /**
     * @param city the city to set
     */
    public void setCity(String city) {
        this.city = city;
    }

    /**
     * @return the identifierTypeId
     */
    public Long getIdentifierTypeId() {
        return identifierTypeId;
    }

    /**
     * @param identifierTypeId the identifierTypeId to set
     */
    public void setIdentifierTypeId(Long identifierTypeId) {
        this.identifierTypeId = identifierTypeId;
    }

    /**
     * @return the returnHistory
     */
    public boolean isHistoryFlag() {
        return historyFlag;
    }

    /**
     * @param historyFlag the historyFlag to set
     */
    public void setHistoryFlag(boolean historyFlag) {
        this.historyFlag = historyFlag;
    }

    /**
     * @return the registryIdentifierTypeId
     */
    public Long getRegistryIdentifierTypeCodeId() {
        return registryIdentifierTypeCodeId;
    }

    /**
     * @param registryIdentifierTypeCodeId the registryIdentifierTypeCodeId to set
     */
    public void setRegistryIdentifierTypeCodeId(Long registryIdentifierTypeCodeId) {
        this.registryIdentifierTypeCodeId = registryIdentifierTypeCodeId;
    }

    /**
     * @return the registryIdentifier
     */
    public String getRegistryIdentifier() {
        return registryIdentifier;
    }

    /**
     * @param registryIdentifier the registryIdentifier to set
     */
    public void setRegistryIdentifier(String registryIdentifier) {
        this.registryIdentifier = registryIdentifier;
    }

    /**
     * @return the registryIdentifierPostfix
     */
    public String getRegistryIdentifierPostfix() {
        return registryIdentifierPostfix;
    }

    /**
     * @param registryIdentifierPostfix the registryIdentifierPostfix to set
     */
    public void setRegistryIdentifierPostfix(String registryIdentifierPostfix) {
        this.registryIdentifierPostfix = registryIdentifierPostfix;
    }

    public String getIdentifierTypeCode() {
        return identifierTypeCode;
    }

    public void setIdentifierTypeCode(String identifierTypeCode) {
        this.identifierTypeCode = identifierTypeCode;
    }

    public String getProviderRoleTypeCode() {
        return providerRoleTypeCode;
    }

    public void setProviderRoleTypeCode(String providerRoleTypeCode) {
        this.providerRoleTypeCode = providerRoleTypeCode;
    }

    public String getRegistryIdentifierTypeCode() {
        return registryIdentifierTypeCode;
    }

    public void setRegistryIdentifierTypeCode(String registryIdentifierTypeCode) {
        this.registryIdentifierTypeCode = registryIdentifierTypeCode;
    }

    public boolean isIsMessage() {
        return isMessage;
    }

    public void setIsMessage(boolean isMessage) {
        this.isMessage = isMessage;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public String getOrganizationProviderName() {
        return organizationProviderName;
    }

    public void setOrganizationProviderName(String organizationProviderName) {
        this.organizationProviderName = organizationProviderName;
    }

    public List<Long> getExpertiseList() {
        return expertiseList;
    }

    public void setExpertiseList(List<Long> expertiseList) {
        this.expertiseList = expertiseList;
    }

    public List<Long> getLanguageList() {
        return languageList;
    }

    public void setLanguageList(List<Long> languageList) {
        this.languageList = languageList;
    }
    
    public String getExpertisesInString() {
        if(this.expertiseList!=null && this.expertiseList.size()>0) {
            return StringUtils.join(this.expertiseList, ",");
        } else {
            return null;
        }
    }

    public String getLanguagesInString() {
        if(this.languageList!=null && this.languageList.size()>0) {
            return StringUtils.join(this.languageList, ",");
        } else {
            return null;
        }
    }

    public Long getLicenseStatusCd() {
        return licenseStatusCd;
    }

    public void setLicenseStatusCd(Long licenseStatusCd) {
        this.licenseStatusCd = licenseStatusCd;
    }

    public String getLicenseStatusReasonCd() {
        return licenseStatusReasonCd;
    }

    public void setLicenseStatusReasonCd(String licenseStatusReasonCd) {
        this.licenseStatusReasonCd = licenseStatusReasonCd;
    }
    
    /**
     * Clear the fields used at the search by criteria page.
     */
    public void clearSearchByCriteria() {
        this.providerRoleTypeId = null;
        this.gender = null;
        this.firstName = null;
        this.lastName = null;
        this.gender = null;
        this.city = null;
        this.expertiseList = null;
        this.languageList = null;
        this.licenseStatusCd = null;
        this.licenseStatusReasonCd = null;
    }

    @Override
    public String toString() {
        return "SearchProviderRequest{" + "identifier=" + identifier + ", registryIdentifier=" + registryIdentifier + ", registryIdentifierPostfix=" + registryIdentifierPostfix + ", registryIdentifierTypeCodeId=" + registryIdentifierTypeCodeId + ", registryIdentifierTypeCode=" + registryIdentifierTypeCode + ", identifierTypeId=" + identifierTypeId + ", identifierTypeCode=" + identifierTypeCode + ", providerRoleTypeId=" + providerRoleTypeId + ", providerRoleTypeCode=" + providerRoleTypeCode + ", firstName=" + firstName + ", lastName=" + lastName + ", city=" + city + ", historyFlag=" + historyFlag + ", isMessage=" + isMessage + ", expertiseList=" + expertiseList + ", languageList=" + languageList + ", gender=" + gender + ", licenseStatusCd=" + licenseStatusCd + ", licenseStatusReasonCd=" + licenseStatusReasonCd + ", organizationProviderName=" + organizationProviderName + '}';
    }

}
