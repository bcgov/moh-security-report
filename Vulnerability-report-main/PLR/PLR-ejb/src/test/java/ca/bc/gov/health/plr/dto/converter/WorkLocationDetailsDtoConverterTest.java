package ca.bc.gov.health.plr.dto.converter;

import ca.bc.gov.health.plr.dto.provider.ProviderDto;
import ca.bc.gov.health.plr.dto.provider.WorkLocationDetailsDto;
import ca.bc.gov.health.plr.ejb.entity.PrsWorkLocationDetails;
import ca.bc.gov.health.plr.service.provider.IntegrationSetup;
import org.junit.After;
import org.junit.AfterClass;
import static org.junit.Assert.assertEquals;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;

/**
 *
 * @author ian.scott
 */
public class WorkLocationDetailsDtoConverterTest extends IntegrationSetup {

    public WorkLocationDetailsDtoConverterTest() {
    }

    @BeforeClass
    public static void setUpClass() {
    }

    @AfterClass
    public static void tearDownClass() {
    }

    @Before
    public void setUp() {
    }

    @After
    public void tearDown() {
    }

    /**
     * Test of toEntity method, of class ElectronicAddressDtoConverter.
     */
    @Test
    public void testToEntity_WLDType() throws Exception {
        WorkLocationDetailsDto dto = populateWorkLocationDetailsDTO();

        PrsWorkLocationDetails result = workLocationDetailsConverter.toEntity(dto);
        assertEquals(result.getWorkLocationTypeId().getCtlId(), result.getWorkLocationTypeCode().getCtlId());
        assertEquals(result.getWorkLocationTypeCode().getCtlNameCode(), "HOSP");
        assertEquals(result.getWorkLocationTypeId().getCtlDescTxt(), "Hospital");

    }

    private WorkLocationDetailsDto populateWorkLocationDetailsDTO() {
        WorkLocationDetailsDto dto = new WorkLocationDetailsDto();

        dto.setPauthId(67l);
        dto.setTypeId(1514l); // HOSP Hospital

        return dto;
    }
}
