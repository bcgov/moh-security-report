package ca.bc.gov.health.plr.dto.converter;

import ca.bc.gov.health.plr.dto.converter.EsbProviderDetailConverter;
import ca.bc.gov.health.plr.dto.provider.NoteDto;
import ca.bc.gov.health.plr.rule.provider.ProviderTestDataBuilder;
import java.util.ArrayList;
import java.util.List;
import org.junit.Test;
import static org.junit.Assert.*;

/**
 *
 * @author adebiyi.kuseju
 */
public class EsbProviderDetailConverterTest {
    
    /**
     * Test of toEsbList method, of class EsbProviderDetailConverter.
     */
    @Test
    public void testToEsbList_record_count() throws Exception {
        
        List<NoteDto> primaryDtoList = new ArrayList<>();
        primaryDtoList.add(ProviderTestDataBuilder.getNote());
        primaryDtoList.add(ProviderTestDataBuilder.getNote());
        
        List result = EsbProviderDetailConverter.toEsbList(primaryDtoList);
        assertEquals(result.size(), primaryDtoList.size());

    }
    
    
    /**
     * Test of toEsbList method, of class EsbProviderDetailConverter.
     */
    @Test
    public void testToEsbList_record_type() throws Exception {
        
        List<NoteDto> primaryDtoList = new ArrayList<>();
        primaryDtoList.add(ProviderTestDataBuilder.getNote());
        
        List result = EsbProviderDetailConverter.toEsbList(primaryDtoList);
        assertTrue(result.get(0).getClass().getName().contains("esb"));
        assertTrue(result.get(0).getClass().getName().endsWith("NoteDto"));

    }
}
