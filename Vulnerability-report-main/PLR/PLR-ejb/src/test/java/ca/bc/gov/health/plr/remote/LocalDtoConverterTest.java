/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.plr.remote;

import ca.bc.gov.health.plr.dto.provider.esb.AddressDto;
import ca.bc.gov.health.plr.dto.provider.esb.WorkLocationDetailsDto;
import ca.bc.gov.health.plr.service.provider.IntegrationSetup;
import ca.bc.gov.health.plr.service.remote.LocalDtoConverter;
import static org.hamcrest.CoreMatchers.equalTo;
import org.junit.Assert;
import org.junit.Test;

/**
 *  PLR-756 , REQ-00276
 * @author sumesh.kariyil
 */
public class LocalDtoConverterTest extends IntegrationSetup{
    
    @Test
    public void testNonAcceptedCharacters_Address(){
        LocalDtoConverter<ca.bc.gov.health.plr.dto.provider.AddressDto, AddressDto> addressConverter = new LocalDtoConverter<>();
        AddressDto dto = new AddressDto();
        dto.setAddressLineOne("ÁÉÍÓÚÝ");
        ca.bc.gov.health.plr.dto.provider.AddressDto converted = new ca.bc.gov.health.plr.dto.provider.AddressDto();
        addressConverter.convert(converted, dto);
        Assert.assertThat(converted.getAddressLineOne(), equalTo("AEIOUY"));
    }
    
    @Test
    public void testNonAcceptedCharacters_WorkLocation(){
        LocalDtoConverter<ca.bc.gov.health.plr.dto.provider.WorkLocationDetailsDto, WorkLocationDetailsDto> converter = new LocalDtoConverter<>();
        WorkLocationDetailsDto dto = new WorkLocationDetailsDto();
        dto.setName("ÂÊÎÔÛUMLAUTÄËÏÖÜ");
        ca.bc.gov.health.plr.dto.provider.WorkLocationDetailsDto converted = new ca.bc.gov.health.plr.dto.provider.WorkLocationDetailsDto();
        converter.convert(converted, dto);
        Assert.assertThat(converted.getName(), equalTo("AEIOUUMLAUTAEIOU"));
    }
}
