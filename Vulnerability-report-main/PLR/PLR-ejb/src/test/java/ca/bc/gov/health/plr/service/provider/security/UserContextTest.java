/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.plr.service.provider.security;

import java.util.HashSet;
import java.util.Set;
import org.junit.After;
import static org.junit.Assert.*;
import org.junit.Before;
import org.junit.Test;

/**
 *
 * @author adebiyi.kuseju
 */
public class UserContextTest {
    
    private UserContext userContext;
    
    public UserContextTest() {
    }
    
    @Before
    public void setUp() {
        userContext = new UserContext();

    }
    
    @After
    public void tearDown() {
    }
    
    /**
     * Test of addProviderType method, of class UserContext.
     */
    @Test
    public void testAddProviderType_Readable() throws Exception {
                
        String providerTypeReadable1 = "MD";  
        String providerTypeReadable2 = "LUN";
                        
        userContext.addProviderType(providerTypeReadable1, ProviderTypeAccess.READBLE);
        userContext.addProviderType(providerTypeReadable2, ProviderTypeAccess.READBLE);
        
        Set<String> expected = new HashSet<>();
        expected.add(providerTypeReadable1);
        expected.add(providerTypeReadable2);
        

        assertEquals(expected, userContext.getReadableProviderTypes());

    
    }     
    
    /**
     * Test of addProviderType method, of class UserContext.
     */
    @Test
    public void testAddProviderType_Writable() throws Exception {
        
        String providerTypeWritable1 = "MD";  
        String providerTypeWritable2 = "LUN";
                        
        userContext.addProviderType(providerTypeWritable1, ProviderTypeAccess.WRITABLE);
        userContext.addProviderType(providerTypeWritable2, ProviderTypeAccess.WRITABLE);
        
        Set<String> expected = new HashSet<>();
        expected.add(providerTypeWritable1);
        expected.add(providerTypeWritable2);
        

        assertEquals(expected, userContext.getWritableProviderTypes());

    
    }  
    
    /**
     * Test of getAllowedProviderTypes method, of class UserContext.
     */
    @Test
    public void testGetAllowedProviderTypes() throws Exception {        

        String providerTypeReadable1 = "MD";  
        String providerTypeWritable2 = "LUN";
                        
        userContext.addProviderType(providerTypeReadable1, ProviderTypeAccess.READBLE);
        userContext.addProviderType(providerTypeWritable2, ProviderTypeAccess.WRITABLE);
        
        Set<String> expected = new HashSet<>();
        expected.add(providerTypeReadable1);
        expected.add(providerTypeWritable2);
        
        assertEquals(expected, userContext.getAllowedProviderTypes());
    
    } 

    /**
     * Test of search ProviderType ORG method, of class UserContext.
     */
    @Test
    public void testSearchProviderTypeOrg_Readable() throws Exception {
                
        String providerTypeReadable1 = "ORG";  
        String providerTypeReadable2 = "LUN";
                        
        userContext.addProviderType(providerTypeReadable1, ProviderTypeAccess.READBLE);
        userContext.addProviderType(providerTypeReadable2, ProviderTypeAccess.READBLE);
        
        Set<String> expected = new HashSet<>();
        expected.add(providerTypeReadable1);
        expected.add(providerTypeReadable2);
        

        assertEquals(expected, userContext.getReadableProviderTypes()); 
    
    }
   
}