/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.health.plr.service.distribution;

import ca.bc.gov.health.plr.dto.reguser.AccessProfileDto;
import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import static org.junit.Assert.assertTrue;
import org.junit.Test;

/**
 *
 * @author adebiyi.kuseju
 */
public class AccessProfileDistributeAfterDateComparatorTest {    

    /**
     * Test of compare method, of class PersonNameComparator.
     */
    @Test
    public void testCompare() throws ParseException{
        
        DateFormat formatter = new SimpleDateFormat("yyyy-MM-dd");
        
        List<AccessProfileDto> apdList = new ArrayList<>();
        AccessProfileDto p1 = new AccessProfileDto();
        AccessProfileDto p2 = new AccessProfileDto();
        AccessProfileDto p3 = new AccessProfileDto();
        AccessProfileDto p4 = new AccessProfileDto();
        AccessProfileDto p5 = new AccessProfileDto();
        
        p1.setDistributeAfter(null);
        p2.setDistributeAfter(formatter.parse("2017-06-18"));
        p3.setDistributeAfter(formatter.parse("2017-06-01"));
        p4.setDistributeAfter(formatter.parse("2017-06-20"));
        p5.setDistributeAfter(formatter.parse("2017-06-03"));
        
        apdList.add(p1);
        apdList.add(p2);
        apdList.add(p3);
        apdList.add(p4);
        apdList.add(p5);
                
        Collections.sort(apdList, new AccessProfileDistributeAfterDateComparator());
        
        assertTrue(p1 == apdList.get(0));
        assertTrue(p3 == apdList.get(1));
        assertTrue(p5 == apdList.get(2));
        assertTrue(p2 == apdList.get(3));
        assertTrue(p4 == apdList.get(4));        
    }
    
}
