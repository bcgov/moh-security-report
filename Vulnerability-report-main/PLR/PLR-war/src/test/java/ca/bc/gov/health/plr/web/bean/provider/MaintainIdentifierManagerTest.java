package ca.bc.gov.health.plr.web.bean.provider;

import ca.bc.gov.health.plr.dto.provider.CollegeIdentifierDto;
import ca.bc.gov.health.plr.dto.provider.ProviderDto;
import ca.bc.gov.health.plr.ejb.entity.PrsCtIdentifierTypes;
import ca.bc.gov.health.plr.service.provider.MaintainProviderIdentifierService;
import static org.junit.Assert.assertTrue;
import org.junit.Before;
import org.junit.Test;
import static org.mockito.Mockito.mock;

/**
 *
 * @author ian.scott
 */
public class MaintainIdentifierManagerTest {

    private MaintainIdentifierManager maintainIdentifierBean;
    private MaintainProviderIdentifierService mockMaintainProviderIdentifierService;

    @Before
    public void setUp() {
        mockMaintainProviderIdentifierService = mock(MaintainProviderIdentifierService.class);
        maintainIdentifierBean = new MaintainIdentifierManager();
        maintainIdentifierBean.maintainProviderIdentifierService = mockMaintainProviderIdentifierService;
        maintainIdentifierBean.identifierDto = new CollegeIdentifierDto();
    }

    /**
     * Test that the backing bean builds the default dto as expected service.
     */
    @Test
    public void testDefaultIdentifierBuilt() {
        maintainIdentifierBean.maintainProviderIdentifierService = mockMaintainProviderIdentifierService;
        maintainIdentifierBean.init();
        CollegeIdentifierDto identifierDto = maintainIdentifierBean.getIdentifierDto();
        assertTrue(identifierDto.getCreatedDate() == null);
        assertTrue(identifierDto.getDataOwnerCode() == null);
        assertTrue(identifierDto.getDataOwnerName() == null);
        assertTrue(identifierDto.getEffectiveEndDate() == null);
        assertTrue(identifierDto.getEffectiveStartDate() == null);
        assertTrue(identifierDto.getEndReasonCode() == null);
        assertTrue(identifierDto.getEndReasonCodeId() == null);
        assertTrue(identifierDto.getGenerationNum() == null);
        assertTrue(identifierDto.getId() == null);
        assertTrue(identifierDto.getIdentifier() == null);
        assertTrue(identifierDto.getIdentifier() == null);
        assertTrue(identifierDto.getPauthId() == null);
        assertTrue(identifierDto.getPsrPsrID() == null);
        assertTrue(identifierDto.getType() == null);
        assertTrue(identifierDto.getTypeCode() == null);
        assertTrue(identifierDto.getTypeId() == null);
        assertTrue(identifierDto.getUserChid() == null);
    }
}
