package ca.bc.gov.health.plr.web.bean;

import ca.bc.gov.health.plr.dto.dps.AccessProfileGroupDto;
import ca.bc.gov.health.plr.service.dps.DpsService;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;
import javax.annotation.PostConstruct;
import javax.ejb.EJB;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;
import javax.faces.context.FacesContext;

/**
 * Backing bean for Viewing the Data Permission Sets
 * View Name : ViewDataPermissionSets.xhtml.
 *
 * @author Sumesh.Kariyil
 */
@ManagedBean
@ViewScoped
public class DpsManager extends PlrManagedBean implements Serializable {
    
    private List<AccessProfileGroupDto> groups;
    
    @EJB
    private DpsService dpsService;
    
    private String panelToUpdate;
    
    /**
     * Initialize the backing transfer objects.
     */
    @PostConstruct
    public void init() {
        groups = new ArrayList<>();
        searchDps();
    }
    
    /**
     * View all the access profile groups (DPS)
     */
    public void searchDps() {
        if (!FacesContext.getCurrentInstance().getPartialViewContext().isAjaxRequest()) {
            groups = dpsService.findAllDps();
        }
    }    
    
    public List<AccessProfileGroupDto> getGroups() {
        return groups;
    }

    public void setGroups(List<AccessProfileGroupDto> groups) {
        this.groups = groups;
    }   

    public String getPanelToUpdate() {
        return panelToUpdate;
    }

    public void setPanelToUpdate(String panelToUpdate) {
        this.panelToUpdate = panelToUpdate;
    }

   
}
