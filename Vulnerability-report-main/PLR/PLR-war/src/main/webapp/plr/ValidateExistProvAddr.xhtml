<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/gov21Template.xhtml">
    <ui:define name="title">Validate Existing Provider Addresses</ui:define>
    <ui:define name="body">
        <style>
            #tableLayout td {
                border: none;
            }      
            tr.highlight {
                background: #999999  !important ;
                color : red !important;
            }
            #content tr, td{
                background: none;
            }
            .icon-spacing {
                padding-right: 3px;
            }  
        </style>
        <h2>Validate Existing Provider Addresses</h2>
        <hr/>
        
        <h:form id="providerAddressValidationForm">
            <p:messages id="messages" showDetail="false" closable="true">
                <p:autoUpdate disabled="false"/>
            </p:messages>
            <table id="tableLayout" style="border: none; width: 700px">
                <tbody>
                    <tr>
                        <td style="vertical-align: bottom;">
                            <p:commandButton id="batchValidateSubmitButton" 
                                             value="Validate Addresses" 
                                             actionListener="#{validateExistProvAddrManager.validate()}" 
                                             update="validationResultPanel"
                                              />
                            <p:ajaxStatus style="display:inline-block">
                                <f:facet name="start"><h:graphicImage value="/images/Spinner.gif"/></f:facet>
                                <f:facet name="complete"><h:outputText value="" /></f:facet>                     
                            </p:ajaxStatus>
                        </td>
                        <td>
                            <h:outputText rendered="#{validateExistProvAddrManager.processUtil.running == true}" value="Batch process is currently running."/>
                        </td>
                    </tr>                    
                </tbody>
            </table>
                <p:panel id="validationResultPanel" header="Processing Results" toggleTitle="Expand/Collapse" toggleable="true" collapsed="false" >
                    <h:panelGrid columns="2" cellpadding="2">
                        <h:outputLabel value="Date of last batch validation execution started:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.lastRunStartDateTime}"/>
                        <h:outputLabel value="Date of last batch validation execution completed:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.lastRunCompleteDateTime}"/>
                        <h:outputLabel value="Number of unknown records:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.numRecordsUnknown}"/>
                        <h:outputLabel value="Number of invalid records:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.numRecordsInvalid}"/>
                        <h:outputLabel value="Number of records processed:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.numRecordsProcessed}"/>
                        <h:outputLabel value="Number of statuses changed:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.numStatusChanges}"/>
                        <h:outputLabel value="Number of records changed to valid:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.numStatusToValid}"/>
                        <h:outputLabel value="Number of records changed to invalid:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.numStatusToInvalid}"/>
                        <h:outputLabel value="Number of records changed to unknown or n/a:"/><h:outputText value="#{validateExistProvAddrManager.addressValidationStatsDto.numStatusToUnknown}"/>
                    </h:panelGrid>
                </p:panel>
         </h:form>
    </ui:define>
</ui:composition>