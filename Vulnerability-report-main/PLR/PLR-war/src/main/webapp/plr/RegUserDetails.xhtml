<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/gov21Template.xhtml">

    <f:metadata>
        <f:viewParam name="r" value="#{viewRegUserManager.ruId}" 
                     required="#{not facesContext.postback}" requiredMessage="Bad URL. Please use a link from within the application." />
        <f:event type="preRenderView" listener="#{viewRegUserManager.viewDetails}" />
    </f:metadata>

    <ui:define name="title">Registry User Details</ui:define>
    <ui:define name="body">
        <style>
            td {
                border: none;
            }

            .ui-norecords-found {
                padding-left: 1em;
            }
            #outer-div {
                display: flex;
                justify-content: left;
            }
            #inner-div > div {
                display: inline-block;
                text-align: left;
                padding: 3px;
            }
        </style>
        <ui:include src="/WEB-INF/reguser/modal/MaintainParty.xhtml" />
        <ui:include src="/WEB-INF/reguser/modal/MaintainOrgName.xhtml" />
        <ui:include src="/WEB-INF/provider/modal/MaintainAddress.xhtml" />
        <ui:include src="/WEB-INF/provider/modal/MaintainTelecommunication.xhtml" />
        <ui:include src="/WEB-INF/provider/modal/MaintainElectronicAddress.xhtml" />
        <ui:include src="/WEB-INF/reguser/modal/MaintainDistribution.xhtml" />
        <ui:include src="/WEB-INF/reguser/modal/MaintainDataPermissions.xhtml" />
        
        <h:panelGroup id="headerGroup">
            <h:form id="form" style="padding-bottom: 2%;">
                    <div style="display:inline; font-size:1.5em">
                        <h:outputText value="#{viewRegUserManager.registryUserDetails.activeOrgName.name} - #{viewRegUserManager.registryUserDetails.activePartyDto.regUserId}"/>                       
                    </div>
                    <p:menubar style="float: right; bottom: 0.5em">                       
                        <p:menuitem  value="Expand All"
                                     action="#{viewRegUserManager.toggleCollapse}" update=":regUserDetailsGroup, :headerGroup" 
                                     rendered="#{viewRegUserManager.collapsed}" />
                        <p:menuitem  value="Collapse All" action="#{viewRegUserManager.toggleCollapse}" update=":regUserDetailsGroup, :headerGroup" 
                                     rendered="#{!viewRegUserManager.collapsed}" />
                        
                    </p:menubar>
            </h:form>
        </h:panelGroup>
		
        <p:messages id="modalMessages" showDetail="false" closable="true" globalOnly="true">
			<p:autoUpdate disabled="false"/>
		</p:messages>
		
        <p:growl severity="info" showDetail="false" for="#{viewRegUserManager.PROVIDER_DETAILS_GROWL}" globalOnly="false" >
			<p:autoUpdate disabled="false"/>
		</p:growl>
		
        <br/>
        <h:panelGroup id="regUserDetailsGroup">
            <ui:include src="/WEB-INF/reguser/details/RegUserOrganization.xhtml" /><br/>
            <ui:include src="/WEB-INF/reguser/details/OrgNames.xhtml" /><br/>
            <ui:include src="/WEB-INF/reguser/details/Addresses.xhtml" /><br/>
            <ui:include src="/WEB-INF/reguser/details/Telecommunications.xhtml" /><br/>
            <ui:include src="/WEB-INF/reguser/details/ElectronicAddresses.xhtml" /><br/>
            <ui:include src="/WEB-INF/reguser/details/Distributions.xhtml" /><br/>
            <ui:include src="/WEB-INF/reguser/details/DataPermissions.xhtml" /><br/>
        </h:panelGroup>
    </ui:define>
</ui:composition>