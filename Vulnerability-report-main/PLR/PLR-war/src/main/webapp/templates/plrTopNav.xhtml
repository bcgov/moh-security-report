<div xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:fn="http://java.sun.com/jsp/jstl/functions"
     xmlns:p="http://primefaces.org/ui"
     xmlns:c="http://java.sun.com/jsp/jstl/core"
     xmlns:ui="http://java.sun.com/jsf/facelets">
    <div class="subthemes overlayControls">
        <script>
            // <![CDATA[
            // Remove any extra pipe characters at the back of the menu items
            $(function() {
                $('menu li').filter(function() {
                    return $(this).children().size() === 0;
                }).remove();
            });          

            // ]]>
        </script>
        <menu class="horizontalMenu barSeparated">

            <li> 
                <h:commandLink id="searchLink" action="#{PlrMenuBean.changeMenu('search')}" value="Search" styleClass="#{(PlrMenuBean.selectedMenu eq 'search')?'selectedMenu':''}"/>
            </li>
            <li> 
                <h:commandLink id="addProviderLink" action="#{PlrMenuBean.changeMenu('addProvider')}" value="Add Provider" styleClass="#{(PlrMenuBean.selectedMenu eq 'addProvider')?'selectedMenu':''}"/>
            </li>
            <li> 
                <h:commandLink id="adminLink" action="#{PlrMenuBean.changeMenu('administration')}" value="Administration" styleClass="#{(PlrMenuBean.selectedMenu eq 'administration')?'selectedMenu':''}"/>
            </li>
        </menu>
    </div>
    <p:outputPanel id="subMenuPanelHolder" >
		<p:autoUpdate disabled="false"/>
        <p:outputPanel rendered="#{PlrMenuBean.selectedMenu =='addProvider'}" >
			<p:autoUpdate disabled="false"/>
            <div class="topics">
                <menu class="horizontalMenu barSeparated">
                    <li>                              
                        <h:link outcome="AddProvider" value="BC Practitioner">    
                            <f:param name="type" value="IND"/>
                            <f:param name="OOP" value="false"/>
                        </h:link>
                    </li>
                    <li>                              
                        <h:link outcome="AddProvider" value="Out of Province Practitioner">    
                            <f:param name="type" value="IND"/>
                            <f:param name="OOP" value="true"/>
                        </h:link>
                    </li>
                    <li>                              
                        <h:link outcome="AddProvider" value="Organization">    
                            <f:param name="type" value="ORG"/>
                            <f:param name="OOP" value="false"/>
                        </h:link>
                    </li>                   
                </menu>
            </div>
        </p:outputPanel>
        <p:outputPanel  rendered="#{PlrMenuBean.selectedMenu =='searchRegistryUser'}" >
			<p:autoUpdate disabled="false"/>
            <div class="topics">
                <menu class="horizontalMenu barSeparated">
                    <li>                              
                        <h:link outcome="SearchRegistryUser" value="Search User"/>    
                    </li>                   
                    <li>                              
                        <h:link outcome="AddRegistryUser" value="Add User"/>    
                    </li>
                </menu>
            </div>
        </p:outputPanel>
        <p:outputPanel  rendered="#{PlrMenuBean.selectedMenu =='administration'}" >
			<p:autoUpdate disabled="false"/>
			<div class="topics">
                <menu class="horizontalMenu barSeparated">
                    <li>                              
                        <h:link outcome="ViewDataPermissionSets" value="Maintain DPS"/>    
                    </li>
                    <li>                              
                        <h:link outcome="SearchRegistryUser" value="Search Registry User"/>    
                    </li>
                    <li>                              
                        <h:link outcome="AddRegistryUser" value="Add Registry User"/>    
                    </li>
                    <li>                              
                        <h:link outcome="ValidateExistProvAddr" value="Validate Existing Provider Addresses"/>    
                    </li>
                </menu>
            </div>
        </p:outputPanel>
    </p:outputPanel>
</div>
