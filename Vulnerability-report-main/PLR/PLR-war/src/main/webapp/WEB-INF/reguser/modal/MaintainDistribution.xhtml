<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    >
    <p:dialog id="maintainDistDialog" 
              header="#{maintainDistributionManager.distDto.new ? 'Add' : 'Update'} Distribution"
              widgetVar="maintainDistModal" modal="true" draggable="false" 
              closeOnEscape="true" resizable="false" fitViewport="true" width="335" height="740">
        <h:form id="maintainDistForm">
		
			<p:messages id="messages" showDetail="false" closable="true" >
				<p:autoUpdate disabled="false"/>
			</p:messages>

            <p:outputLabel for="profileType" value="Profile Type" styleClass="frmDialogLbl"/>
            <p:selectOneMenu value="#{maintainDistributionManager.distDto.profileTypeId}" id="profileType" required="true">
                <f:selectItems value="#{Droplists.grsCtDistributionProfileTypes}"/>
            </p:selectOneMenu>
            
            <p:outputLabel for="profileName" value="Profile Name" styleClass="frmDialogLbl"/>
            <p:inputText value="#{maintainDistributionManager.distDto.name}" id="profileName" required="true" styleClass="zeroMargin" />

            <p:outputLabel for="destAddress" value="Destination Address" styleClass="frmDialogLbl"/>
            <p:inputTextarea id="destAddress" autoResize="false" cols="30" value="#{maintainDistributionManager.distDto.destAddress}" required="true"  />
            
            <p:outputLabel for="upperCase" value="Upper Case Only" styleClass="frmDialogLbl"/>
            <p:selectBooleanCheckbox id="upperCase" value="#{maintainDistributionManager.distDto.upperCase}" />

            <p:outputLabel for="futureUpdates" value="Future Updates" styleClass="frmDialogLbl"/>
            <p:selectBooleanCheckbox id="futureUpdates" value="#{maintainDistributionManager.distDto.futureUpdates}" />
            
            <p:outputLabel for="direct" value="Is HIAL" styleClass="frmDialogLbl"/>
            <p:selectBooleanCheckbox id="direct" value="#{maintainDistributionManager.distDto.isHial}" />

            <p:outputLabel for="dataOptions" value="Data Options" styleClass="frmDialogLbl"/>
            <p:selectOneMenu value="#{maintainDistributionManager.distDto.optionCodeId}" id="dataOptions" required="true">
                <f:selectItems value="#{Droplists.grsCtOptionCodes}"/>
            </p:selectOneMenu>
            
            <p:outputLabel for="distHold" value="Distribution Hold Flag" styleClass="frmDialogLbl"/>
            <p:selectBooleanCheckbox id="distHold" value="#{maintainDistributionManager.distDto.hold}" />

            <p:outputLabel for="createCode" value="Distribute Create Code" styleClass="frmDialogLbl"/>
            <p:selectOneMenu value="#{maintainDistributionManager.distDto.createCodeId}" id="createCode" required="true">
                <f:selectItems value="#{Droplists.grsCtDistributionOnOperations}"/>
            </p:selectOneMenu>

            <p:outputLabel for="updateCode" value="Distribute Updates Code" styleClass="frmDialogLbl"/>
            <p:selectOneMenu value="#{maintainDistributionManager.distDto.updateCodeId}" id="updateCode" required="true">
                <f:selectItems value="#{Droplists.grsCtDistributionOnOperations}"/>
            </p:selectOneMenu>
            
            <p:outputLabel for="ownCode" value="Distribute Own Code" styleClass="frmDialogLbl"/>
            <p:selectOneMenu value="#{maintainDistributionManager.distDto.ownCodeId}" id="ownCode" required="true">
                <f:selectItems value="#{Droplists.grsCtDistributionOwnCodes}"/>
            </p:selectOneMenu>
            <ui:fragment rendered="#{!maintainDistributionManager.distDto.new}">
                <p:outputLabel for="EndReasonType" value="End Reason" styleClass="frmDialogLbl"/>
                <p:selectOneMenu id="EndReasonType" value="#{maintainDistributionManager.distDto.endReasonCodeId}" required="true">
                    <f:selectItems value="#{Droplists.grsCtEndReasonTypes}" />
                </p:selectOneMenu>
            </ui:fragment>

            <div class="formControls">
                <p:commandButton id="idDistSubmitButton" value="#{maintainDistributionManager.distDto.new ? 'Create' : 'Update'}" actionListener="#{maintainDistributionManager.save(true)}" oncomplete="if (args &amp;&amp; !args.validationFailed) PF('maintainDistModal').hide(); return false;" update=":maintainDistForm, #{maintainDistributionManager.panelToUpdate}" />
                <p:ajaxStatus style="display:inline-block">
                    <f:facet name="start"><h:graphicImage value="/resources/Spinner.gif"/></f:facet>
                    <f:facet name="complete"><h:outputText value="" /></f:facet>                     
                </p:ajaxStatus>    
                <a href="#" onclick="PF('maintainDistModal').hide();
                        return false;">Cancel</a>
            </div>
            
        </h:form>
    </p:dialog> 
</ui:composition>