<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:f="http://java.sun.com/jsf/core" 
                xmlns:p="http://primefaces.org/ui" 
                template="/WEB-INF/templates/gov30Template.xhtml">

    <ui:define name="title">
        <h:outputFormat value="#{msg['title.chartOfAccounts']}" />
    </ui:define>


    <ui:define name="content">

        <script lang="javascript">
            function startSpin() {
                document.getElementById('form1:spinner').style.display = 'block';
            }
            function stopSpin() {
                document.getElementById('form1:spinner').style.display = 'none';
            }
        </script>

        <ui:include src="/WEB-INF/fragments/navTabs/adminTabs.xhtml" />
        <p:messages id="messages" closable="true" escape="false" />

        <h:form id="form1">
            <div class="ui-g">
                <div class="ui-g-3">
                    <p:outputLabel for="year" value="#{msg['maintainMappings.label.fiscalYear']}" />
                    <h:selectOneMenu id="year" value="#{ChartOfAccountsBean.fiscalYear}" required="true"> 
                        <p:ajax event="change" listener="#{ChartOfAccountsBean.onYearChange()}" update="tabForm" 
                                onstart="startSpin()" oncomplete="stopSpin()" />
                        <f:selectItems value="#{DroplistBean.fiscalYears}" var="item" />
                    </h:selectOneMenu>
                </div>
                <div class="ui-g-3">
                    <p:ajaxStatus>
                        <f:facet name="default" />
                        <f:facet name="start">
                            <h:graphicImage id="spinner" width="23" height="23" value="/resources/template-images/animated-spinner.gif" 
                                            styleClass="spinner" />
                        </f:facet>
                    </p:ajaxStatus>
                </div>
            </div>
        </h:form>
        <h:form id="tabForm">
            <p:tabView id="tabs">
                <p:ajax event="tabChange" listener="#{ChartOfAccountsBean.selectTab}" update="tabs" onstart="startSpin()" oncomplete="stopSpin()" />
                <p:tab title="#{msg['chartOfAccounts.primary']}" id="primary">
                    <div>
                        <div class="float-left">
                            <p:commandButton id="viewAccount" value="#{msg['chartOfAccounts.viewAccount']}" rendered="#{!ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.viewEnabled}" oncomplete="PF('primaryWidget').show();" update="primaryDialog" />
                            <p:commandButton id="createAccount" value="#{msg['chartOfAccounts.createAccount']}" rendered="#{ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.createEnabled}" action="#{ChartOfAccountsBean.createAccount()}" oncomplete="PF('primaryWidget').show();" update="primaryDialog" />
                            <p:commandButton id="updateAccount" value="#{msg['chartOfAccounts.updateAccount']}" rendered="#{ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.updateEnabled}" action="#{ChartOfAccountsBean.updateAccount()}" oncomplete="PF('primaryWidget').show();" update="primaryDialog" />
                        </div>
                        <div class="align-right">
                            <i class="pi pi-search"></i>
                            <p:inputText value="#{ChartOfAccountsBean.searchCriteria}" styleClass="treeFilter" id="primarySearch" type="search">
                                <p:ajax event="keyup" listener="#{ChartOfAccountsBean.onFilter()}" 
                                        update="primaryTree tabForm:tabs:createAccount tabForm:tabs:updateAccount tabForm:tabs:viewAccount" />
                                <p:ajax event="blur" listener="#{ChartOfAccountsBean.onFilter()}" 
                                        update="primaryTree tabForm:tabs:createAccount tabForm:tabs:updateAccount tabForm:tabs:viewAccount" />
                            </p:inputText>
                        </div>
                    </div>
                    <p:tree id="primaryTree" dynamic="false" value="#{ChartOfAccountsBean.primaryAccounts}" var="account" selectionMode="single" selection="#{ChartOfAccountsBean.selectedAccount}">
                        <p:ajax event="select" listener="#{ChartOfAccountsBean.onNodeSelect}" update="tabForm:tabs:createAccount tabForm:tabs:updateAccount tabForm:tabs:viewAccount" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:ajax event="unselect" listener="#{ChartOfAccountsBean.onNodeUnselect}" update="tabForm:tabs:createAccount tabForm:tabs:updateAccount tabForm:tabs:viewAccount" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:ajax event="expand" listener="#{ChartOfAccountsBean.onNodeExpand}" />
                        <p:ajax event="collapse" listener="#{ChartOfAccountsBean.onNodeCollapse}" update="tabForm" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:ajax event="filter" listener="#{ChartOfAccountsBean.onFilter}" update="tabForm:tabs:createAccount tabForm:tabs:updateAccount tabForm:tabs:viewAccount" />
                        <p:treeNode type="top" styleClass="topLevel">
                            <h:outputText value="#{account.accountNumber}" /> - <h:outputText value="#{account.accountName}" />
                        </p:treeNode>
                        <p:treeNode type="child" styleClass="child">
                            <h:outputText value="#{account.accountNumber}" /> - <h:outputText value="#{account.accountName}" />
                        </p:treeNode>
                    </p:tree>
                </p:tab>
                <p:tab title="#{msg['chartOfAccounts.secondaryFinancial']}" id="secondaryFinancial">
                    <div>
                        <div class="float-left">
                            <p:commandButton id="viewFinancial" value="#{msg['chartOfAccounts.viewAccount']}" rendered="#{!ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.viewEnabled}" oncomplete="PF('secondaryWidget').show();" update="secondaryDialog" />
                            <p:commandButton id="createFinancial" value="#{msg['chartOfAccounts.createAccount']}" rendered="#{ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.createEnabled}" action="#{ChartOfAccountsBean.createAccount()}" oncomplete="PF('secondaryWidget').show();" update="secondaryDialog" />
                            <p:commandButton id="updateFinancial" value="#{msg['chartOfAccounts.updateAccount']}" rendered="#{ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.updateEnabled}" action="#{ChartOfAccountsBean.updateAccount()}" oncomplete="PF('secondaryWidget').show();" update="secondaryDialog" />
                        </div>
                        <div class="align-right">
                            <i class="pi pi-search"></i>
                            <p:inputText value="#{ChartOfAccountsBean.searchCriteria}" styleClass="treeFilter" id="secondaryFinancialSearch">
                                <p:ajax event="keyup" listener="#{ChartOfAccountsBean.onFilter()}" update="secondaryFinancialTree tabForm:tabs:viewFinancial tabForm:tabs:createFinancial tabForm:tabs:updateFinancial" />
                                <p:ajax event="blur" listener="#{ChartOfAccountsBean.onFilter()}" update="secondaryFinancialTree tabForm:tabs:viewFinancial tabForm:tabs:createFinancial tabForm:tabs:updateFinancial" />
                            </p:inputText>
                        </div>
                    </div>
                    <p:tree id="secondaryFinancialTree" dynamic="false" value="#{ChartOfAccountsBean.primaryAccounts}" var="account" selectionMode="single" selection="#{ChartOfAccountsBean.selectedAccount}">
                        <p:ajax event="select" listener="#{ChartOfAccountsBean.onNodeSelect}" update="tabForm:tabs:viewFinancial tabForm:tabs:createFinancial tabForm:tabs:updateFinancial" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:ajax event="unselect" listener="#{ChartOfAccountsBean.onNodeUnselect}" update="tabForm:tabs:viewFinancial tabForm:tabs:createFinancial tabForm:tabs:updateFinancial" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:ajax event="expand" listener="#{ChartOfAccountsBean.onNodeExpand}" />
                        <p:ajax event="collapse" listener="#{ChartOfAccountsBean.onNodeCollapse}" update="tabForm" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:treeNode type="top" styleClass="topLevel">
                            <h:outputText value="#{account.accountNumber}" /> - <h:outputText value="#{account.accountName}" />
                        </p:treeNode>
                        <p:treeNode type="child" styleClass="child">
                            <h:outputText value="#{account.accountNumber}" /> - <h:outputText value="#{account.accountName}" />
                        </p:treeNode>
                    </p:tree>
                </p:tab>
                <p:tab title="#{msg['chartOfAccounts.secondaryStatistical']}" id="secondaryStatistical">
                    <div>
                        <div class="float-left">
                            <p:commandButton id="viewStatistical" value="#{msg['chartOfAccounts.viewAccount']}" rendered="#{!ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.viewEnabled}" oncomplete="PF('secondaryWidget').show();" update="secondaryDialog" />
                            <p:commandButton id="createStatistical" value="#{msg['chartOfAccounts.createAccount']}" rendered="#{ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.createEnabled}" action="#{ChartOfAccountsBean.createAccount()}" oncomplete="PF('secondaryWidget').show();" update="secondaryDialog" />
                            <p:commandButton id="updateStatistical" value="#{msg['chartOfAccounts.updateAccount']}" rendered="#{ChartOfAccountsBean.isEditableFiscalYear()}" disabled="#{!ChartOfAccountsBean.updateEnabled}" action="#{ChartOfAccountsBean.updateAccount()}" oncomplete="PF('secondaryWidget').show();" update="secondaryDialog" />
                        </div>
                        <div class="align-right">
                            <i class="pi pi-search"></i>
                            <p:inputText value="#{ChartOfAccountsBean.searchCriteria}" styleClass="treeFilter" id="secondaryStatisticalSearch">
                                <p:ajax event="keyup" listener="#{ChartOfAccountsBean.onFilter()}" update="secondaryStatisticalTree tabForm:tabs:viewStatistical tabForm:tabs:createStatistical tabForm:tabs:updateStatistical" />
                                <p:ajax event="blur" listener="#{ChartOfAccountsBean.onFilter()}" update="secondaryStatisticalTree tabForm:tabs:viewStatistical tabForm:tabs:createStatistical tabForm:tabs:updateStatistical" />
                            </p:inputText>
                        </div>
                    </div>
                    <p:tree id="secondaryStatisticalTree" dynamic="false" value="#{ChartOfAccountsBean.primaryAccounts}" var="account" selectionMode="single" selection="#{ChartOfAccountsBean.selectedAccount}">
                        <p:ajax event="select" listener="#{ChartOfAccountsBean.onNodeSelect}" update="tabForm:tabs:createStatistical tabForm:tabs:updateStatistical tabForm:tabs:viewStatistical" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:ajax event="unselect" listener="#{ChartOfAccountsBean.onNodeUnselect}" update="tabForm:tabs:createStatistical tabForm:tabs:updateStatistical tabForm:tabs:viewStatistical" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:ajax event="expand" listener="#{ChartOfAccountsBean.onNodeExpand}" />
                        <p:ajax event="collapse" listener="#{ChartOfAccountsBean.onNodeCollapse}" update="tabForm" onstart="startSpin()" oncomplete="stopSpin()" />
                        <p:treeNode type="top" styleClass="topLevel">
                            <h:outputText value="#{account.accountNumber}" /> - <h:outputText value="#{account.accountName}" />
                        </p:treeNode>
                        <p:treeNode type="child" styleClass="child">
                            <h:outputText value="#{account.accountNumber}" /> - <h:outputText value="#{account.accountName}" />
                        </p:treeNode>
                    </p:tree>
                </p:tab>
            </p:tabView>
        </h:form>

        <p:dialog id="primaryDialog" header="#{ChartOfAccountsBean.view?msg['chartOfAccounts.viewAccount']:ChartOfAccountsBean.create?msg['chartOfAccounts.createAccount']:msg['chartOfAccounts.updateAccount']}" width="650" closable="false" modal="true" resizable="false" visible="false" widgetVar="primaryWidget">
            <h:form id="primaryForm">
                <p:messages id="primaryMessages" closable="true" />
                <div class="ui-g">
                    <div class="ui-g-6">
                        <p:outputLabel for="parentAccount" value="#{msg['chartOfAccounts.parentAccount']}" styleClass="disabled" />
                        <p:inputText id="parentAccount" value="#{ChartOfAccountsBean.create?ChartOfAccountsBean.selectedAccountNumber:ChartOfAccountsBean.parentAccountNumber}" disabled="true" style="pointer-events: all" title="#{ChartOfAccountsBean.create?ChartOfAccountsBean.selectedAccountNumber:ChartOfAccountsBean.parentAccountNumber}" />
                    </div>
                </div>
                <div class="ui-g">
                    <div class="ui-g-12" style="margin-bottom: 0">
                        <p:outputLabel value="#{msg['chartOfAccounts.accountNo']}" indicateRequired="true" />
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="accType" required="true" maxlength="1" size="1" value="#{ChartOfAccountsBean.primaryAccount.acctypCode}" disabled="true" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.acctypCode}" styleClass="twochars" />
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="fndType" required="true" maxlength="1" size="1" value="#{ChartOfAccountsBean.primaryAccount.fndtypCode}" disabled="true" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.fndtypCode}" styleClass="twochars" />
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl2" label="Level 3" required="true" maxlength="1" size="1" value="#{ChartOfAccountsBean.primaryAccount.lvl2}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.primaryAccount.lvlInd!=2}" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.lvl2}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)" />
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl3" label="Level 4" required="true" maxlength="2" size="2" value="#{ChartOfAccountsBean.primaryAccount.lvl3}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.primaryAccount.lvlInd!=3}" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.lvl3}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)">
                            <f:validateLength minimum="2" />
                        </p:inputText>
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl4" label="Level 5" required="true" maxlength="2" size="2" value="#{ChartOfAccountsBean.primaryAccount.lvl4}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.primaryAccount.lvlInd!=4}" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.lvl4}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)">
                            <f:validateLength minimum="2" />
                        </p:inputText>
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl5" label="Level 6" required="true" maxlength="2" size="2" value="#{ChartOfAccountsBean.primaryAccount.lvl5}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.primaryAccount.lvlInd!=5}" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.lvl5}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)">
                            <f:validateLength minimum="2" />
                        </p:inputText>
                    </div>
                </div>
                <div class="ui-g">
                    <div class="ui-g-6">
                        <p:outputLabel for="fullName" value="#{msg['chartOfAccounts.fullName']}" indicateRequired="true" />
                        <p:inputText id="fullName" value="#{ChartOfAccountsBean.primaryAccount.levelName}" disabled="#{ChartOfAccountsBean.isView()}" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.levelName}" required="true" maxlength="80" />
                    </div>
                </div>
                <div class="ui-g">
                    <div class="ui-g-6">
                        <p:outputLabel for="shortName" value="#{msg['chartOfAccounts.shortName']}" indicateRequired="true" />
                        <p:inputText id="shortName" value="#{ChartOfAccountsBean.primaryAccount.shortName}" disabled="#{ChartOfAccountsBean.isView()}" style="pointer-events: all" title="#{ChartOfAccountsBean.primaryAccount.shortName}" required="true" maxlength="30" />
                    </div>
                </div>
                <div class="ui-g">
                    <h:panelGrid columns="1">
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.primaryAccount.actionableBoolean}" itemLabel="#{msg['chartOfAccounts.actionable']}" disabled="#{ChartOfAccountsBean.isView()}" /> 
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.primaryAccount.bcAccountBoolean}" itemLabel="#{msg['chartOfAccounts.bcOnly']}" disabled="#{ChartOfAccountsBean.isView()}" /> 
                    </h:panelGrid>
                </div>
                <div class="ui-g">
                    <p:commandButton id="addUpdate" value="#{ChartOfAccountsBean.create?msg['hamis.button.create']:msg['hamis.button.update']}" rendered="#{!ChartOfAccountsBean.isView()}" action="#{ChartOfAccountsBean.save()}" update="tabForm primaryForm messages primaryMessages" oncomplete="if (!args.validationFailed){PF('primaryWidget').hide();}" />
                    <p:commandButton id="cancel" value="#{msg['hamis.button.cancel']}" styleClass="secondary" onclick="PF('primaryWidget').hide();" process="@this">
                        <p:resetInput target="primaryForm" />
                    </p:commandButton>
                    <p:commandButton id="delete" value="#{msg['hamis.button.delete']}" styleClass="red" onclick="PF('deleteDialogWidget').show();" rendered="#{ChartOfAccountsBean.isUpdate()}" disabled="#{!ChartOfAccountsBean.deleteEnabled}" />
                </div>
            </h:form>
        </p:dialog>

        <p:dialog id="secondaryDialog" header="#{ChartOfAccountsBean.view?msg['chartOfAccounts.viewAccount']:ChartOfAccountsBean.create?msg['chartOfAccounts.createAccount']:msg['chartOfAccounts.updateAccount']}" width="650" closable="false" modal="true" resizable="false" visible="false" widgetVar="secondaryWidget">
            <h:form id="secondaryForm">
                <p:messages id="secondaryMessages" closable="true" />
                <div class="ui-g">
                    <div class="ui-g-6">
                        <p:outputLabel for="parentAccount" value="#{msg['chartOfAccounts.parentAccount']}" styleClass="disabled" />
                        <p:inputText id="parentAccount" value="#{ChartOfAccountsBean.create?ChartOfAccountsBean.selectedAccountNumber:ChartOfAccountsBean.parentAccountNumber}" disabled="true" style="pointer-events: all" title="#{ChartOfAccountsBean.create?ChartOfAccountsBean.selectedAccountNumber:ChartOfAccountsBean.parentAccountNumber}" />
                    </div>
                </div>
                <div class="ui-g">
                    <div class="ui-g-12" style="margin-bottom: 0">
                        <p:outputLabel value="#{msg['chartOfAccounts.accountNo']}" indicateRequired="true" />
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl1" label="Level 1" required="true" maxlength="1" size="1" value="#{ChartOfAccountsBean.secondaryAccount.lvl1}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.secondaryAccount.lvlInd!=1}" style="pointer-events: all" title="#{ChartOfAccountsBean.secondaryAccount.lvl1}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)" />
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl2" label="Level 2" required="true" maxlength="2" size="2" value="#{ChartOfAccountsBean.secondaryAccount.lvl2}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.secondaryAccount.lvlInd!=2}" style="pointer-events: all" title="#{ChartOfAccountsBean.secondaryAccount.lvl2}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)">
                            <f:validateLength minimum="2" />
                        </p:inputText>
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl3" label="Level 3" required="true" maxlength="2" size="2" value="#{ChartOfAccountsBean.secondaryAccount.lvl3}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.secondaryAccount.lvlInd!=3}" style="pointer-events: all" title="#{ChartOfAccountsBean.secondaryAccount.lvl3}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)">
                            <f:validateLength minimum="2" />
                        </p:inputText>
                    </div>
                    <div class="ui-g-1">
                        <p:inputText id="lvl4" label="Level 4" required="true" maxlength="2" size="2" value="#{ChartOfAccountsBean.secondaryAccount.lvl4}" disabled="#{ChartOfAccountsBean.isView() || ChartOfAccountsBean.isUpdate() || ChartOfAccountsBean.secondaryAccount.lvlInd!=4}" style="pointer-events: all" title="#{ChartOfAccountsBean.secondaryAccount.lvl4}" styleClass="twochars" onfocus="this.setSelectionRange(0, this.value.length)">
                            <f:validateLength minimum="2" />
                        </p:inputText>
                    </div>
                </div>
                <div class="ui-g">
                    <div class="ui-g-6">
                        <p:outputLabel for="fullName" value="#{msg['chartOfAccounts.fullName']}" indicateRequired="true" />
                        <p:inputText id="fullName" value="#{ChartOfAccountsBean.secondaryAccount.levelName}" disabled="#{ChartOfAccountsBean.isView()}" style="pointer-events: all" title="#{ChartOfAccountsBean.secondaryAccount.levelName}" required="true" maxlength="80" />
                    </div>
                </div>
                <div class="ui-g">
                    <div class="ui-g-6">
                        <p:outputLabel for="shortName" value="#{msg['chartOfAccounts.shortName']}" indicateRequired="true" />
                        <p:inputText id="shortName" value="#{ChartOfAccountsBean.secondaryAccount.shortName}" disabled="#{ChartOfAccountsBean.isView()}" style="pointer-events: all" title="#{ChartOfAccountsBean.secondaryAccount.shortName}" required="true" maxlength="30" />
                    </div>
                </div>
                <div class="ui-g">
                    <h:panelGrid columns="1">
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.secondaryAccount.actionableBoolean}" disabled="#{ChartOfAccountsBean.isView()}" itemLabel="#{msg['chartOfAccounts.actionable']}" /> 
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.secondaryAccount.bcAccountBoolean}" disabled="#{ChartOfAccountsBean.isView()}" itemLabel="#{msg['chartOfAccounts.bcOnly']}" /> 
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.secondaryAccount.amortAcctIndBoolean}" disabled="#{ChartOfAccountsBean.isView()}" itemLabel="#{msg['chartOfAccounts.amortizable']}" rendered="#{ChartOfAccountsBean.isSecondaryFinancial()}" /> 
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.secondaryAccount.affXferAccountBoolean}" disabled="#{ChartOfAccountsBean.isView()}" itemLabel="#{msg['chartOfAccounts.internalAccount']}" rendered="#{ChartOfAccountsBean.isSecondaryFinancial()}" /> 
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.secondaryAccount.haXferAccountBoolean}" disabled="#{ChartOfAccountsBean.isView()}" itemLabel="#{msg['chartOfAccounts.externalAccount']}" rendered="#{ChartOfAccountsBean.isSecondaryFinancial()}" />
                        <p:selectBooleanCheckbox value="#{ChartOfAccountsBean.secondaryAccount.extXferAccountBoolean}" disabled="#{ChartOfAccountsBean.isView()}" itemLabel="#{msg['chartOfAccounts.affiliateAccount']}" rendered="#{ChartOfAccountsBean.isSecondaryFinancial()}" /> 
                    </h:panelGrid>
                </div>
                <div class="ui-g">
                    <p:commandButton id="addUpdate" value="#{ChartOfAccountsBean.create?msg['hamis.button.create']:msg['hamis.button.update']}" action="#{ChartOfAccountsBean.save()}" update="tabForm secondaryForm messages secondaryMessages" oncomplete="if (!args.validationFailed){PF('secondaryWidget').hide();}" rendered="#{!ChartOfAccountsBean.isView()}" />
                    <p:commandButton id="cancel" value="#{msg['hamis.button.cancel']}" styleClass="secondary" onclick="PF('secondaryWidget').hide();" process="@this" update="messages tabForm">
                        <p:resetInput target="secondaryForm" />
                    </p:commandButton>
                    <p:commandButton id="delete" value="#{msg['hamis.button.delete']}" styleClass="red" onclick="PF('deleteDialogWidget').show();" rendered="#{ChartOfAccountsBean.isUpdate()}" disabled="#{!ChartOfAccountsBean.deleteEnabled}" />
                </div>
            </h:form>
        </p:dialog>

        <p:dialog id="deleteDialog" width="650" closable="false" modal="true" resizable="false" visible="false" widgetVar="deleteDialogWidget" header="#{msg['chartOfAccounts.deleteTitle']}">
            <div class="dialogMessage">
                #{msg['chartOfAccounts.deleteDesc']}
            </div>
            <h:form id="deleteForm">
                <p:commandButton id="delete" value="#{msg['hamis.button.delete']}" styleClass="red" action="#{ChartOfAccountsBean.delete()}" ajax="false" oncomplete="PF('deleteDialogWidget').hide();PF('primaryWidget').hide();PF('secondaryWidget').hide();" update="tabForm messages" />
                <p:commandButton id="cancel" value="#{msg['hamis.button.cancel']}" styleClass="secondary" oncomplete="PF('deleteDialogWidget').hide();" process="@this" />
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>