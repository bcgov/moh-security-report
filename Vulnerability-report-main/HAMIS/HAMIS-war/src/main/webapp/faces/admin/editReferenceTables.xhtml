<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:f="http://java.sun.com/jsf/core" 
                xmlns:p="http://primefaces.org/ui" 
                template="/WEB-INF/templates/gov30Template.xhtml">

    <ui:define name="title">
        <h:outputFormat value="#{msg['title.editLookupTables']}" />
    </ui:define>

    <ui:define name="content">

        <p:importConstants type="ca.bc.gov.health.hamis.beans.administration.CodeTablesBean$Tasks" var="PageTasks" />

        <script lang="javascript">
            function startSpin() {
                document.getElementById('fiscalYearForm:spinner').style.display = 'block';
            }
            function stopSpin() {
                document.getElementById('fiscalYearForm:spinner').style.display = 'none';
            }
        </script>

        <ui:include src="/WEB-INF/fragments/navTabs/adminTabs.xhtml" />

        <p:messages closable="true" id="pageMessages" rendered="#{CodeTablesBean.enablePageMessages}">
            <p:autoUpdate disabled="false" />
        </p:messages>

        <p:panel id="codeTablesDependentOnFiscalYear">
            <h:form id="fiscalYearForm">
                <div class="ui-g">
                    <div class="ui-g-3">
                        <p:outputLabel for="year" value="#{msg['codeTables.label.fiscalYear']}" />
                        <h:selectOneMenu id="year" value="#{CodeTablesBean.fiscalYear}"> 
                            <p:ajax event="change" listener="#{CodeTablesBean.onYearChange()}" 
                                    update="sectorTypesForm subSectorTypesForm providerTypesForm"
                                    onstart="startSpin()" oncomplete="stopSpin()" />
                            <f:selectItems value="#{DroplistBean.fiscalYears}" var="item" />
                        </h:selectOneMenu>
                    </div>
                    <div class="ui-g-3">
                        <p:ajaxStatus>
                            <f:facet name="default" />
                            <f:facet name="start">
                                <h:graphicImage id="spinner" width="23" height="23" value="/resources/template-images/animated-spinner.gif" 
                                                styleClass="spinner" />
                            </f:facet>
                        </p:ajaxStatus>
                    </div>
                </div>
            </h:form>

            <!-- Sector types -->
            <h:form id="sectorTypesForm">
                <p:dataTable id="sectorsTypesTable" value="#{CodeTablesBean.sectorTypes}" var="row" selectionMode="single" 
                             rowKey="#{row.sctrtypCode}" rowIndexVar="rowIndex" sortBy="#{row.sctrtypCode}"
                             paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                             currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                             paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                             selection="#{CodeTablesBean.sectorType}"
                             styleClass="editCodeTable">
                    <f:facet name="header">
                        <p:outputPanel styleClass="editCodeTableCaption">
                            <h:outputText value="#{msg['codeTables.title.sectors']}" />
                        </p:outputPanel>
                    </f:facet>
                    <f:attribute name="task" value="#{PageTasks.UPDATE_SECTOR_TYPE}" />
                    <p:ajax event="rowSelect" 
                            disabled="#{!CodeTablesBean.editableFiscalYear}"
                            listener="#{CodeTablesBean.updateExistingType}"	
                            resetValues="true"
                            update="codeEditForm:codeEditDialog" 
                            oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                    <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                    <p:column sortBy="#{row.sctrtypCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.sctrtypCode}</p:column>
                </p:dataTable>
                <p:commandButton styleClass="editCodePageCreate" id="createSectorType" 
                                 value="#{msg['codeTables.button.create']}"
                                 disabled="#{!CodeTablesBean.editableFiscalYear}"
                                 action="#{CodeTablesBean.createNewType()}" 
                                 update="codeEditForm:codeEditDialog"
                                 oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                    <f:param name="task" value="#{PageTasks.CREATE_SECTOR_TYPE}" />
                </p:commandButton>
            </h:form> 

            <!-- Sub-Sector (Service) types -->
            <h:form id="subSectorTypesForm">
                <p:dataTable id="subSectorsTypesTable" value="#{CodeTablesBean.serviceTypes}" var="row" selectionMode="single" 
                             rowKey="#{row.srvctypCode}" rowIndexVar="rowIndex" sortBy="#{row.srvctypCode}"
                             paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                             currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                             paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                             selection="#{CodeTablesBean.serviceType}"
                             styleClass="editCodeTable">
                    <f:facet name="header">
                        <p:outputPanel styleClass="editCodeTableCaption">
                            <h:outputText value="#{msg['codeTables.title.subSectors']}" />
                        </p:outputPanel>
                    </f:facet>
                    <f:attribute name="task" value="#{PageTasks.UPDATE_SUBSECTOR_TYPE}" />
                    <p:ajax event="rowSelect" 
                            disabled="#{!CodeTablesBean.editableFiscalYear}"
                            listener="#{CodeTablesBean.updateExistingType}"	
                            resetValues="true"
                            update="codeEditForm:codeEditDialog" 
                            oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                    <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                    <p:column sortBy="#{row.srvctypCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.srvctypCode}</p:column>
                </p:dataTable>
                <p:commandButton styleClass="editCodePageCreate" id="createServiceType" 
                                 value="#{msg['codeTables.button.create']}"
                                 disabled="#{!CodeTablesBean.editableFiscalYear}"
                                 action="#{CodeTablesBean.createNewType()}" 
                                 update="codeEditForm:codeEditDialog"
                                 oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                    <f:param name="task" value="#{PageTasks.CREATE_SUBSECTOR_TYPE}" />
                </p:commandButton>
            </h:form>

            <!-- Provider Types -->
            <h:form id="providerTypesForm">
                <p:dataTable id="providerTypesTable" value="#{CodeTablesBean.providerTypes}" var="row" selectionMode="single" 
                             rowKey="#{row.harpPrvdrCode}" rowIndexVar="rowIndex" sortBy="#{row.harpPrvdrCode}"
                             paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                             currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                             paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                             selection="#{CodeTablesBean.providerType}"
                             styleClass="editCodeTable">
                    <f:facet name="header">
                        <p:outputPanel styleClass="editCodeTableCaption">
                            <h:outputText value="#{msg['codeTables.title.providers']}" />
                        </p:outputPanel>
                    </f:facet>
                    <f:attribute name="task" value="#{PageTasks.UPDATE_PROVIDER_TYPE}" />
                    <p:ajax event="rowSelect" 
                            disabled="#{!CodeTablesBean.editableFiscalYear}"
                            listener="#{CodeTablesBean.updateExistingType}"	
                            resetValues="true"
                            update="codeEditForm:codeEditDialog" 
                            oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                    <p:column sortBy="#{row.harpPrvdrCode}" sortOrder="asc" headerText="#{msg['codeTables.column.providerCode']}">#{row.harpPrvdrCode}</p:column>
                    <p:column sortBy="#{row.sctrId.description}" headerText="#{msg['codeTables.column.sectorType']}">#{row.sctrId.description}</p:column>
                    <p:column sortBy="#{row.srvcId.description}" headerText="#{msg['codeTables.column.subSectorType']}">#{row.srvcId.description}</p:column>
                    <p:column sortBy="#{row.harpAbbreviation}" headerText="#{msg['codeTables.column.nationalCode']}">#{row.harpAbbreviation}</p:column>
                </p:dataTable>
                <p:commandButton id="createProviderType" 
                                 value="#{msg['codeTables.button.create']}"
                                 disabled="#{!CodeTablesBean.editableFiscalYear}"
                                 action="#{CodeTablesBean.createNewType()}" 
                                 update="codeEditForm:codeEditDialog"
                                 oncomplete="if (#{CodeTablesBean.showProviderCreateDialogue}){PF('codeEditDialogWidget').show(); $('#pageMessages').html('')} else {PrimeFaces.scrollTo('pageMessages')}">
                    <f:param name="task" value="#{PageTasks.CREATE_PROVIDER_TYPE}" />
                </p:commandButton>
            </h:form>
        </p:panel>
        <!-- Account types -->
        <h:form id="accountTypesForm">
            <p:dataTable id="accountTypesTable" value="#{CodeTablesBean.accountTypes}" var="row" selectionMode="single" 
                         rowKey="#{row.acctypCode}" rowIndexVar="rowIndex" sortBy="#{row.acctypCode}"
                         paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                         currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                         paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                         selection="#{CodeTablesBean.accountType}"
                         styleClass="editCodeTable">
                <f:facet name="header">
                    <p:outputPanel styleClass="editCodeTableCaption">
                        <h:outputText value="#{msg['codeTables.title.accounts']}" />
                    </p:outputPanel>
                </f:facet>
                <f:attribute name="task" value="#{PageTasks.UPDATE_ACCOUNT_TYPE}" />
                <p:ajax event="rowSelect" 
                        listener="#{CodeTablesBean.updateExistingType}"	
                        resetValues="true"
                        update="codeEditForm:codeEditDialog" 
                        oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                <p:column sortBy="#{row.acctypCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.acctypCode}</p:column>
            </p:dataTable>
            <p:commandButton styleClass="editCodePageCreate" 
                             id="createAccountType" value="#{msg['codeTables.button.create']}" 
                             action="#{CodeTablesBean.createNewType()}"
                             actionListener="#{CodeTablesBean.disablePageMessaging()}" 
                             update="codeEditForm:codeEditDialog"
                             oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                <f:param name="task" value="#{PageTasks.CREATE_ACCOUNT_TYPE}" />
            </p:commandButton>
        </h:form>

        <!-- Fund types -->
        <h:form id="fundTypesForm">
            <p:dataTable id="fundTypesTable" value="#{CodeTablesBean.fundTypes}" var="row" selectionMode="single" 
                         rowKey="#{row.fndtypCode}" rowIndexVar="rowIndex" sortBy="#{row.fndtypCode}"
                         paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                         currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                         paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                         selection="#{CodeTablesBean.fundType}"
                         styleClass="editCodeTable">
                <f:facet name="header">
                    <p:outputPanel styleClass="editCodeTableCaption">
                        <h:outputText value="#{msg['codeTables.title.funds']}" />
                    </p:outputPanel>
                </f:facet>
                <f:attribute name="task" value="#{PageTasks.UPDATE_FUND_TYPE}" />
                <p:ajax event="rowSelect" 
                        listener="#{CodeTablesBean.updateExistingType}"	
                        resetValues="true"
                        update="codeEditForm:codeEditDialog" 
                        oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                <p:column sortBy="#{row.fndtypCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.fndtypCode}</p:column>
            </p:dataTable>
            <p:commandButton styleClass="editCodePageCreate" 
                             id="createFundType" value="#{msg['codeTables.button.create']}" 
                             action="#{CodeTablesBean.createNewType()}" 
                             update="codeEditForm:codeEditDialog"
                             oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                <f:param name="task" value="#{PageTasks.CREATE_FUND_TYPE}" />
            </p:commandButton>
        </h:form>

        <!-- Relationship types -->
        <h:form id="relationshipTypesForm">
            <p:dataTable id="relationshipTypesTable" value="#{CodeTablesBean.relationshipTypes}" var="row" selectionMode="single" 
                         rowKey="#{row.reltypCode}" rowIndexVar="rowIndex" sortBy="#{row.reltypCode}"
                         paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                         currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                         paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                         selection="#{CodeTablesBean.relationshipType}"
                         styleClass="editCodeTable">
                <f:facet name="header">
                    <p:outputPanel styleClass="editCodeTableCaption">
                        <h:outputText value="#{msg['codeTables.title.relationships']}" />
                    </p:outputPanel>
                </f:facet>
                <f:attribute name="task" value="#{PageTasks.UPDATE_RELATIONSHIP_TYPE}" />
                <p:ajax event="rowSelect" 
                        listener="#{CodeTablesBean.updateExistingType}"	
                        resetValues="true"
                        update="codeEditForm:codeEditDialog" 
                        oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                <p:column sortBy="#{row.reltypCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.reltypCode}</p:column>
                <p:column sortBy="#{row.defaultPossibleDblCnt}" headerText="#{msg['codeTables.column.doubleCount']}">#{row.defaultPossibleDblCnt}</p:column>
            </p:dataTable>
            <p:commandButton styleClass="editCodePageCreate" 
                             id="createRelationshipType" value="#{msg['codeTables.button.create']}" 
                             action="#{CodeTablesBean.createNewType()}" 
                             update="codeEditForm:codeEditDialog"
                             oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                <f:param name="task" value="#{PageTasks.CREATE_RELATIONSHIP_TYPE}" />
            </p:commandButton>
        </h:form>        

        <!-- HSDA aka Regional Teams -->
        <h:form id="hsdaForm">
            <p:dataTable id="hsdaTable" value="#{CodeTablesBean.healthServiceDeliveryAreas}" var="row" selectionMode="single" 
                         rowKey="#{row.rtCode}" rowIndexVar="rowIndex" sortBy="#{row.rtCode}"
                         paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                         currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                         paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                         selection="#{CodeTablesBean.healthServiceDeliveryArea}"
                         styleClass="editCodeTable">
                <f:facet name="header">
                    <p:outputPanel styleClass="editCodeTableCaption">
                        <h:outputText value="#{msg['codeTables.title.hsda']}" />
                    </p:outputPanel>
                </f:facet>
                <f:attribute name="task" value="#{PageTasks.UPDATE_HSDA_TYPE}" />
                <p:ajax event="rowSelect" 
                        listener="#{CodeTablesBean.updateExistingType}"	
                        resetValues="true"
                        update="codeEditForm:codeEditDialog" 
                        oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                <p:column sortBy="#{row.rtCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.rtCode}</p:column>
            </p:dataTable>
            <p:commandButton styleClass="editCodePageCreate" 
                             id="createHSDA" value="#{msg['codeTables.button.create']}" 
                             action="#{CodeTablesBean.createNewType()}" 
                             update="codeEditForm:codeEditDialog"
                             oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                <f:param name="task" value="#{PageTasks.CREATE_HSDA_TYPE}" />
            </p:commandButton>
        </h:form>    

        <!-- LHA aka Peer Groups -->
        <h:form id="lhaForm">
            <p:dataTable id="lhaTable" value="#{CodeTablesBean.localHealthAreas}" var="row" selectionMode="single" 
                         rowKey="#{row.pgCode}" rowIndexVar="rowIndex" sortBy="#{row.pgCode}" 
                         paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                         currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                         paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                         selection="#{CodeTablesBean.localHealthArea}"
                         styleClass="editCodeTable">
                <f:facet name="header">
                    <p:outputPanel styleClass="editCodeTableCaption">
                        <h:outputText value="#{msg['codeTables.title.lha']}" />
                    </p:outputPanel>
                </f:facet>
                <f:attribute name="task" value="#{PageTasks.UPDATE_LHA_TYPE}" />
                <p:ajax event="rowSelect" 
                        listener="#{CodeTablesBean.updateExistingType}"	
                        resetValues="true"
                        update="codeEditForm:codeEditDialog" 
                        oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                <p:column sortBy="#{row.pgCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.pgCode}</p:column>
            </p:dataTable>
            <p:commandButton styleClass="editCodePageCreate" 
                             id="createLHA" value="#{msg['codeTables.button.create']}" 
                             action="#{CodeTablesBean.createNewType()}" 
                             update="codeEditForm:codeEditDialog"
                             oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                <f:param name="task" value="#{PageTasks.CREATE_LHA_TYPE}" />
            </p:commandButton>
        </h:form>

        <!-- Health Authority Types -->
        <h:form id="haTypeForm">
            <p:dataTable id="haTypeTable" value="#{CodeTablesBean.healthAuthorityTypes}" var="row" selectionMode="single" 
                         rowKey="#{row.hatypCode}" rowIndexVar="rowIndex" sortBy="#{row.hatypCode}"
                         paginator="true" paginatorAlwaysVisible="true" rows="10" paginatorPosition="top"
                         currentPageReportTemplate="{startRecord} - {endRecord} of {totalRecords}" 
                         paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {NextPageLink}"
                         selection="#{CodeTablesBean.healthAuthorityType}"
                         styleClass="editCodeTable">
                <f:facet name="header">
                    <p:outputPanel styleClass="editCodeTableCaption">
                        <h:outputText value="#{msg['codeTables.title.healthAuthorities']}" />
                    </p:outputPanel>
                </f:facet>
                <f:attribute name="task" value="#{PageTasks.UPDATE_HA_TYPE}" />
                <p:ajax event="rowSelect" 
                        listener="#{CodeTablesBean.updateExistingType}"	
                        resetValues="true"
                        update="codeEditForm:codeEditDialog" 
                        oncomplete="{PF('codeEditDialogWidget').show(); $('#pageMessages').html('')}" />
                <p:column sortBy="#{row.description}" headerText="#{msg['codeTables.column.description']}" styleClass="editCodeTableDescriptionColumn">#{row.description}</p:column>
                <p:column sortBy="#{row.hatypCode}" sortOrder="asc" headerText="#{msg['codeTables.column.code']}">#{row.hatypCode}</p:column>
            </p:dataTable>
            <p:commandButton styleClass="editCodePageCreate" 
                             id="createHaType" value="#{msg['codeTables.button.create']}" 
                             action="#{CodeTablesBean.createNewType()}" 
                             update="codeEditForm:codeEditDialog"
                             oncomplete="PF('codeEditDialogWidget').show(); $('#pageMessages').html('')">
                <f:param name="task" value="#{PageTasks.CREATE_HA_TYPE}" />
            </p:commandButton>
        </h:form>

        <!-- Dialog -->
        <h:form id="codeEditForm">
            <p:dialog id="codeEditDialog" width="650" closable="false" modal="true" resizable="false" visible="false" 
                      widgetVar="codeEditDialogWidget" header="#{CodeTablesBean.dialogueHeader}">
                <div id="codeEditDialogScroll" class="dialogueScroll" style="max-height: 600px">
                    <p:messages id="codeEditDialogMessages" closable="true" escape="false" />
                </div>

                <ui:fragment rendered="#{CodeTablesBean.displayProviderCodeInput}">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:outputLabel for="providerCodeInput" indicateRequired="true" value="#{msg['codeTables.label.providerCode']}" />
                            <p:inputText id="providerCodeInput" 
                                         value="#{CodeTablesBean.providerCode}" required="true"
                                         styleClass="autosize" 
                                         disabled="true"
                                         maxlength="#{CodeTablesBean.codeLength}" size="#{CodeTablesBean.codeLength}" />
                        </div>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{CodeTablesBean.displayDescriptionInput}">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:outputLabel for="descriptionInput" indicateRequired="true" value="#{msg['codeTables.label.description']}" />
                            <p:inputText id="descriptionInput" value="#{CodeTablesBean.description}" required="true" maxlength="80" />
                        </div>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{CodeTablesBean.displayCodeInput}">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:outputLabel for="codeInput" indicateRequired="true" value="#{msg['codeTables.label.code']}" />
                            <p:inputText id="codeInput" value="#{CodeTablesBean.code}" required="true"
                                         styleClass="autosize" 
                                         disabled="#{CodeTablesBean.updateCodeType}"
                                         maxlength="#{CodeTablesBean.codeLength}" size="#{CodeTablesBean.codeLength}" />
                        </div>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{CodeTablesBean.displaySectorTypesList}">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:outputLabel for="sectorTypeDropDown" indicateRequired="true" value="#{msg['codeTables.label.sectorType']}" />
                            <h:selectOneMenu id="sectorTypeDropDown" value="#{CodeTablesBean.sectorTypeCode}"> 
                                <f:selectItems value="#{CodeTablesBean.sectorTypesList}" var="item" />
                            </h:selectOneMenu>
                        </div>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{CodeTablesBean.displayServiceTypesList}">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:outputLabel for="serviceTypeDropDown" indicateRequired="true" value="#{msg['codeTables.label.subSectorType']}" />
                            <h:selectOneMenu id="serviceTypeDropDown" value="#{CodeTablesBean.serviceTypeCode}"> 
                                <f:selectItems value="#{CodeTablesBean.serviceTypesList}" var="item" />
                            </h:selectOneMenu>
                        </div>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{CodeTablesBean.displayProviderCodeInput}">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:outputLabel for="harpProviderCodeInput" value="#{msg['codeTables.label.nationalCode']}" />
                            <p:inputText id="harpProviderCodeInput" value="#{CodeTablesBean.harpProviderCode}" 
                                         styleClass="autosize" maxlength="3" size="3" />
                        </div>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{CodeTablesBean.displayPossibleDoubleCount}">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:outputLabel for="doubleCount" value="#{msg['codeTables.label.doubleCount']}" indicateRequired="true" />
                            <p:selectOneRadio id="doubleCount" value="#{CodeTablesBean.possibleDoubleCount}">
                                <f:selectItem itemLabel="Yes" itemValue="#{true}" id="validYes" />
                                <f:selectItem itemLabel="No" itemValue="#{false}" id="validNo" />
                            </p:selectOneRadio>
                        </div>
                    </div>
                </ui:fragment>

                <p:commandButton id="codeEditDialogCreate" value="#{msg['codeTables.button.create']}"
                                 widgetVar="codeEditDialogCreateButton"
                                 onclick="PF('codeEditDialogCreateButton').disable(); PF('codeEditDialogCancelButton').disable()" 
                                 action="#{CodeTablesBean.saveCodeType()}" 
                                 update="sectorTypesForm subSectorTypesForm providerTypesForm accountTypesForm fundTypesForm relationshipTypesForm hsdaForm lhaForm haTypeForm codeEditDialogMessages"
                                 rendered="#{CodeTablesBean.createCodeType}" 
                                 process="codeEditForm" 
                                 oncomplete="if (!args.validationFailed){PF('codeEditDialogWidget').hide();PrimeFaces.scrollTo('pageMessages')} else {PF('codeEditDialogCancelButton').enable(); PF('codeEditDialogCreateButton').enable();document.getElementById('codeEditDialogScroll').scrollTop=0;}" />

                <p:commandButton id="codeEditDialogUpdate" value="#{msg['codeTables.button.update']}"
                                 widgetVar="codeEditDialogUpdateButton"
                                 onclick="PF('codeEditDialogUpdateButton').disable(); PF('codeEditDialogCancelButton').disable(); PF('codeEditDialogDeleteButton').disable()" 
                                 action="#{CodeTablesBean.saveCodeType()}" 
                                 update="sectorTypesForm subSectorTypesForm providerTypesForm accountTypesForm fundTypesForm relationshipTypesForm hsdaForm lhaForm haTypeForm codeEditDialogMessages"
                                 rendered="#{CodeTablesBean.updateCodeType}" 
                                 process="codeEditForm" 
                                 oncomplete="if (!args.validationFailed){PF('codeEditDialogWidget').hide();PrimeFaces.scrollTo('pageMessages')} else {PF('codeEditDialogCancelButton').enable(); PF('codeEditDialogUpdateButton').enable(); PF('codeEditDialogDeleteButton').enable(); document.getElementById('codeEditDialogScroll').scrollTop=0;}" />

                <p:commandButton id="codeEditDialogDelete" value="#{msg['codeTables.button.delete']}"
                                 styleClass="red"
                                 widgetVar="codeEditDialogDeleteButton"
                                 onclick="PF('codeEditDialogUpdateButton').disable(); PF('codeEditDialogCancelButton').disable(); PF('codeEditDialogDeleteButton').disable()" 
                                 action="#{CodeTablesBean.deleteCodeType()}" 
                                 update="sectorTypesForm subSectorTypesForm providerTypesForm accountTypesForm fundTypesForm relationshipTypesForm hsdaForm lhaForm haTypeForm codeEditDialogMessages"
                                 rendered="#{CodeTablesBean.updateCodeType}" 
                                 process="codeEditForm" 
                                 oncomplete="if (!args.validationFailed){PF('codeEditDialogWidget').hide();PrimeFaces.scrollTo('pageMessages')} else {PF('codeEditDialogCancelButton').enable(); PF('codeEditDialogUpdateButton').enable(); PF('codeEditDialogDeleteButton').enable(); document.getElementById('codeEditDialogScroll').scrollTop=0;}" />

                <p:commandButton id="codeEditDialogCancel" value="#{msg['codeTables.button.cancel']}" 
                                 styleClass="secondary"
                                 widgetVar="codeEditDialogCancelButton" 
                                 action="#{CodeTablesBean.clearAll()}" update="accountTypesForm" 
                                 process="@this" oncomplete="PF('codeEditDialogWidget').hide();">
                    <p:resetInput target="codeEditForm" />
                </p:commandButton>
            </p:dialog>
        </h:form>

    </ui:define>
</ui:composition>