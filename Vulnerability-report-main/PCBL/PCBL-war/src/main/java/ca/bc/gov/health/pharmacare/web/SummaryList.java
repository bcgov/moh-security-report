/*
 * SummaryList.java
 *
 * Created on Dec 7, 2009, 9:24:30 AM
 */
package ca.bc.gov.health.pharmacare.web;

import ca.bc.gov.health.pcbl.entity.BenDtl;
import jakarta.enterprise.context.SessionScoped;
import jakarta.inject.Inject;
import jakarta.inject.Named;
import java.io.Serializable;
import java.util.Collections;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Set;

/**
 * Backing Bean for the Summary List screen
 *
 * @author greg.perkins
 */
@SessionScoped
@Named("SummaryList")
public class SummaryList implements Serializable {
    
    @Inject
    private Constants constants;

    /**
     * List of Search results to display
     */
    private List results;

    /**
     * Default Constructor
     */
    public SummaryList() {}

    /* Getters and Setters */    
    
    public List getResults() {
        return results;
    }

    public void setResults(List results) {
        this.results = results;
    }

    public int getSize() {
        return results == null ? 0 : results.size();
    }

    public boolean getShowPagination() {
        return results != null && results.size() > constants.getMaxResultsPerPage();
    }

    void makeDistinct() {
        Set generics = new HashSet();
        for (Iterator it = results.iterator(); it.hasNext();) {
            BenDtl object = (BenDtl)it.next();
            generics.add(object.getGenDrug());
        }        
        results.clear();
        results.addAll(generics);
        Collections.sort(results);
    }
}

