/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.moh.hsa.plr.entity.transaction;

import ca.bc.gov.moh.hsa.entity.IdentifierAttribute;
import ca.bc.gov.moh.hsa.entity.RequestMessage;
import java.util.ArrayList;
import java.util.List;
import org.apache.commons.collections.CollectionUtils;

/**
 *
 * @author conrad.gustafson
 */
public class RequestMessageWithProvider extends RequestMessage {
private ProviderAttribute provider;

    public ProviderAttribute getProvider() {
        return provider;
    }

    public void setProvider(ProviderAttribute provider) {
        this.provider = provider;
    }

    @Override
    public List<IdentifierAttribute> getAuditableIdentifiers() {

        List<IdentifierAttribute> auditableIdentifiers = new ArrayList<>();

        if (provider != null) {

            List<IdentifierAttribute> collegeIdentifiers = provider.getCollegeIdentifiers();
            if (!CollectionUtils.isEmpty(collegeIdentifiers)) {
                auditableIdentifiers.addAll(collegeIdentifiers);
            }

            List<IdentifierAttribute> registryIdentifiers = provider.getRegistryIdentifiers();
            if (!CollectionUtils.isEmpty(registryIdentifiers)) {
                auditableIdentifiers.addAll(registryIdentifiers);
            }
        }
        return auditableIdentifiers;
    }

}
