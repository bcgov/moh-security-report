/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.moh.hsa.plr.converter.facilitytofhir;

import ca.bc.gov.moh.hsa.plr.esb.fhir.common.FHIRFactory;
import java.math.BigDecimal;
import java.util.List;
import org.hl7.fhir.r4bc1.model.BCLocation;
import org.hl7.fhir.r4.model.Identifier;

/**
 *
 * @author jonathan.wiebe
 */
public class SetLocationAttributes extends SetAttributesCommon {

    public SetLocationAttributes(FHIRFactory theFactory) {
        super(theFactory);
    }

    void setLocationLatLong(Object parent, BigDecimal latitude, BigDecimal longitude) {
        Object locationPosition = factory.newLocationPositionComponent();
        factory.callMethod(locationPosition, "setLatitude", latitude);
        factory.callMethod(locationPosition, "setLongitude", longitude);
        factory.callMethod(parent, "setPosition", locationPosition);
    }
    

    public void setLocationId(Object location, String locationId) {
        factory.callMethod(location, "setId", locationId);
    }

    public void setLocationIdSystem(Object location, String system) {
        factory.callMethod(location, "setSystem", system);
    }

    public void setLocationIdValue(Object location, String value) {
        factory.callMethod(location, "setValue", value);
    }

    public void setLocationNote(Object location, Object note) {
        factory.callMethod(location, "addBcNoteExtension", note);
    }

    public void addLocationTelecom(Object location, Object telecom) {
        factory.callMethod(location, "addTelecom", telecom);
    }

    public void setLocationName(Object location, Object nameType) {
        factory.callMethod(location, "setNameElement", nameType);
    }

    public void addLocationAlias(Object location, String description) {
        factory.callMethod(location, "addAlias", description);
    }

    public void setLocationCivicAddress(Object location, Object civicAddress) {
        factory.callMethod(location, "setAddress", civicAddress);
    }

    void setLocationCHSAExtension(Object location, Object CHSAExtension) {
        factory.callMethod(location, "setBcFacilityCHSAExtension", CHSAExtension);
    }

    void setLocationAddress(Object location, Object address) {
        factory.callMethod(location, "setBcAddress", address);
    }

    void setLocationDescription(Object location, String description) {
        if(description != null) {
            factory.callMethod(location, "setDescription", description);
        }
    }

    void setLocationType(Object location, String typeCode) {
        Object codeableConcept = factory.newCodeableConcept();
        factory.getSetCodeableConceptAttributes().setCodeableConceptText(codeableConcept, typeCode);
        factory.callMethod(location, "addType", codeableConcept);
    }

    void setLocationPhysicalType(Object location, String purposeCode) {
        Object codeableConcept = factory.newCodeableConcept();
        factory.getSetCodeableConceptAttributes().setCodeableConceptText(codeableConcept, purposeCode);
        factory.callMethod(location, "setPhysicalType", codeableConcept);
    }

    void setLocationDetails(Object location, Object detailsExt) {
        factory.callMethod(location, "setBcFacilityDetailsExtension", detailsExt);
    }
}
