/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.moh.hsa.plr.converter.indivprovtofhir;

import ca.bc.gov.moh.hsa.plr.esb.fhir.common.FHIRFactory;
import ca.bc.gov.moh.hsa.plr.converter.facilitytofhir.SetAttributesCommon;

/**
 *
 * @author dan.stepanov
 */
public class SetOperationOutcomeIssueComponentAttributes extends SetAttributesCommon {

    public SetOperationOutcomeIssueComponentAttributes(FHIRFactory theFactory) {
        super(theFactory);
    }

    public void setIssueDetails(Object parentIssue, String issueDetailCode, String issueDetailText) {
        Object codeableConcept = factory.newCodeableConcept();
        Object coding = factory.newCoding();
        
        //coding.setCode(issueDetailCode);
        factory.callMethod(coding, "setCode", issueDetailCode);
        //codeableConcept.addCoding(coding);
        factory.callMethod(codeableConcept,"addCoding",coding);
        
        //coding / text
        //factory.callMethod(codeableConcept,"setCoding",)
        factory.callMethod(codeableConcept,"setText",issueDetailText);
        factory.callMethod(parentIssue,"setDetails",codeableConcept);
    }

    public void setIssueSeverity(Object parentIssue, Object issueSeverityType) {
        factory.callMethod(parentIssue, "setSeverity", issueSeverityType);
    }

    public void setIssueCode(Object parentIssue, Object issueTypeCode) {
        factory.callMethod(parentIssue, "setCode", issueTypeCode);
    }
}
