/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.moh.hsa.plr.converter.indivprovtofhir;

import ca.bc.gov.moh.hsa.plr.converter.facilitytofhir.SetAttributesCommon;
import ca.bc.gov.moh.hsa.plr.esb.fhir.common.FHIRFactory;
import java.util.Date;

/**
 *
 * @author dan.stepanov
 */
public class SetPractitionerQualificationExtensionAttributes extends SetAttributesCommon {

    public SetPractitionerQualificationExtensionAttributes(FHIRFactory theFactory) {
        super(theFactory);
    }

    public void setQualification_Designation(Object parentObject, String designationVal) {
        if (designationVal != null) {
            factory.callMethod(parentObject, "setDesignation", factory.stringToStringType(designationVal));
        }
    }

    public void setQualification_RegistrationNumber(Object parentObject, String registrationNumberVal) {
        if (registrationNumberVal != null) {
            factory.callMethod(parentObject, "setRegistrationNumber", factory.stringToStringType(registrationNumberVal));
        }
    }

    public void setQualification_EquivalencyFlag(Object parentObject, boolean equivalencyFlag) {
        // add new booleanType equivalency flag  
        Object booleanTypeDisplay = factory.newBooleanType(equivalencyFlag);
        factory.callMethod(parentObject, "setEquivalencyFlag", booleanTypeDisplay);
    }

    public void setQualification_YearIssued(Object parentObject, Date yearIssued) {
        if (yearIssued != null) {
            // add new dateType year
            Object dateTypeYearIssued = factory.newDateType(yearIssued);
            factory.callMethod(parentObject, "setIssuedDate", dateTypeYearIssued);
        }
    }

    public void addQualificationDetails(Object parentObject, String designation, String registrationNumber, Date yearIssued, boolean equivalencyFlag) {
        Object qualifExt = factory.newBCPractitionerQualificationExtension();
        if (designation != null) {
            this.setQualification_Designation(qualifExt, designation);
        }
        if (registrationNumber != null) {
            this.setQualification_RegistrationNumber(qualifExt, registrationNumber);
        }
        if (yearIssued != null) {
            this.setQualification_YearIssued(qualifExt, yearIssued);
        }
        this.setQualification_EquivalencyFlag(qualifExt, equivalencyFlag);
    }
}
