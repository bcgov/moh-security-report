/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.moh.hsa.esb.service.batch;

import ca.bc.gov.moh.hsa.hcim.service.geteligibility.GetEligibilityRequestDTO;
import ca.bc.gov.moh.hsa.util.dto.MessageDTO.MessageType;
import org.apache.camel.Exchange;
import org.apache.camel.Processor;
import org.springframework.stereotype.Component;

/**
 *
 * @author conrad.gustafson
 */
@Component
public class GetEligibilityRequestCreator implements Processor {

    @Override
    public void process(Exchange exchange) throws Exception {

        // This DTO will get sent to the velocity template and the properties will be substituted
        GetEligibilityRequestDTO eligibilityRequestDTO = new GetEligibilityRequestDTO();

        exchange.getIn().setBody(eligibilityRequestDTO);

        // This is just a dummy SOAP call right now, but if we need to set any headers
        // on the actual HCIM call, they can be done here.
        exchange.getIn().setHeader("MessageType", MessageType.GET_ELIGIBILITY_MESSAGE_TYPE);
    }
}
