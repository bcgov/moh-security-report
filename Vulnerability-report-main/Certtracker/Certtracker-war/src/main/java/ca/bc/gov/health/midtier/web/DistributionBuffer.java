package ca.bc.gov.health.midtier.web;

import ca.bc.gov.health.midtier.ejb.entity.*;
import ca.bc.gov.health.midtier.ejb.session.*;
import jakarta.annotation.PostConstruct;
import jakarta.faces.view.ViewScoped;
import jakarta.inject.Named;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;

@Named("DistributionBuffer")
@ViewScoped
public class DistributionBuffer implements Serializable {

  private List<Distribution> distributionQueue;
  private Distribution distribution;

  // Facades
  private ContactFacadeLocal contactFacade;

  public DistributionBuffer() {
    distributionQueue = new ArrayList<Distribution>();
  }

  @PostConstruct
  public void init() {
    distribution = new Distribution();
    distribution.setTeamId(new Team());
    distribution.setMonitorId(new Monitor());
    distribution.setContactId(new Contact());
    distribution.setPrimaryContactYn("N");
  }

  public void queueDistribution() {
    // Add distribution to the list
    distributionQueue.add(distribution);
    // Re-initialize the distribution
    init();
  }

  public List<Distribution> getDistributionQueue() {
    return distributionQueue;
  }

  public Distribution getDistribution() {
    return distribution;
  }

  public void setDistribution(Distribution distribution) {
    this.distribution = distribution;
  }
}
