<!DOCTYPE html>
<ui:composition template="/WEB-INF/templates/gov30Template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">
        Non-Resident Reports
    </ui:define>

    <ui:define name="content">
        <ui:include src="/WEB-INF/fragments/navTabs/claimReportsTabs.xhtml" />
        <ui:param value="#{NonResidentReportsBean}" name="bean" />

        <h:form id="reportForm">
            <p:messages id="messages" closable="true">
                <p:autoUpdate />
            </p:messages>
            <div class="form-group">
                <h2>BASIC INFORMATION</h2>

                <div class="ui-g">
                    <div class="ui-g-3">
                        <p:outputLabel for="@next" value="Report Type" />
                        <p:selectOneRadio id="reportType" required="true"
                                          value="#{bean.viewModel.reportType}">
                            <f:selectItem itemLabel="Abbreviated" itemValue="ABBREVIATED" />
                            <f:selectItem itemLabel="Detailed" itemValue="DETAILED" />
                        </p:selectOneRadio>
                    </div>
                </div>

                <div class="ui-g">
                    <div class="ui-g-5">
                        <p:outputLabel for="@next" value="Patient Type" />
                        <p:selectOneRadio id="patientType" required="true"
                                          value="#{bean.viewModel.claimType}">
                            <f:selectItem itemLabel="Inpatient" itemValue="INPATIENT" />
                            <f:selectItem itemLabel="Outpatient" itemValue="OUTPATIENT" />
                            <f:selectItem itemLabel="Both" itemValue="BOTH" />
                            <p:ajax event="change" process="@this" update="dateSectionPanel"
                                    global="false" />
                        </p:selectOneRadio>
                    </div>
                </div>

                <div class="ui-g">
                    <div class="ui-g-3">
                        <p:outputLabel for="@next" value="Treating Health Authority *" />
                        <h:selectOneMenu id="healthAuthority" required="false"
                                         value="#{bean.viewModel.healthAuthority}"
                                         hideNoSelectionOption="false" binding="#{healthAuthority}">
                            <f:selectItem itemLabel="" itemValue=""
                                          noSelectionOption="true" />
                            <f:selectItem itemLabel="ALL" itemValue="ALL"/>
                            <f:selectItems value="#{ApplicationBean.healthAuthoritiesList}" />
                            <p:ajax event="change" process="@this" update="healthAuthority" global="false" />
                        </h:selectOneMenu>
                    </div>
                </div>

                <div class="ui-g">
                    <div class="ui-g-3">
                        <p:outputLabel for="@next" value="Treating Hospital  *" />
                        <p:autoComplete id="hospital" required="false"
                                        value="#{bean.viewModel.hospital}" dropdown="true" dropdownMode="current" 
                                        scrollHeight="200" placeholder="&#xE908;" minQueryLength="3"
                                        maxResults="20" size="40"
                                        completeMethod="#{ApplicationBean.hospitalAutoCompleteAllOption}"
                                        var="hospital" itemLabel="#{hospital}" itemValue="#{hospital}"
                                        binding="#{treatingHospital}">
                            <f:attribute name="treatingProvince" value="BC" />
                            <f:attribute name="healthAuthority" value="#{healthAuthority.value}" />
                            <p:ajax event="query" global="false" />
                        </p:autoComplete>
                    </div>
                </div>

                <div class="ui-g">
                    <div class="ui-g-3">
                        <p:outputLabel for="@next" value="Residential Province *" />
                        <h:selectOneMenu id="residentialProvince"
                                         value="#{bean.viewModel.province}" hideNoSelectionOption="false"
                                         validator="#{AuthorityProvinceHospitalValidator.validate}">
                            <f:selectItem itemLabel="" itemValue=""
                                          noSelectionOption="true" />
                            <f:selectItems value="#{ApplicationBean.provincesList}" />
                            <f:attribute name="treatingHospitalUIInput" value="#{treatingHospital}" />
                            <f:attribute name="treatingHealthAuthorityUIInput" value="#{healthAuthority}" />
                        </h:selectOneMenu>
                    </div>
                </div>

            </div>
            <div class="form-group">
                <h2>STATUS INFORMATION</h2>  

                <div class="ui-g">
                    <div class="ui-g-4">
                        <p:outputLabel for="@next" value="Override Status" />
                        <p:selectOneRadio id="overrideStatus" required="false"
                                          value="#{bean.viewModel.overrideStatus}">
                            <f:selectItem itemLabel="Requested" itemValue="REQUESTED" />
                            <f:selectItem itemLabel="Approved" itemValue="APPROVED" />
                            <f:selectItem itemLabel="Denied" itemValue="DENIED" />
                        </p:selectOneRadio>
                    </div>
                </div>

                <div class="ui-g">
                    <div class="ui-g-4">
                        <p:outputLabel for="@next" value="Adjustment Status" />
                        <p:selectOneRadio id="adjustmentStatus" required="false"
                                          value="#{bean.viewModel.adjustmentStatus}">
                            <f:selectItem itemLabel="Requested" itemValue="REQUESTED" />
                            <f:selectItem itemLabel="Approved" itemValue="APPROVED" />
                            <f:selectItem itemLabel="Denied" itemValue="DENIED" />
                        </p:selectOneRadio>
                    </div>
                </div>

                <div class="ui-g">
                    <div class="ui-g-3">
                        <p:outputLabel for="@next" value="Claim Status" />
                        <h:selectOneMenu id="claimStatus" required="true"
                                         value="#{bean.viewModel.claimStatus}"
                                         hideNoSelectionOption="false">
                            <f:selectItem itemLabel="" itemValue=""
                                          noSelectionOption="true" />
                            <f:selectItem itemLabel="VALID" itemValue="VALID" />
                            <f:selectItem itemLabel="INVALID" itemValue="INVALID" />
                            <f:selectItem itemLabel="PROCESSED" itemValue="PROCESSED" />
                            <f:selectItem itemLabel="ADJUST REQ" itemValue="ADJUST REQ" />
                            <f:selectItem itemLabel="ADJUST APP" itemValue="ADJUST APP" />
                            <f:selectItem itemLabel="VOID" itemValue="VOID" />
                        </h:selectOneMenu>
                    </div>
                </div>                
            </div>
            <ui:include src="/WEB-INF/fragments/reports/reportDateInfo.xhtml" />
            <ui:include src="/WEB-INF/fragments/reports/reportSubmit.xhtml" />
        </h:form>
    </ui:define>
</ui:composition>