<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title><ui:insert name="title">HOOPC</ui:insert></title>
        <link rel="shortcut icon" href="#{resource['template-images/favicon.ico']}" />
    </h:head>

    <h:body styleClass="home">
        <h:outputStylesheet name="css/header.css"  />              
        <h:outputStylesheet name="css/navigation.css" />        
        <h:outputStylesheet name="css/templatemain.css" /> 

        <h:outputStylesheet name="css/gov30primefaces.css" />
        <h:outputStylesheet name="css/style.css" />
        <h:outputScript name="scripts/scripts.js" />

        <header id="navbar" class="navbar navbar-static-top navbar-default">
            <h:form id="header">
                <div id="navbar-toolbar" style="#{HeaderID.bkColor()}">
                    <div class="container">
                        <div class="col-sm-12 navbar-logo" style="width: 800px; padding: 10px 0px 18px 0px;">
                            <a href="https://www2.gov.bc.ca/gov/content/home" target="_blank" class="bcgov logo" title="Government of British Columbia Home">
                                <h:graphicImage name="template-images/logo-removebg.png" alt="BC Government Logo"/>
                            </a>
                            <h:outputLink id="home" value="/home.xhtml" class="sitetitle">
                                HOOPC
                                <h:outputText id="environment" rendered="#{HeaderID.isProdEnv()}" value="- #{HeaderID.environmentLocationValue}"/>
                            </h:outputLink> 
                        </div>
                        <div class="col-sm-30 navbar-links-container ">
                            <div class="pull-right" style="margin: 10px 0px 0px 20px">
                                <h:commandLink id="logoutLink" value="Logout" styleClass="logout" onclick="return confirmExit();" action="#{Logout.logout}"/>
                            </div>
                            <div class="pull-right">
                                <h:outputText value="#{request.userPrincipal.name}
                                              &lt;br/&gt; #{HomeBean.userRole}" 
                                              style="color: white" escape="false"/>
                            </div>
                        </div>
                    </div>
                </div>
            </h:form>
            <div class="container nav-container">
                <ui:include src="topNav.xhtml"/>
            </div>
        </header>
        
        <p:growl id="timeoutWarningGrowl" for="timeoutMessages" widgetVar="timeoutWarning" showDetail="true" sticky="true"/>
        <p:remoteCommand name="extendSession" global="false" actionListener="#{SessionTimeout.extendSession}"/>
        <p:remoteCommand name="endSession" global="false" actionListener="#{SessionTimeout.endSession}"/>

        <div class="container content" style="min-height: 68%">
            <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
            <p:dialog styleClass="spinner-box" widgetVar="statusDialog" modal="true" id="statusModal"
                      draggable="false" closable="false" resizable="false" showHeader="false"
                      style="padding: 0px">
                <p:outputPanel style="width: 268px; height: 184px;">
                    <h:graphicImage name="template-images/loading.gif" style="position: absolute; top: 70px; left: 65px"/>
                </p:outputPanel>
            </p:dialog>
            <ui:insert name="content">Content</ui:insert>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="ui-g">    
                    <div class="ui-g-2">
                        <ul>         					
                            <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/disclaimer">Disclaimer</a></li>
                            <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/privacy">Privacy</a></li>
                            <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/accessibility">Accessibility</a></li>
                            <li><a target="_blank" href="http://www2.gov.bc.ca/gov/content/home/copyright">Copyright</a></li>
                        </ul>
                    </div>
                </div>     
            </div>
            <div class="backToTopButton" hidden="true">
                <a href="#top"> 
                Back to top
                </a>
            </div>                 
            <script>
            //***** This section implement Back to Top function ****
                $(window).scroll(function() {
                    if ($(this).scrollTop() > 450) {
                        $('.backToTopButton').fadeIn();
                    } else {
                        $('.backToTopButton').fadeOut();
                    }
                });
            //******************************************************
            </script>
        </footer>

    </h:body>
</html>
