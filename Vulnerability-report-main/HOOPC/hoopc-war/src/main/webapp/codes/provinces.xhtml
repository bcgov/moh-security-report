<!DOCTYPE html>
<ui:composition template="/WEB-INF/templates/gov30Template.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:define name="title">Provinces/Territories</ui:define>
    <ui:param name="selectedProvince" value="#{ProvincesBean.selectedProvince}" />
    
    <ui:define name="content">
        <ui:include src="/WEB-INF/fragments/navTabs/codeTablesTabs.xhtml" />
        
        <h:form id="provincesForm">
            <p:messages id="messages" closable="true"/>
            <h1 style="display: inline-flex">Provinces/Territories</h1>
            
            <p:dataTable id="allProvinces" var="result" value="#{ProvincesBean.allProvinces}"  
                         selectionMode="single" selection="#{selectedProvince}" sortBy="#{result.provinceCode}"
                         rowKey="#{result.id}" rowStyleClass="ui-datatable-row">

                <p:ajax event="rowSelect" update="@form" resetValues="true" 
                        oncomplete="PF('editProvinceDialog').show();" />

                <p:column headerText="CODE" width="15%" sortBy="#{result.provinceCode}">
                    <h:outputText value="#{result.provinceCode}"/>
                </p:column>

                <p:column headerText="PROVINCE" sortBy="#{result.name}">
                    <h:outputText  value="#{result.name}" />
                </p:column>   
            </p:dataTable>
            
            <p:dialog id="editProvinceDialog" showHeader="false" style="max-height:900px"
                      widgetVar="editProvinceDialog" width="900" modal="true" 
                      resizable="false" closeOnEscape="true" closable="true" >
                
                <p:outputPanel style="max-height: 800px;">
                    <p:messages id="editMsg" closable="true"/>
                    <h1>Edit #{selectedProvince.name}</h1>

                    <p:outputPanel id="editProvincePanel" class="ui-g" >
                        <div class="ui-g-4">
                            <p:outputLabel for="provinceCode" value="Province Code" styleClass="disabled" />
                            <p:inputText id="provinceCode" value="#{selectedProvince.provinceCode}" 
                                             disabled="true" />
                        </div>
                        <div class="ui-g-4">
                            <p:outputLabel for="provinceName" value="Province Name" />
                            <p:inputText id="provinceName" value="#{selectedProvince.name}" 
                                             required="true" maxlength="25" />
                        </div>
                        <div class="ui-g-4">
                            <p:outputLabel for="postalCodePrefix" value="Postal Code Prefix" />
                            <p:inputText id="postalCodePrefix" value="#{selectedProvince.postalCodePrefix}" 
                                         required="true" maxlength="10" />
                        </div> 

                        <div class="ui-g-4">
                            <p:outputLabel for="insuranceFormat" value="Insurance Format" />
                            <p:inputText id="insuranceFormat" value="#{selectedProvince.insuranceFormat}" 
                                         required="true" maxlength="15" />
                        </div> 
                        <div class="ui-g-4">
                            <p:outputLabel for="insuranceExpiresInd" value="Insurance Expires Flag" />
                            <p:inputText id="insuranceExpiresInd" value="#{selectedProvince.insuranceExpiresInd}" 
                                         maxlength="1" />
                        </div> 
                        <div class="ui-g-4"/>

                        <div class="ui-g-4">
                            <p:outputLabel for="insuranceExpiryImpltnDate" value="Insurance Expiry Eff. Date" />
                            <p:calendar id="insuranceExpiryImpltnDate" 
                                        value="#{selectedProvince.insuranceExpiryImpltnDate}"
                                        pattern="yyyyMMdd" navigator="true"
                                        required="true">
                                <f:converter converterId="localDateConverter"/>
                            </p:calendar>   
                        </div> 
                        <div class="ui-g-4">
                            <p:outputLabel for="outpatientIcd10EffDate" value="Outpatient ICD10 Eff. Date" />
                            <p:calendar id="outpatientIcd10EffDate" 
                                        value="#{selectedProvince.outpatientIcd10EffDate}"
                                        pattern="yyyyMMdd" navigator="true"
                                        required="true">
                                <f:converter converterId="localDateConverter"/>
                            </p:calendar>   
                        </div> 
                        <div class="ui-g-4"/>

                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="electronicDataSubmitInd" value="Electronic Data Submit Ind." />
                            <p:inputText id="electronicDataSubmitInd" value="#{selectedProvince.electronicDataSubmitInd}" 
                                         maxlength="1" />
                        </div> 
                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="sfdsMailboxId" value="SFDS Mailbox Id" />
                            <p:inputText id="sfdsMailboxId" value="#{selectedProvince.submitIdentifier}" 
                                         maxlength="256" />
                        </div> 
                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="responsability" value="Responsibility" />
                            <p:inputText id="responsability" value="#{selectedProvince.responsability}" 
                                         maxlength="12" />
                        </div> 

                        <div class="ui-g-4">
                            <p:outputLabel for="supplierIdentifier" value="Vendor # - Location" />
                            <p:inputText id="supplierIdentifier" value="#{selectedProvince.supplierIdentifier}" 
                                         maxlength="40" />
                        </div>
                        <div class="ui-g-4"/>
                        <div class="ui-g-4"/>

                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="supplierName" value="Supplier Name" />
                            <p:inputText id="supplierName" value="#{selectedProvince.supplierName}" 
                                         maxlength="80" />
                        </div>
                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="supplierTitle1" value="Supplier Title 1" />
                            <p:inputText id="supplierTitle1" value="#{selectedProvince.supplierTitle1}" 
                                         maxlength="80" />
                        </div>
                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="supplierTitle2" value="Supplier Title 2" />
                            <p:inputText id="supplierTitle2" value="#{selectedProvince.supplierTitle2}" 
                                         maxlength="80" />
                        </div>

                        <div class="ui-g-4">
                            <p:outputLabel for="supplierOffice1" value="Supplier Office 1" />
                            <p:inputText id="supplierOffice1" value="#{selectedProvince.supplierOffice1}" 
                                         maxlength="80" />
                        </div>
                        <div class="ui-g-4">
                            <p:outputLabel for="supplierOffice2" value="Supplier Office 2" />
                            <p:inputText id="supplierOffice2" value="#{selectedProvince.supplierOffice2}" 
                                         maxlength="80" />
                        </div>     
                        <div class="ui-g-4">
                            <p:outputLabel for="supplierAddress1" value="Supplier Address 1" />
                            <p:inputText id="supplierAddress1" value="#{selectedProvince.supplierAddress1}" 
                                         maxlength="100" />
                        </div>

                        <div class="ui-g-4">
                            <p:outputLabel for="supplierAddress2" value="Supplier Address 2" />
                            <p:inputText id="supplierAddress2" value="#{selectedProvince.supplierAddress2}" 
                                         maxlength="100" />
                        </div>                    
                        <div class="ui-g-4">
                            <p:outputLabel for="supplierCity" value="Supplier City" />
                            <p:inputText id="supplierCity" value="#{selectedProvince.supplierCity}" 
                                         maxlength="80" />
                        </div>                    
                        <div class="ui-g-4">
                            <p:outputLabel for="supplierPostalCode" value="Supplier Postal Code" />
                            <p:inputText id="supplierPostalCode" value="#{selectedProvince.supplierPostalCode}" 
                                         maxlength="7" />
                        </div>                

                        <div class="ui-g-4">
                            <p:outputLabel for="supplierPhoneNum" value="Supplier Phone Number" />
                            <p:inputText id="supplierPhoneNum" value="#{selectedProvince.supplierPhoneNum}" 
                                         maxlength="14" />
                        </div>   
                        <div class="ui-g-4"/>
                        <div class="ui-g-4"/>

                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="invoiceContact" value="Invoice Contact" />
                            <p:inputText id="invoiceContact" value="#{selectedProvince.invoiceContact}" 
                                         maxlength="80" />
                        </div>                       
                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="invoiceTitle1" value="Invoice Title 1" />
                            <p:inputText id="invoiceTitle1" value="#{selectedProvince.invoiceTitle1}" 
                                         maxlength="80" />
                        </div>                       
                        <div class="ui-g-4" style="margin-top: 20px">
                            <p:outputLabel for="invoiceTitle2" value="Invoice Title 2" />
                            <p:inputText id="invoiceTitle2" value="#{selectedProvince.invoiceTitle2}" 
                                         maxlength="80" />
                        </div>    

                        <div class="ui-g-4">
                            <p:outputLabel for="invoiceOffice1" value="Invoice Office 2" />
                            <p:inputText id="invoiceOffice1" value="#{selectedProvince.invoiceOffice1}" 
                                         maxlength="80" />
                        </div>                       
                        <div class="ui-g-4">
                            <p:outputLabel for="invoiceOffice2" value="Invoice Office 2" />
                            <p:inputText id="invoiceOffice2" value="#{selectedProvince.invoiceOffice2}" 
                                         maxlength="80" />
                        </div>                       
                        <div class="ui-g-4">
                            <p:outputLabel for="invoiceAddress1" value="Invoice Address 1" />
                            <p:inputText id="invoiceAddress1" value="#{selectedProvince.invoiceAddress1}" 
                                         maxlength="40" />
                        </div>      

                        <div class="ui-g-4">
                            <p:outputLabel for="invoiceAddress2" value="Invoice Address 2" />
                            <p:inputText id="invoiceAddress2" value="#{selectedProvince.invoiceAddress2}" 
                                         maxlength="40" />
                        </div>                     
                        <div class="ui-g-4">
                            <p:outputLabel for="invoiceCity" value="Invoice City" />
                            <p:inputText id="invoiceCity" value="#{selectedProvince.invoiceCity}" 
                                         maxlength="80" />
                        </div>                     
                        <div class="ui-g-4">
                            <p:outputLabel for="invoicePostalCode" value="Invoice Postal Code" />
                            <p:inputText id="invoicePostalCode" value="#{selectedProvince.invoicePostalCode}" 
                                         maxlength="80" />
                        </div>                                 
                    </p:outputPanel>

                    <div class="ui-g submit-buttons">
                        <div class="ui-g-3" >
                            <p:commandButton id="editProvince" styleClass="submit-button"
                                    update="editProvincePanel editMsg" value="Submit" process="editProvinceDialog"
                                    oncomplete="window.scrollTo(0,0);"
                                    action="#{ProvincesBean.saveProvince}" />

                            <p:button id="cancelEditProvince" value="Cancel" styleClass="secondary-button"
                                    onclick="PF('editProvinceDialog').hide(); return false;" />
                        </div>             
                    </div>                     
                </p:outputPanel>          
            </p:dialog>
        </h:form>
    </ui:define>        
</ui:composition>
