package ca.bc.gov.health.validators;

import ca.bc.gov.health.exception.HoopcException;
import jakarta.faces.application.FacesMessage;
import jakarta.faces.context.FacesContext;
import java.text.MessageFormat;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/** The Class BaseValidator. */
public class BaseValidator {

  protected static Logger log = LoggerFactory.getLogger(MultipleInputValidators.class);

  /** Instantiates a new base validator. */
  public BaseValidator() {
    // Nothing to do here
  }

  /**
   * Log error.
   *
   * @param e the e
   * @param fc the fc
   */
  public void logError(HoopcException e, FacesContext fc) {
    String errorMsg =
        MessageFormat.format(
            "Fatal system error: ref={0}, msg={1}", e.getCorrelationId(), e.getMessage());
    log.error(errorMsg);
    FacesMessage msg = new FacesMessage(FacesMessage.SEVERITY_ERROR, errorMsg, null);

    fc.addMessage(null, msg);
  }
}
