package ca.bc.gov.health.transformer;

import ca.bc.gov.health.database.entity.Patients;
import ca.bc.gov.health.service.viewmodel.PatientsViewModel;

/** The Class PatientsTransformer. */
public class PatientsTransformer {

  private PatientsTransformer() {
    // Utility class
  }

  /**
   * Transform.
   *
   * @param entity the entity
   * @return the patients view model
   */
  public static PatientsViewModel transform(Patients entity) {

    PatientsViewModel model = new PatientsViewModel();
    model.setAddress1(entity.getAddress1());
    model.setAddress2(entity.getAddress2());
    model.setBirthDate(entity.getBirthDate());
    model.setCardExpiryDate(entity.getCardExpiryDate());
    model.setCity(entity.getCity());
    model.setDeceasedFlag(entity.getDeceasedFlag());
    model.setFirstName(entity.getFirstName());
    model.setId(entity.getId());
    model.setInsuranceCardNumber(entity.getInsuranceCardNumber());
    model.setLastName(entity.getLastName());
    model.setPostalCode(entity.getPostalCode());
    model.setProvince(entity.getProvince());
    model.setSexCode(entity.getSexCode());
    return model;
  }

  /**
   * Transform.
   *
   * @param entity the entity
   * @param model the model
   * @return the patients
   */
  public static Patients transform(Patients entity, PatientsViewModel model) {
    entity.setAddress1(model.getAddress1());
    entity.setAddress2(model.getAddress2());
    entity.setBirthDate(model.getBirthDate());
    entity.setCardExpiryDate(model.getCardExpiryDate());
    entity.setCity(model.getCity());
    entity.setDeceasedFlag(model.getDeceasedFlag());
    entity.setFirstName(model.getFirstName());
    entity.setId(model.getId());
    entity.setInsuranceCardNumber(model.getInsuranceCardNumber());
    entity.setLastName(model.getLastName());
    // Trim spaces
    entity.setPostalCode(
        model.getPostalCode() != null ? model.getPostalCode().replace(" ", "") : null);
    entity.setProvince(model.getProvince());
    entity.setSexCode(model.getSexCode());
    return entity;
  }
}
