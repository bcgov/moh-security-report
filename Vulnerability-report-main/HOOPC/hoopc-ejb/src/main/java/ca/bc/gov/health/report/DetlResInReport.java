package ca.bc.gov.health.report;

import ca.bc.gov.health.exception.HoopcException;
import ca.bc.gov.health.report.model.ClaimReportViewModel;
import ca.bc.gov.health.report.transformer.ClaimReportPLSQLTransformer;
import java.util.Arrays;
import java.util.List;

/** The Class DetlResInReport. */
@ReportProcessorType("DETAILED-RES-INPATIENT")
public class DetlResInReport extends BaseReportProcessor {

  @Override
  public String getPreprocessingSpName() {
    return "PreProcessRep0006";
  }

  @Override
  public String getViewName() {
    return "V_DETL_RES_IN_CLAIMS_AH";
  }

  @Override
  protected Object getSortField() {
    return "HOSPITAL_NUMBER";
  }

  //BCMOHAD-9615-7Mar22: Retrieving patient's province as well.
  @Override
  protected List<String> getCsvFields() {
    return Arrays.asList(
        "HOSPITAL_NAME",
        "SUBMISSION_DATE",
        "STATUS",
        "ASSOC_CLAIM_NO",
        "DIAGNOSIS_CODE",
        "PROCEDURE_CODE",
        "PER_DIEM_RATE",
        "PROVINCE",
        "ACCIDENT_CODE",
        "OVERRIDE_REASON",
        "INS_CARD_NO",
        "INS_EXP_DATE",
        "LAST_NAME",
        "PROV_CLAIM_NO",
        "HOSP_CLAIM_NO",
        "FIRST_NAME",
        "ADDRESS1",
        "ADDRESS2",
        "ADDR_PROVINCE",
        "CITY",
        "POSTAL_CODE",
        "SEX",
        "BIRTHDATE",
        "DECEASED",
        "ADMISS_NO",
        "ADMISS_DATE",
        "DAYS_STAY",
        "DISCH_DATE",
        "HI_COST_PROC1",
        "HI_COST_PROC2",
        "HI_COST_PROC3",
        "HI_COST_DATE1",
        "HI_COST_DATE2",
        "HI_COST_DATE3",
        "CLAIM_AMT",
        "ADJ_AMT",
        "ADJ_REASON",
        "HOSP_NOTES",
        "REPORT_TYPE",
        "CF_SEX_DEC_REAS");
  }

  /* (non-Javadoc)
   * @see ca.bc.gov.health.report.BaseReportProcessor#transformToStoreProcParam(ca.bc.gov.health.report.model.ClaimReportViewModel)
   */
  // TODO: generic???
  public List<StoredProcQueryParams> transformToStoreProcParam(ClaimReportViewModel viewModel)
      throws HoopcException {
    return ClaimReportPLSQLTransformer.transformToStoreProcParam0006(viewModel);
  }
}
