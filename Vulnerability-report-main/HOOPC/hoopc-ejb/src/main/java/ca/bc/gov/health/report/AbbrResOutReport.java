package ca.bc.gov.health.report;

import ca.bc.gov.health.exception.HoopcException;
import ca.bc.gov.health.report.model.ClaimReportViewModel;
import ca.bc.gov.health.report.transformer.ClaimReportPLSQLTransformer;
import java.util.Arrays;
import java.util.List;

/** The Class AbbrResOutReport. */
@ReportProcessorType("ABBREVIATED-RES-OUTPATIENT")
public class AbbrResOutReport extends BaseReportProcessor {

  @Override
  public String getPreprocessingSpName() {
    return "PreProcessRep0014";
  }

  @Override
  public String getViewName() {
    return "V_ABBR_RES_OUT_CLAIMS_AH";
  }

  @Override
  protected Object getSortField() {
    return "INS_CARD_NO";
  }

  @Override
  protected List<String> getCsvFields() {
    return Arrays.asList(
        "INS_CARD_NO",
        "PROV_CLAIM_NO",
        "LAST_NAME",
        "FIRST_NAME",
        "ADDRESS1",
        "ADDRESS2",
        "CITY",
        "PROVINCE",
        "POSTAL_CODE",
        "SEX",
        "BIRTHDATE",
        "ADMISS_DATE",
        "DISCH_DATE",
        "CLAIM_AMT",
        "ADJ_AMT",
        "ADJ_REASON",
        "REPORT_TITLE",
        "TITLE");
  }

  /* (non-Javadoc)
   * @see ca.bc.gov.health.report.BaseReportProcessor#transformToStoreProcParam(ca.bc.gov.health.report.model.ClaimReportViewModel)
   */
  // TODO: generic???
  public List<StoredProcQueryParams> transformToStoreProcParam(ClaimReportViewModel viewModel)
      throws HoopcException {
    return ClaimReportPLSQLTransformer.transformToStoreProcParam0014(viewModel);
  }
}
