package ca.bc.gov.health.importfile;

import java.util.*;

/*
 * Tracks a list of field errors for an import file
 */
public class FileErrors {

  private List errors = new ArrayList();

  public void add(String fieldName, int lineNo) {
    boolean found = false;
    ListIterator iterator = errors.listIterator();
    while (iterator.hasNext() && !found) {
      FieldError e = (FieldError) iterator.next();
      if (e.getFieldName().equals(fieldName)) {
        e.add(lineNo);
        found = true;
      }
    }
    if (!found) {
      errors.add(new FieldError(fieldName, lineNo));
    }
  }

  public void add(String message) {
    errors.add(message);
  }

  public List getErrors() {
    return errors;
  }

  public void clearErrors() {
    errors.clear();
  }

  public boolean hasErrors() {
    return !errors.isEmpty();
  }
}
