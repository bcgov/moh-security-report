package ca.bc.gov.health.report;

import ca.bc.gov.health.exception.HoopcException;
import ca.bc.gov.health.report.model.ClaimReportViewModel;
import ca.bc.gov.health.report.transformer.ClaimReportPLSQLTransformer;
import java.util.Arrays;
import java.util.List;

/** The Class DetlResOutReport. */
@ReportProcessorType("DETAILED-RES-OUTPATIENT")
public class DetlResOutReport extends BaseReportProcessor {

  @Override
  public String getPreprocessingSpName() {
    return "PreProcessRep0007";
  }

  @Override
  public String getViewName() {
    return "V_DETL_RES_OUT_CLAIMS_AH";
  }

  @Override
  protected Object getSortField() {
    return "HOSPITAL_NUMBER";
  }

  @Override
  protected List<String> getCsvFields() {
    return Arrays.asList(
        "HOSPITAL_NAME",
        "PROVINCE",
        "HOSPITAL_NUMBER",
        "SUBMISSION_DATE",
        "STATUS",
        "INS_CARD_NO",
        "INS_EXP_DATE",
        "PROV_CLAIM_NO",
        "HOSP_CLAIM_NO",
        "ASSOC_CLAIM_NO",
        "LAST_NAME",
        "FIRST_NAME",
        "SEX",
        "BIRTHDATE",
        "SERVICE_CODE",
        "SERVICE_DATE",
        "DIAGNOSIS_CODE",
        "PROCEDURE_CODE",
        "CLAIM_AMT",
        "ADJ_AMT",
        "HOSP_NOTES",
        "ADJ_REASON",
        "OVERRIDE_REASON",
        "INITCAP_REPORT_TYPE");
  }

  /* (non-Javadoc)
   * @see ca.bc.gov.health.report.BaseReportProcessor#transformToStoreProcParam(ca.bc.gov.health.report.model.ClaimReportViewModel)
   */
  // TODO: generic???
  public List<StoredProcQueryParams> transformToStoreProcParam(ClaimReportViewModel viewModel)
      throws HoopcException {
    return ClaimReportPLSQLTransformer.transformToStoreProcParam0007(viewModel);
  }
}
