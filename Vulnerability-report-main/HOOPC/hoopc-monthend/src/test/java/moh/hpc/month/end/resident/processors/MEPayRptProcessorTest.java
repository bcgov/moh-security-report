package moh.hpc.month.end.resident.processors;

import ca.bc.gov.health.report.model.PayReqReportViewModel;
import java.nio.file.Files;
import java.nio.file.Path;
import java.util.ArrayList;
import java.util.List;
import static org.junit.jupiter.api.Assertions.assertTrue;
import org.junit.jupiter.api.Test;

public class MEPayRptProcessorTest {

  @Test
  public void smokeTestBlankReport() throws Exception {
    List<PayReqReportViewModel> reportList = new ArrayList<>();

    PayReqReportViewModel payReq = new PayReqReportViewModel();

    reportList.add(payReq);
    byte[] pdfData = new MEPayRptProcessor().createPdfReport(reportList);

    assertTrue(new String(pdfData).contains("PDF"));

//    Path path = Files.createTempFile("smokeTestBlankReport", ".pdf");
//    Files.write(path, pdfData);
//    Process p = Runtime.getRuntime().exec("rundll32 url.dll,FileProtocolHandler " + path);
//    p.waitFor();
  }
}
