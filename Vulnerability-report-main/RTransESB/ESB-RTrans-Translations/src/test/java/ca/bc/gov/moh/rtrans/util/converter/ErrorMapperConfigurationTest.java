/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ca.bc.gov.moh.rtrans.util.converter;

import java.io.IOException;
import static junit.framework.Assert.assertEquals;
import static org.junit.Assert.assertNull;
import org.junit.BeforeClass;
import org.junit.Test;

/**
 *
 * @author trevor.schiavone
 */
public class ErrorMapperConfigurationTest {
    
    private static ErrorMapperConfiguration errorMapConfig;    
    private static String validCode;
    private static String validMessage;
    private static String validAck;
    
    private static String validCodeValue;
    private static String validMessageValue;
    private static String validAckValue;

    private static String invalidAck;
    
    @BeforeClass
    public static void setUp() throws IOException{
        
//        InputStream iStream = Thread.currentThread().getContextClassLoader().getResourceAsStream("errorMap.properties");
//        Properties errorMapProperties = new Properties();
        errorMapConfig = new ErrorMapperConfiguration();
        
//        errorMapProperties.load(iStream); 
//        errorMapConfig.setErrorMapProperties(errorMapProperties);
        
        validCode = "BCHCIM.GD.0.0013" + ".CODE";
        validMessage = "BCHCIM.GD.0.0013" + ".MESSAGE";
        validAck = "BCHCIM.GD.0.0013" + ".ACK";
        
        validCodeValue = "HJMB001I";
        validMessageValue = "SUCCESSFULLY COMPLETED";
        validAckValue = "AA";
        
        invalidAck = "TEST.GD.0.0013.ACK";      
    }
    
    @Test
    public void testErrorMapperConfiguration() {
             
        assertEquals(errorMapConfig.getLookupValue(validCode), validCodeValue);
        assertEquals(errorMapConfig.getLookupValue(validMessage), validMessageValue);
        assertEquals(errorMapConfig.getLookupValue(validAck), validAckValue);
        assertNull(errorMapConfig.getLookupValue(invalidAck));

    }
}
