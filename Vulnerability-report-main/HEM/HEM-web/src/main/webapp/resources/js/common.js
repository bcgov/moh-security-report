/* 
 * *********************************************************************************************************************
 *  Copyright (c) 2017, Ministry of Health, BC.                                                 *
 *                                                                                                                     *
 *  All rights reserved.                                                                                               *
 *    This information contained herein may not be used in whole                                                       *
 *    or in part without the express written consent of the                                                            *
 *    Government of British Columbia, Canada.                                                                          *
 *                                                                                                                     *
 *  Revision Control Information                                                                                       *
 *  File:                $Id::                                                                                       $ *
 *  Date of Last Commit: $Date::                                                                                     $ *
 *  Revision Number:     $Rev::                                                                                      $ *
 *  Last Commit by:      $Author::                                                                                   $ *
 *                                                                                                                     *
 * *********************************************************************************************************************
 */
function navbarCollapse(x) {
    $('.navbar-collapse').toggleClass('collapse');
    $('.dropdown-menu').toggleClass('display-block');
    x.classList.toggle('hamburger-change');
}

function onGovMenuClick() {
    $('div.navbar-government-header-button,.government-menu-close-button').on('click', toggleGov);
}
function toggleGov() {
    $('#government-menu').slideToggle(350, 'linear');
    $('div.navbar-government-header-button span').toggleClass('arrow-up arrow-down');
}
//<![CDATA[
// Prevent the backspace key from navigating back.
$(document).unbind('keydown').bind('keydown', function (event) {
    var doPrevent = false;
    if (event.keyCode === 8) {
        var d = event.srcElement || event.target;
        if ((d.tagName.toUpperCase() === 'INPUT' && (d.type.toUpperCase() === 'TEXT' || d.type.toUpperCase() === 'PASSWORD'))
                || d.tagName.toUpperCase() === 'TEXTAREA') {
            doPrevent = d.readOnly || d.disabled;
        } else {
            doPrevent = true;
        }
    }

    if (doPrevent) {
        event.preventDefault();
    }
});
//]]>
function disabledMultipleRowsEdition() {
    if ($('.ui-row-editing').closest('.ui-datatable-tablewrapper').find('.ui-icon-pencil').hasClass("disabled")) {
        return false;
    }
    $('.ui-row-editing').closest('.ui-datatable-tablewrapper').find('.ui-icon-pencil').each(function () {
        $(this).addClass('disabled');
    });
}

function reactivateRowsEdition() {
    $('.ui-row-editing').closest('.ui-datatable-tablewrapper').find('.ui-icon-pencil').each(function () {
        $(this).removeClass('disabled');
    });
}
