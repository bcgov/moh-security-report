<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
*********************************************************************************************************************
 Copyright (c) 2017, Ministry of Health, BC.                                                 *
                                                                                                                    *
 All rights reserved.                                                                                               *
   This information contained herein may not be used in whole                                                       *
   or in part without the express written consent of the                                                            *
   Government of British Columbia, Canada.                                                                          *
                                                                                                                    *
 Revision Control Information                                                                                       *
 File:                $Id::                                                                                       $ *
 Date of Last Commit: $Date::                                                                                     $ *
 Revision Number:     $Rev::                                                                                      $ *
 Last Commit by:      $Author::                                                                                   $ *
                                                                                                                    *
*********************************************************************************************************************
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
   
    <div class="ui-fluid">
        <h:form id="teamForm">
            <p:panelGrid id="teamPanel" columns="2"
                         columnClasses="form-column-label, form-column-data" 
                         layout="grid"
                         styleClass="ui-panelgrid-blank form-bottom">    
                
                <p:outputLabel for="teamName" 
                               value="#{bundle.TeamNameLabel}"/>                        
                <p:inputText id="teamName" 
                             required="true" 
                             requiredMessage="#{bundle.TeamNameRequiredMessage}"
                             value="#{manageTeams.selectedHemTeam.teamName}" 
                             title="#{bundle.TeamNameTooltip}">
                <f:ajax render="dialogForm:teamForm:submitBtn  teamName" execute="dialogForm:teamForm:submitBtn  teamName" event="change"/>
                 </p:inputText>
                
                <p:outputLabel for="teamEmail" 
                               value="#{bundle.TeamEmailLabel}"/>                        
                <p:inputText id="teamEmail" 
                             required="true" 
                             requiredMessage="#{bundle.TeamEmailRequiredMessage}"
                             value="#{manageTeams.selectedHemTeam.teamEmail}" 
                             title="#{bundle.TeamEmailTooltip}">
                <f:ajax render="dialogForm:teamForm:submitBtn  teamEmail" execute="dialogForm:teamForm:submitBtn  teamEmail" event="change"/>
                 </p:inputText>
                <p:outputLabel for="teamMembers" 
                               value="Members"/>
                <p:selectCheckboxMenu id="teamMembers" 
                                      value="#{manageTeams.selectedHemTeam.teamMembers}"
                                      multiple="true"
                                      label="Select Members"
                                      filter="true"
                                      filterMatchMode="contains"
                                      requiredMessage="Please select members"
                                      title="Members"
                                      style="width:96%;">
                    <f:selectItems 
                        var="item"
                        value="#{manageTeams.hemChangeImplementerList}"
                        itemLabel="#{item.userName}" /> 
                </p:selectCheckboxMenu>
                
            </p:panelGrid>
            <div align="left">
                <p:commandButton id="submitBtn" 
                                 value="Save"
                                 type="submit"
                                 action="#{manageTeams.saveNewEntity()}"
                                 update="teamPanel,growl"
                                 ajax="true"
                                 disabled="#{!manageTeams.allRequiredFieldsFilled()}"
                                 >
                <f:ajax event="click" listener="#{manageTeams.saveNewEntity()}" onevent="PF('formTeam').update"/>
                </p:commandButton>
                <p:commandButton value="#{bundle.ResetLabel}" 
                                 title="#{bundle.ResetTooltip}"
                                 process="@this">
                    <p:ajax update="teamForm:teamPanel" resetValues="true"/>
                </p:commandButton>
            </div>
        </h:form>
    </div>
</ui:composition>
