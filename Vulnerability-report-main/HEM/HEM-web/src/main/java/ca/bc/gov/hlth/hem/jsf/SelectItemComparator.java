/*
 * *********************************************************************************************************************
 *  Copyright (c) 2017, Ministry of Health, BC.                                                 *
 *                                                                                                                     *
 *  All rights reserved.                                                                                               *
 *    This information contained herein may not be used in whole                                                       *
 *    or in part without the express written consent of the                                                            *
 *    Government of British Columbia, Canada.                                                                          *
 *                                                                                                                     *
 *  Revision Control Information                                                                                       *
 *  File:                $Id::                                                                                       $ *
 *  Date of Last Commit: $Date::                                                                                     $ *
 *  Revision Number:     $Rev::                                                                                      $ *
 *  Last Commit by:      $Author::                                                                                   $ *
 *                                                                                                                     *
 * *********************************************************************************************************************
 */
package ca.bc.gov.hlth.hem.jsf;

import java.io.Serializable;
import java.util.Comparator;
import javax.faces.model.SelectItem;

/**
 * Comparator to sort SelectItem while avoiding NullPointerExceptions.
 * 
 * @author CGI Information Management Consultants Inc.
 */
public class SelectItemComparator implements Comparator<SelectItem>, Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * Compares its two arguments for order. Returns a negative integer, zero, or a positive integer as the first 
     * argument is less than, equal to, or greater than the second.

     * Even though our code tables restrict null DESCRIPTION_TXT values at the database level, null checks were added 
     * to attempt to avoid the NullPointerExceptions that were occurring as part of defect ALM-268. These NPE's may also 
     * have been the result of a "Class ca.bc.gov.health.surf.web.CprpDetails defines non-transient non-serializable 
     * instance field comparator" which was identified by FindBugs. This Comparator used to reside in the 
     * ca.bc.gov.health.surf.web.CprpDetails class but duplicate code also existed in 
     * ca.bc.gov.health.surf.web.AppFormsLauncher.
     *
     * @param o1 the first SelectItem to be compared.
     * @param o2 the second SelectItem to be compared.
     */
    @Override
    public int compare(SelectItem o1, SelectItem o2) {

        if (o1 == null) {
            o1 = new SelectItem();
        }
        if (o1.getLabel() == null) {
            o1.setLabel("");
        }
        if (o2 == null) {
            o2 = new SelectItem();
        }
        if (o2.getLabel() == null) {
            o2.setLabel("");
        }
        return o1.getLabel().compareTo(o2.getLabel());
    }
}

