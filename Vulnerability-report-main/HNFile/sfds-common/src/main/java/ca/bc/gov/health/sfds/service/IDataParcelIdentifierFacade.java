package ca.bc.gov.health.sfds.service;

import ca.bc.gov.health.sfds.dto.BulletinDto;
import jakarta.ejb.Local;

/**
 * Facade for Data Parcel Identifier
 *
 * @author vladimir.dovgalyuk
 */
@Local
public interface IDataParcelIdentifierFacade {

    /**
     * Retrieve Parcel Identifier internal ID by its context code and parent ID If the identifier does not exist, create
     * it.
     *
     * @param code Context code id
     * @param parentDataParcelIdentifier ID of the parent Parcel Identifier, can be null
     * @param userId Authenticated user
     * @return Parcel Identifier internal ID
     */
    public Long getIdByContextIdCode(String code, Long parentDataParcelIdentifier, String userId);

    /**
     * Retrieve Parcel Identifier internal ID for the context parenting all bulletins
     *
     * @return BULLETINS context ID
     */
    public Long getBulletinContextId();

    /**
     * Retrieve Parcel Identifier internal ID for the context parenting sending uses
     *
     * @return USER FILES context ID
     */
    public Long getUserFilesContextId();

    /**
     * Create new DataParcelIdentifier for a new bulletin
     *
     * @param bulletin Bulletin DTO
     * @param user Authenticated user
     * @return New DataParcelIdentifier ID
     */
    public Long createParcelIdentifier(BulletinDto bulletin, String user);

    /**
     * Update existing DataParcelIdentifier
     *
     * @param id DataParcelIdentifier Id
     * @param use Parent use
     * @param user Authenticated user
     * @return true if update was successful, false if DPI with the same code and parent ID exists
     */
    public boolean updateParcelIdentifier(Long id, String use, String user);

    /**
     * Delete existing DataParcelIdentifier
     *
     * @param id DataParcelIdentifier Id
     */
    public void deleteParcelIdentifier(Long id);

}
