package ca.bc.gov.health.sfds.session;

import jakarta.persistence.EntityManager;
import jakarta.persistence.EntityManagerFactory;
import jakarta.persistence.Persistence;
import org.junit.AfterClass;
import static org.junit.Assert.assertNotNull;
import org.junit.BeforeClass;

public abstract class AbstractFacadeTest {

  protected static EntityManagerFactory entityManagerFactory;
  protected static EntityManager entityManager;
  
  protected static final String JUNIT_USER = "JUnit User";
  
  protected static final String bulletinExternalIdentifier = "JUNITTEST";
  protected static final String bulletinContext = "JUNITTEST";
  
  @BeforeClass
  public static void setUpClass() {
    entityManagerFactory = Persistence.createEntityManagerFactory("sfds_pu_test");
    entityManager = entityManagerFactory.createEntityManager();
    assertNotNull(entityManager);
  }

  @AfterClass
  public static void tearDownClass() {
    if (entityManager != null) {
      entityManager.close();
    }
    if (entityManagerFactory != null) {
      entityManagerFactory.close();
    }
  }
}
